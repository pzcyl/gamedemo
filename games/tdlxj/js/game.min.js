var requirejs,require,define;(function(c){function b(a){return"[object Function]"===F.call(a)}function a(a){return"[object Array]"===F.call(a)}function d(a,d){if(a){var b;for(b=0;b<a.length&&(!a[b]||!d(a[b],b,a));b+=1);}}function h(a,d){if(a){var b;for(b=a.length-1;-1<b&&(!a[b]||!d(a[b],b,a));--b);}}function f(a,d){return K.call(a,d)}function e(a,d){return f(a,d)&&a[d]}function g(a,d){for(var b in a)if(f(a,b)&&d(a[b],b))break}function k(d,h,c,e){return h&&g(h,function(h,g){if(c||!f(d,g))!e||"object"!=typeof h||!h||a(h)||b(h)||h instanceof RegExp?d[g]=h:(d[g]||(d[g]={}),k(d[g],h,c,e))}),d}function l(a,d){return function(){return d.apply(a,arguments)}}function m(a){throw a;}function n(a){if(!a)return a;var b=c;return d(a.split("."),function(a){b=b[a]}),b}function r(a,d,b,h){d=Error(d+"\nhttp://requirejs.org/docs/errors.html#"+a);return d.requireType=a,d.requireModules=h,b&&(d.originalError=b),d}function q(I){function M(a,d,b){var h,c,f,g,k,l,m,n,I=d&&d.split("/");c=I;var r=E.map,p=r&&r["*"];if(a&&"."===a.charAt(0))if(d){c=I.slice(0,I.length-1);a=a.split("/");d=a.length-1;E.nodeIdCompat&&N.test(a[d])&&(a[d]=a[d].replace(N,""));c=a=c.concat(a);g=c.length;for(d=0;d<g;d++)if(f=c[d],"."===f)c.splice(d,1),--d;else if(".."===f){if(1===d&&(".."===c[2]||".."===c[0]))break;0<d&&(c.splice(d-1,2),d-=2)}a=a.join("/")}else 0===a.indexOf("./")&&(a=a.substring(2));if(b&&r&&(I||p)){c=a.split("/");d=c.length;a:for(;0<d;--d){g=c.slice(0,d).join("/");if(I)for(f=I.length;0<f;--f)if(b=e(r,I.slice(0,f).join("/")))if(b=e(b,g)){k=b;l=d;break a}!m&&p&&e(p,g)&&(m=e(p,g),n=d)}!k&&m&&(k=m,l=n);k&&(c.splice(0,l,k),a=c.join("/"))}return h=e(E.pkgs,a),h?h:a}function q(a){A&&d(document.getElementsByTagName("script"),function(d){if(d.getAttribute("data-requiremodule")===a&&d.getAttribute("data-requirecontext")===C.contextName)return d.parentNode.removeChild(d),!0})}function t(d){var b=e(E.paths,d);if(b&&a(b)&&1<b.length)return b.shift(),C.require.undef(d),C.require([d]),!0}function v(a){var d,b=a?a.indexOf("!"):-1;return-1<b&&(d=a.substring(0,b),a=a.substring(b+1,a.length)),[d,a]}function D(a,d,b,h){var c,f,g,k,l=null,m=d?d.name:null,I=a,n=!0,r="";return a||(n=!1,a="_@r"+(fa+=1)),k=v(a),l=k[0],a=k[1],l&&(l=M(l,m,h),f=e(P,l)),a&&(l?f&&f.normalize?r=f.normalize(a,function(a){return M(a,m,h)}):r=M(a,m,h):(r=M(a,m,h),k=v(r),l=k[0],r=k[1],b=!0,c=C.nameToUrl(r))),g=!l||f||b?"":"_unnormalized"+(ga+=1),{prefix:l,name:r,parentMap:d,unnormalized:!!g,url:c,originalName:I,isDefine:n,id:(l?l+"!"+r:r)+g}}function w(a){var d=a.id,b=e(J,d);return b||(b=J[d]=new C.Module(a)),b}function H(a,d,b){var h=a.id,c=e(J,h);!f(P,h)||c&&!c.defineEmitComplete?(c=w(a),c.error&&"error"===d?b(c.error):c.on(d,b)):"defined"===d&&b(P[h])}function x(a,b){var h=a.requireModules,c=!1;b?b(a):(d(h,function(d){(d=e(J,d))&&(d.error=a,d.events.error&&(c=!0,d.emit("error",a)))}),c||u.onError(a))}function y(){W.length&&(R.apply(S,[S.length,0].concat(W)),W=[])}function B(a){delete J[a];delete Z[a]}function z(a,b,h){var c=a.map.id;a.error?a.emit("error",a.error):(b[c]=!0,d(a.depMaps,function(d,c){var f=d.id,g=e(J,f);g&&!a.depMatched[c]&&!h[f]&&(e(b,f)?(a.defineDep(c,P[f]),a.check()):z(g,b,h))}),h[c]=!0)}function L(){var a,b,h=1E3*E.waitSeconds,c=h&&C.startTime+h<(new Date).getTime(),f=[],e=[],k=!1,l=!0;if(!aa){aa=!0;g(Z,function(a){var d=a.map,h=d.id;if(a.enabled&&(d.isDefine||e.push(a),!a.error))if(!a.inited&&c)t(h)?(b=!0,k=!0):(f.push(h),q(h));else if(!a.inited&&a.fetched&&d.isDefine&&(k=!0,!d.prefix))return l=!1});if(c&&f.length)return a=r("timeout","Load timeout for modules: "+f,null,f),a.contextName=C.contextName,x(a);l&&d(e,function(a){z(a,{},{})});c&&!b||!k||!A&&!G||ba||(ba=setTimeout(function(){ba=0;L()},50));aa=!1}}function F(a){f(P,a[0])||w(D(a[0],null,!0)).init(a[1],a[2])}function O(a){a=a.currentTarget||a.srcElement;var d=C.onScriptLoad;a.detachEvent&&!T?a.detachEvent("onreadystatechange",d):a.removeEventListener("load",d,!1);d=C.onScriptError;a.detachEvent&&!T||a.removeEventListener("error",d,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function K(){var a;for(y();S.length;){a=S.shift();if(null===a[0])return null;F(a)}}var aa,ca,C,U,ba,E={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},J={},Z={},da={},S=[],P={},X={},ea={},fa=1,ga=1;return U={require:function(a){return a.require?a.require:a.require=C.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?a.exports:a.exports=P[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return e(E.config,a.map.id)||{}},exports:U.exports(a)}}},ca=function(a){this.events=e(da,a.id)||{};this.map=a;this.shim=e(E.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0},ca.prototype={init:function(a,d,b,h){h=h||{};this.inited||(this.factory=d,b?this.on("error",b):this.events.error&&(b=l(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=b,this.inited=!0,this.ignore=h.ignore,h.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,d){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=d)},fetch:function(){if(!this.fetched){this.fetched=!0;C.startTime=(new Date).getTime();var a=this.map;if(!this.shim)return a.prefix?this.callPlugin():this.load();C.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],l(this,function(){return a.prefix?this.callPlugin():this.load()}))}},load:function(){var a=this.map.url;X[a]||(X[a]=!0,C.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,d,h=this.map.id,c=this.depExports,f=this.exports,e=this.factory;if(!this.inited)this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(b(e)){if(this.events.error&&this.map.isDefine||u.onError!==m)try{f=C.execCb(h,e,c,f)}catch(g){a=g}else f=C.execCb(h,e,c,f);this.map.isDefine&&void 0===f&&(d=this.module,d?f=d.exports:this.usingExports&&(f=this.exports));if(a)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",x(this.error=a)}else f=e;this.exports=f;this.map.isDefine&&!this.ignore&&(P[h]=f,u.onResourceLoad&&u.onResourceLoad(C,this.map,this.depMaps));B(h);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,d=a.id,b=D(a.prefix);this.depMaps.push(b);H(b,"defined",l(this,function(b){var h,c;c=e(ea,this.map.id);var k=this.map.name,m=this.map.parentMap?this.map.parentMap.name:null,n=C.makeRequire(a.parentMap,{enableBuildCallback:!0});this.map.unnormalized?(b.normalize&&(k=b.normalize(k,function(a){return M(a,m,!0)})||""),b=D(a.prefix+"!"+k,this.map.parentMap),H(b,"defined",l(this,function(a){this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),(c=e(J,b.id))&&(this.depMaps.push(b),this.events.error&&c.on("error",l(this,function(a){this.emit("error",a)})),c.enable())):c?(this.map.url=C.nameToUrl(c),this.load()):(h=l(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),h.error=l(this,function(a){this.inited=!0;this.error=a;a.requireModules=[d];g(J,function(a){0===a.map.id.indexOf(d+"_unnormalized")&&B(a.map.id)});x(a)}),h.fromText=l(this,function(b,c){var e=a.name,g=D(e),k=V;c&&(b=c);k&&(V=!1);w(g);f(E.config,d)&&(E.config[e]=E.config[d]);try{u.exec(b)}catch(l){return x(r("fromtexteval","fromText eval for "+d+" failed: "+l,l,[d]))}k&&(V=!0);this.depMaps.push(g);C.completeLoad(e);n([e],h)}),b.load(a.name,n,h,E))}));C.enable(b,this);this.pluginMaps[b.id]=b},enable:function(){Z[this.map.id]=this;this.enabling=this.enabled=!0;d(this.depMaps,l(this,function(a,d){var b,h;if("string"==typeof a){a=D(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[d]=a;if(b=e(U,a.id)){this.depExports[d]=b(this);return}this.depCount+=1;H(a,"defined",l(this,function(a){this.defineDep(d,a);this.check()}));this.errback&&H(a,"error",l(this,this.errback))}b=a.id;h=J[b];!f(U,b)&&h&&!h.enabled&&C.enable(a,this)}));g(this.pluginMaps,l(this,function(a){var d=e(J,a.id);d&&!d.enabled&&C.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,d){var b=this.events[a];b||(b=this.events[a]=[]);b.push(d)},emit:function(a,b){d(this.events[a],function(a){a(b)});"error"===a&&delete this.events[a]}},C={config:E,contextName:I,registry:J,defined:P,urlFetched:X,defQueue:S,Module:ca,makeModuleMap:D,nextTick:u.nextTick,onError:x,configure:function(b){b.baseUrl&&"/"!==b.baseUrl.charAt(b.baseUrl.length-1)&&(b.baseUrl+="/");var h=E.shim,c={paths:!0,bundles:!0,config:!0,map:!0};g(b,function(a,d){c[d]?(E[d]||(E[d]={}),k(E[d],a,!0,!0)):E[d]=a});b.bundles&&g(b.bundles,function(a,b){d(a,function(a){a!==b&&(ea[a]=b)})});b.shim&&(g(b.shim,function(d,b){a(d)&&(d={deps:d});(d.exports||d.init)&&!d.exportsFn&&(d.exportsFn=C.makeShimExports(d));h[b]=d}),E.shim=h);b.packages&&d(b.packages,function(a){var d;a="string"==typeof a?{name:a}:a;d=a.name;a.location&&(E.paths[d]=a.location);E.pkgs[d]=a.name+"/"+(a.main||"main").replace(Q,"").replace(N,"")});g(J,function(a,d){a.inited||a.map.unnormalized||(a.map=D(d))});(b.deps||b.callback)&&C.require(b.deps||[],b.callback)},makeShimExports:function(a){return function(){var d;return a.init&&(d=a.init.apply(c,arguments)),d||a.exports&&n(a.exports)}},makeRequire:function(a,d){function c(h,e,g){var k,l,m;return d.enableBuildCallback&&e&&b(e)&&(e.__requireJsBuild=!0),"string"==typeof h?b(e)?x(r("requireargs","Invalid require call"),g):a&&f(U,h)?U[h](J[a.id]):u.get?u.get(C,h,a,c):(l=D(h,a,!1,!0),k=l.id,f(P,k)?P[k]:x(r("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+I+(a?"":". Use require([])")))):(K(),C.nextTick(function(){K();m=w(D(null,a));m.skipMap=d.skipMap;m.init(h,e,g,{enabled:!0});L()}),c)}return d=d||{},k(c,{isBrowser:A,toUrl:function(d){var b,h=d.lastIndexOf("."),c=d.split("/")[0];return-1!==h&&(!("."===c||".."===c)||1<h)&&(b=d.substring(h,d.length),d=d.substring(0,h)),C.nameToUrl(M(d,a&&a.id,!0),b,!0)},defined:function(d){return f(P,D(d,a,!1,!0).id)},specified:function(d){return d=D(d,a,!1,!0).id,f(P,d)||f(J,d)}}),a||(c.undef=function(d){y();var b=D(d,a,!0),c=e(J,d);q(d);delete P[d];delete X[b.url];delete da[d];h(S,function(a,b){a[0]===d&&S.splice(b,1)});c&&(c.events.defined&&(da[d]=c.events),B(d))}),c},enable:function(a){e(J,a.id)&&w(a).enable()},completeLoad:function(a){var d,b,h=e(E.shim,a)||{},c=h.exports;for(y();S.length;){b=S.shift();if(null===b[0]){b[0]=a;if(d)break;d=!0}else b[0]===a&&(d=!0);F(b)}b=e(J,a);if(!d&&!f(P,a)&&b&&!b.inited){if(E.enforceDefine&&(!c||!n(c)))return t(a)?void 0:x(r("nodefine","No define call for "+a,null,[a]));F([a,h.deps||[],h.exportsFn])}L()},nameToUrl:function(d,b,h){var c,f,g;(c=e(E.pkgs,d))&&(d=c);if(c=e(ea,d))return C.nameToUrl(c,b,h);if(u.jsExtRegExp.test(d))c=d+(b||"");else{c=E.paths;d=d.split("/");for(f=d.length;0<f;--f)if(g=d.slice(0,f).join("/"),g=e(c,g)){a(g)&&(g=g[0]);d.splice(0,f,g);break}c=d.join("/");c+=b||(/^data\:|\?/.test(c)||h?"":".js");c=("/"===c.charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":E.baseUrl)+c}return E.urlArgs?c+((-1===c.indexOf("?")?"?":"\x26")+E.urlArgs):c},load:function(a,d){u.load(C,a,d)},execCb:function(a,d,b,h){return d.apply(h,b)},onScriptLoad:function(a){if("load"===a.type||Y.test((a.currentTarget||a.srcElement).readyState))p=null,a=O(a),C.completeLoad(a.id)},onScriptError:function(a){var d=O(a);if(!t(d.id))return x(r("scripterror","Script error for: "+d.id,a,[d.id]))}},C.require=C.makeRequire(),C}function t(){return p&&"interactive"===p.readyState?p:(h(document.getElementsByTagName("script"),function(a){if("interactive"===a.readyState)return p=a}),p)}var u,w,v,x,y,B,p,z,D,H,L=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/mg,O=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,N=/\.js$/,Q=/^\.\//;w=Object.prototype;var F=w.toString,K=w.hasOwnProperty,R=Array.prototype.splice,A="undefined"!=typeof window&&"undefined"!=typeof navigator&&!!window.document,G=!A&&"undefined"!=typeof importScripts,Y=A&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,T="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),I={},M={},W=[],V=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(b(requirejs))return;M=requirejs;requirejs=void 0}"undefined"!=typeof require&&!b(require)&&(M=require,require=void 0);u=requirejs=function(d,b,h,c){var f,g,k="_";return!a(d)&&"string"!=typeof d&&(g=d,a(b)?(d=b,b=h,h=c):d=[]),g&&g.context&&(k=g.context),f=e(I,k),f||(f=I[k]=u.s.newContext(k)),g&&f.configure(g),f.require(d,b,h)};u.config=function(a){return u(a)};u.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()};require||(require=u);u.version="2.1.10";u.jsExtRegExp=/^\/|:|\?|\.js$/;u.isBrowser=A;w=u.s={contexts:I,newContext:q};u({});d(["toUrl","undef","defined","specified"],function(a){u[a]=function(){var d=I._;return d.require[a].apply(d,arguments)}});A&&(v=w.head=document.getElementsByTagName("head")[0],x=document.getElementsByTagName("base")[0],x&&(v=w.head=x.parentNode));u.onError=m;u.createNode=function(a,d,b){d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d};u.load=function(a,d,b){var h=a&&a.config||{},c;if(A)return c=u.createNode(h,d,b),c.setAttribute("data-requirecontext",a.contextName),c.setAttribute("data-requiremodule",d),!c.attachEvent||c.attachEvent.toString&&0>c.attachEvent.toString().indexOf("[native code")||T?(c.addEventListener("load",a.onScriptLoad,!1),c.addEventListener("error",a.onScriptError,!1)):(V=!0,c.attachEvent("onreadystatechange",a.onScriptLoad)),c.src=b,z=c,x?v.insertBefore(c,x):v.appendChild(c),z=null,c;if(G)try{importScripts(b),a.completeLoad(d)}catch(f){a.onError(r("importscripts","importScripts failed for "+d+" at "+b,f,[d]))}};A&&!M.skipDataMain&&h(document.getElementsByTagName("script"),function(a){v||(v=a.parentNode);if(y=a.getAttribute("data-main"))return D=y,M.baseUrl||(B=D.split("/"),D=B.pop(),H=B.length?B.join("/")+"/":"./",M.baseUrl=H),D=D.replace(N,""),u.jsExtRegExp.test(D)&&(D=y),M.deps=M.deps?M.deps.concat(D):[D],!0});define=function(d,h,c){var f,e;"string"!=typeof d&&(c=h,h=d,d=null);a(h)||(c=h,h=null);!h&&b(c)&&(h=[],c.length&&(c.toString().replace(L,"").replace(O,function(a,d){h.push(d)}),h=(1===c.length?["require"]:["require","exports","module"]).concat(h)));V&&(f=z||t(),f&&(d||(d=f.getAttribute("data-requiremodule")),e=I[f.getAttribute("data-requirecontext")]));(e?e.defQueue:W).push([d,h,c])};define.amd={jQuery:!0};u.exec=function(a){return eval(a)};u(M)}})(this);define("requireLib",function(){});var viewporter;(function(){var c;viewporter={forceDetection:!1,disableLegacyAndroid:!0,ACTIVE:function(){return viewporter.disableLegacyAndroid&&/android 2/i.test(navigator.userAgent)?!1:/ipad/i.test(navigator.userAgent)?!1:/webos/i.test(navigator.userAgent)?!0:"ontouchstart"in window?!0:!1},READY:!1,isLandscape:function(){return 90===window.orientation||-90===window.orientation},ready:function(a){window.addEventListener("viewportready",a,!1)},change:function(a){window.addEventListener("viewportchange",a,!1)},refresh:function(){c&&c.prepareVisualViewport()},preventPageScroll:function(){document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1);document.body.addEventListener("touchstart",function(){c.prepareVisualViewport()},!1)}};viewporter.ACTIVE=viewporter.ACTIVE();if(viewporter.ACTIVE){var b=function(){var a=this;this.IS_ANDROID=/Android/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent);var d=function(){a.prepareVisualViewport();var d=window.orientation;window.addEventListener("orientationchange",function(){window.orientation!==d&&(a.prepareVisualViewport(),d=window.orientation)},!1)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){d()},!1):d()};b.prototype={getProfile:function(){if(viewporter.forceDetection)return null;for(var a in viewporter.profiles)if((new RegExp(a)).test(navigator.userAgent))return viewporter.profiles[a];return null},postProcess:function(){viewporter.READY=!0;this.triggerWindowEvent(this._firstUpdateExecuted?"viewportchange":"viewportready");this._firstUpdateExecuted=!0},prepareVisualViewport:function(){var a=this;if(navigator.standalone)return this.postProcess();document.documentElement.style.minHeight="5000px";var d=window.innerHeight,b=this.getProfile(),c=viewporter.isLandscape()?"landscape":"portrait";window.scrollTo(0,a.IS_ANDROID?1:0);var e=40,g=window.setInterval(function(){window.scrollTo(0,a.IS_ANDROID?1:0);e--;if((a.IS_ANDROID?b&&window.innerHeight===b[c]:window.innerHeight>d)||0>e)document.documentElement.style.minHeight=window.innerHeight+"px",document.getElementById("viewporter").style.position="relative",document.getElementById("viewporter").style.height=window.innerHeight+"px",clearInterval(g),a.postProcess()},10)},triggerWindowEvent:function(a){var d=document.createEvent("Event");d.initEvent(a,!1,!1);window.dispatchEvent(d)}};c=new b}})();viewporter.profiles={MZ601:{portrait:696,landscape:1176},"GT-I9000|GT-I9100|Nexus S":{portrait:508,landscape:295},"GT-P1000":{portrait:657,landscape:400},"Desire_A8181|DesireHD_A9191":{portrait:533,landscape:320}};define("viewporter",function(c){return function(){return c.viewporter}}(this));this.createjs=this.createjs||{};(function(){var c=function(a,d,b){this.initialize(a,d,b)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,d,b){this.type=a;this.bubbles=d;this.cancelable=b;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type\x3d"+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){var c=function(){},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,d,b){var c;b?c=this._captureListeners=this._captureListeners||{}:c=this._listeners=this._listeners||{};var e=c[a];return e&&this.removeEventListener(a,d,b),e=c[a],e?e.push(d):c[a]=[d],d};b.on=function(a,d,b,c,e,g){return d.handleEvent&&(b=b||d,d=d.handleEvent),b=b||this,this.addEventListener(a,function(a){d.call(b,a,e);c&&a.remove()},g)};b.removeEventListener=function(a,d,b){if(b=b?this._captureListeners:this._listeners){var c=b[a];if(c)for(var e=0,g=c.length;e<g;e++)if(c[e]==d){1==g?delete b[a]:c.splice(e,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,d){if("string"==typeof a){var b=this._listeners;if(!b||!b[a])return!1;a=new createjs.Event(a)}a.target=d||this;if(a.bubbles&&this.parent){for(var c=this,b=[c];c.parent;)b.push(c=c.parent);for(var e=b.length,c=e-1;0<=c&&!a.propagationStopped;c--)b[c]._dispatchEvent(a,1+(0==c));for(c=1;c<e&&!a.propagationStopped;c++)b[c]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var d=this._listeners,b=this._captureListeners;return!!(d&&d[a]||b&&b[a])};b.willTrigger=function(a){for(var d=this;d;){if(d.hasEventListener(a))return!0;d=d.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,d){var b,c=1==d?this._captureListeners:this._listeners;if(a&&c&&(c=c[a.type])&&(b=c.length)){a.currentTarget=this;a.eventPhase=d;a.removed=!1;for(var c=c.slice(),e=0;e<b&&!a.immediatePropagationStopped;e++){var g=c[e];g.handleEvent?g.handleEvent(a):g(a);a.removed&&(this.off(a.type,g,1==d),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,b){for(var a=0,d=c.length;a<d;a++)if(b===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){var c=function(){throw"UID cannot be instantiated";};c._nextID=0;c.get=function(){return c._nextID++};createjs.UID=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"Ticker cannot be instantiated.";};c.RAF_SYNCHED="synched";c.RAF="raf";c.TIMEOUT="timeout";c.useRAF=!1;c.timingMode=null;c.maxDelta=0;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._addEventListener=c.addEventListener;c.addEventListener=function(){return!c._inited&&c.init(),c._addEventListener.apply(c,arguments)};c._paused=!1;c._inited=!1;c._startTime=0;c._pausedTime=0;c._ticks=0;c._pausedTicks=0;c._interval=50;c._lastTime=0;c._times=null;c._tickTimes=null;c._timerId=null;c._raf=!0;c.init=function(){c._inited||(c._inited=!0,c._times=[],c._tickTimes=[],c._startTime=c._getTime(),c._times.push(c._lastTime=0),c.setInterval(c._interval))};c.reset=function(){if(c._raf){var a=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame;a&&a(c._timerId)}else clearTimeout(c._timerId);c.removeAllEventListeners("tick")};c.setInterval=function(a){c._interval=a;c._inited&&c._setupTick()};c.getInterval=function(){return c._interval};c.setFPS=function(a){c.setInterval(1E3/a)};c.getFPS=function(){return 1E3/c._interval};c.getMeasuredTickTime=function(a){var d=0,b=c._tickTimes;if(1>b.length)return-1;a=Math.min(b.length,a||c.getFPS()|0);for(var f=0;f<a;f++)d+=b[f];return d/a};c.getMeasuredFPS=function(a){var d=c._times;return 2>d.length?-1:(a=Math.min(d.length-1,a||c.getFPS()|0),1E3/((d[0]-d[a])/a))};c.setPaused=function(a){c._paused=a};c.getPaused=function(){return c._paused};c.getTime=function(a){return c._getTime()-c._startTime-(a?c._pausedTime:0)};c.getEventTime=function(a){return(c._lastTime||c._startTime)-(a?c._pausedTime:0)};c.getTicks=function(a){return c._ticks-(a?c._pausedTicks:0)};c._handleSynch=function(){var a=c._getTime()-c._startTime;c._timerId=null;c._setupTick();a-c._lastTime>=.97*(c._interval-1)&&c._tick()};c._handleRAF=function(){c._timerId=null;c._setupTick();c._tick()};c._handleTimeout=function(){c._timerId=null;c._setupTick();c._tick()};c._setupTick=function(){if(null==c._timerId){var a=c.timingMode||c.useRAF&&c.RAF_SYNCHED;if(a==c.RAF_SYNCHED||a==c.RAF){var d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;if(d){c._timerId=d(a==c.RAF?c._handleRAF:c._handleSynch);c._raf=!0;return}}c._raf=!1;c._timerId=setTimeout(c._handleTimeout,c._interval)}};c._tick=function(){var a=c._getTime()-c._startTime,d=a-c._lastTime,b=c._paused;c._ticks++;b&&(c._pausedTicks++,c._pausedTime+=d);c._lastTime=a;if(c.hasEventListener("tick")){var f=new createjs.Event("tick"),e=c.maxDelta;f.delta=e&&d>e?e:d;f.paused=b;f.time=a;f.runTime=a-c._pausedTime;c.dispatchEvent(f)}for(c._tickTimes.unshift(c._getTime()-a);100<c._tickTimes.length;)c._tickTimes.pop();for(c._times.unshift(a);100<c._times.length;)c._times.pop()};var b=window.performance&&(performance.now||performance.mozNow||performance.msNow||performance.oNow||performance.webkitNow);c._getTime=function(){return b&&b.call(performance)||(new Date).getTime()};createjs.Ticker=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d,b,c,e,g,k,l,m,n){this.initialize(a,d,b,c,e,g,k,l,m,n)},b=c.prototype=new createjs.Event;b.stageX=0;b.stageY=0;b.rawX=0;b.rawY=0;b.nativeEvent=null;b.pointerID=0;b.primary=!1;b.addEventListener=null;b.removeEventListener=null;b.removeAllEventListeners=null;b.dispatchEvent=null;b.hasEventListener=null;b._listeners=null;createjs.EventDispatcher.initialize(b);b._get_localX=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).x};b._get_localY=function(){return this.currentTarget.globalToLocal(this.rawX,this.rawY).y};try{Object.defineProperties(b,{localX:{get:b._get_localX},localY:{get:b._get_localY}})}catch(a){}b.Event_initialize=b.initialize;b.initialize=function(a,d,b,c,e,g,k,l,m,n){this.Event_initialize(a,d,b);this.stageX=c;this.stageY=e;this.nativeEvent=g;this.pointerID=k;this.primary=l;this.rawX=null==m?c:m;this.rawY=null==n?e:n};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable,this.stageX,this.stageY,this.target,this.nativeEvent,this.pointerID,this.primary,this.rawX,this.rawY)};b.toString=function(){return"[MouseEvent (type\x3d"+this.type+" stageX\x3d"+this.stageX+" stageY\x3d"+this.stageY+")]"};createjs.MouseEvent=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d,b,c,e,g){this.initialize(a,d,b,c,e,g)},b=c.prototype;c.identity=null;c.DEG_TO_RAD=Math.PI/180;b.a=1;b.b=0;b.c=0;b.d=1;b.tx=0;b.ty=0;b.alpha=1;b.shadow=null;b.compositeOperation=null;b.initialize=function(a,d,b,c,e,g){return this.a=null==a?1:a,this.b=d||0,this.c=b||0,this.d=null==c?1:c,this.tx=e||0,this.ty=g||0,this};b.prepend=function(a,d,b,c,e,g){var k=this.tx;if(1!=a||0!=d||0!=b||1!=c){var l=this.a,m=this.c;this.a=l*a+this.b*b;this.b=l*d+this.b*c;this.c=m*a+this.d*b;this.d=m*d+this.d*c}return this.tx=k*a+this.ty*b+e,this.ty=k*d+this.ty*c+g,this};b.append=function(a,d,b,c,e,g){var k=this.a,l=this.b,m=this.c,n=this.d;return this.a=a*k+d*m,this.b=a*l+d*n,this.c=b*k+c*m,this.d=b*l+c*n,this.tx=e*k+g*m+this.tx,this.ty=e*l+g*n+this.ty,this};b.prependMatrix=function(a){return this.prepend(a.a,a.b,a.c,a.d,a.tx,a.ty),this.prependProperties(a.alpha,a.shadow,a.compositeOperation),this};b.appendMatrix=function(a){return this.append(a.a,a.b,a.c,a.d,a.tx,a.ty),this.appendProperties(a.alpha,a.shadow,a.compositeOperation),this};b.prependTransform=function(a,d,b,f,e,g,k,l,m){if(e%360){var n=e*c.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;if(l||m)this.tx-=l,this.ty-=m;return g||k?(g*=c.DEG_TO_RAD,k*=c.DEG_TO_RAD,this.prepend(e*b,n*b,-n*f,e*f,0,0),this.prepend(Math.cos(k),Math.sin(k),-Math.sin(g),Math.cos(g),a,d)):this.prepend(e*b,n*b,-n*f,e*f,a,d),this};b.appendTransform=function(a,d,b,f,e,g,k,l,m){if(e%360){var n=e*c.DEG_TO_RAD;e=Math.cos(n);n=Math.sin(n)}else e=1,n=0;g||k?(g*=c.DEG_TO_RAD,k*=c.DEG_TO_RAD,this.append(Math.cos(k),Math.sin(k),-Math.sin(g),Math.cos(g),a,d),this.append(e*b,n*b,-n*f,e*f,0,0)):this.append(e*b,n*b,-n*f,e*f,a,d);if(l||m)this.tx-=l*this.a+m*this.c,this.ty-=l*this.b+m*this.d;return this};b.rotate=function(a){var d=Math.cos(a);a=Math.sin(a);var b=this.a,c=this.c,e=this.tx;return this.a=b*d-this.b*a,this.b=b*a+this.b*d,this.c=c*d-this.d*a,this.d=c*a+this.d*d,this.tx=e*d-this.ty*a,this.ty=e*a+this.ty*d,this};b.skew=function(a,d){return a*=c.DEG_TO_RAD,d*=c.DEG_TO_RAD,this.append(Math.cos(d),Math.sin(d),-Math.sin(a),Math.cos(a),0,0),this};b.scale=function(a,d){return this.a*=a,this.d*=d,this.c*=a,this.b*=d,this.tx*=a,this.ty*=d,this};b.translate=function(a,d){return this.tx+=a,this.ty+=d,this};b.identity=function(){return this.alpha=this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this.shadow=this.compositeOperation=null,this};b.invert=function(){var a=this.a,d=this.b,b=this.c,c=this.d,e=this.tx,g=a*c-d*b;return this.a=c/g,this.b=-d/g,this.c=-b/g,this.d=a/g,this.tx=(b*this.ty-c*e)/g,this.ty=-(a*this.ty-d*e)/g,this};b.isIdentity=function(){return 0==this.tx&&0==this.ty&&1==this.a&&0==this.b&&0==this.c&&1==this.d};b.transformPoint=function(a,d,b){return b=b||{},b.x=a*this.a+d*this.c+this.tx,b.y=a*this.b+d*this.d+this.ty,b};b.decompose=function(a){null==a&&(a={});a.x=this.tx;a.y=this.ty;a.scaleX=Math.sqrt(this.a*this.a+this.b*this.b);a.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var d=Math.atan2(-this.c,this.d),b=Math.atan2(this.b,this.a);return d==b?(a.rotation=b/c.DEG_TO_RAD,0>this.a&&0<=this.d&&(a.rotation+=0>=a.rotation?180:-180),a.skewX=a.skewY=0):(a.skewX=d/c.DEG_TO_RAD,a.skewY=b/c.DEG_TO_RAD),a};b.reinitialize=function(a,d,b,c,e,g,k,l,m){return this.initialize(a,d,b,c,e,g),this.alpha=null==k?1:k,this.shadow=l,this.compositeOperation=m,this};b.copy=function(a){return this.reinitialize(a.a,a.b,a.c,a.d,a.tx,a.ty,a.alpha,a.shadow,a.compositeOperation)};b.appendProperties=function(a,d,b){return this.alpha*=a,this.shadow=d||this.shadow,this.compositeOperation=b||this.compositeOperation,this};b.prependProperties=function(a,d,b){return this.alpha*=a,this.shadow=this.shadow||d,this.compositeOperation=this.compositeOperation||b,this};b.clone=function(){return(new c).copy(this)};b.toString=function(){return"[Matrix2D (a\x3d"+this.a+" b\x3d"+this.b+" c\x3d"+this.c+" d\x3d"+this.d+" tx\x3d"+this.tx+" ty\x3d"+this.ty+")]"};c.identity=new c;createjs.Matrix2D=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d){this.initialize(a,d)},b=c.prototype;b.x=0;b.y=0;b.initialize=function(a,d){return this.x=null==a?0:a,this.y=null==d?0:d,this};b.copy=function(a){return this.initialize(a.x,a.y)};b.clone=function(){return new c(this.x,this.y)};b.toString=function(){return"[Point (x\x3d"+this.x+" y\x3d"+this.y+")]"};createjs.Point=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d,b,c){this.initialize(a,d,b,c)},b=c.prototype;b.x=0;b.y=0;b.width=0;b.height=0;b.initialize=function(a,d,b,c){return this.x=a||0,this.y=d||0,this.width=b||0,this.height=c||0,this};b.copy=function(a){return this.initialize(a.x,a.y,a.width,a.height)};b.clone=function(){return new c(this.x,this.y,this.width,this.height)};b.toString=function(){return"[Rectangle (x\x3d"+this.x+" y\x3d"+this.y+" width\x3d"+this.width+" height\x3d"+this.height+")]"};createjs.Rectangle=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d,b,c,e,g,k){this.initialize(a,d,b,c,e,g,k)},b=c.prototype;b.target=null;b.overLabel=null;b.outLabel=null;b.downLabel=null;b.play=!1;b._isPressed=!1;b._isOver=!1;b.initialize=function(a,d,b,c,e,g,k){a.addEventListener&&(this.target=a,a.cursor="pointer",this.overLabel=null==b?"over":b,this.outLabel=null==d?"out":d,this.downLabel=null==c?"down":c,this.play=e,this.setEnabled(!0),this.handleEvent({}),g&&(k&&(g.actionsEnabled=!1,g.gotoAndStop&&g.gotoAndStop(k)),a.hitArea=g))};b.setEnabled=function(a){var d=this.target;a?(d.addEventListener("rollover",this),d.addEventListener("rollout",this),d.addEventListener("mousedown",this),d.addEventListener("pressup",this)):(d.removeEventListener("rollover",this),d.removeEventListener("rollout",this),d.removeEventListener("mousedown",this),d.removeEventListener("pressup",this))};b.toString=function(){return"[ButtonHelper]"};b.handleEvent=function(a){var d,b=this.target;a=a.type;"mousedown"==a?(this._isPressed=!0,d=this.downLabel):"pressup"==a?(this._isPressed=!1,d=this._isOver?this.overLabel:this.outLabel):"rollover"==a?(this._isOver=!0,d=this._isPressed?this.downLabel:this.overLabel):(this._isOver=!1,d=this._isPressed?this.overLabel:this.outLabel);this.play?b.gotoAndPlay&&b.gotoAndPlay(d):b.gotoAndStop&&b.gotoAndStop(d)};createjs.ButtonHelper=c})();this.createjs=this.createjs||{};(function(){var c=function(a,d,b,c){this.initialize(a,d,b,c)},b=c.prototype;c.identity=null;b.color=null;b.offsetX=0;b.offsetY=0;b.blur=0;b.initialize=function(a,d,b,c){this.color=a;this.offsetX=d;this.offsetY=b;this.blur=c};b.toString=function(){return"[Shadow]"};b.clone=function(){return new c(this.color,this.offsetX,this.offsetY,this.blur)};c.identity=new c("transparent",0,0,0);createjs.Shadow=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.EventDispatcher;b.complete=!0;b.framerate=0;b._animations=null;b._frames=null;b._images=null;b._data=null;b._loadCount=0;b._frameHeight=0;b._frameWidth=0;b._numFrames=0;b._regX=0;b._regY=0;b.initialize=function(a){var d,b,c;if(null!=a){this.framerate=a.framerate||0;if(a.images&&0<(b=a.images.length))for(c=this._images=[],d=0;d<b;d++){var e=a.images[d];if("string"==typeof e){var g=e,e=document.createElement("img");e.src=g}c.push(e);e.getContext||e.complete||(this._loadCount++,this.complete=!1,function(a){e.onload=function(){a._handleImageLoad()}}(this))}if(null!=a.frames)if(a.frames instanceof Array)for(this._frames=[],c=a.frames,d=0,b=c.length;d<b;d++)g=c[d],this._frames.push({image:this._images[g[4]?g[4]:0],rect:new createjs.Rectangle(g[0],g[1],g[2],g[3]),regX:g[5]||0,regY:g[6]||0});else b=a.frames,this._frameWidth=b.width,this._frameHeight=b.height,this._regX=b.regX||0,this._regY=b.regY||0,this._numFrames=b.count,0==this._loadCount&&this._calculateFrames();this._animations=[];if(null!=(b=a.animations)){this._data={};for(var k in b){a={name:k};g=b[k];if("number"==typeof g)c=a.frames=[g];else if(g instanceof Array)if(1==g.length)a.frames=[g[0]];else for(a.speed=g[3],a.next=g[2],c=a.frames=[],d=g[0];d<=g[1];d++)c.push(d);else a.speed=g.speed,a.next=g.next,d=g.frames,c=a.frames="number"==typeof d?[d]:d.slice(0);if(!0===a.next||void 0===a.next)a.next=k;if(!1===a.next||2>c.length&&a.next==k)a.next=null;a.speed||(a.speed=1);this._animations.push(k);this._data[k]=a}}}};b.getNumFrames=function(a){if(null==a)return this._frames?this._frames.length:this._numFrames;a=this._data[a];return null==a?0:a.frames.length};b.getAnimations=function(){return this._animations.slice(0)};b.getAnimation=function(a){return this._data[a]};b.getFrame=function(a){var d;return this._frames&&(d=this._frames[a])?d:null};b.getFrameBounds=function(a,d){var b=this.getFrame(a);return b?(d||new createjs.Rectangle).initialize(-b.regX,-b.regY,b.rect.width,b.rect.height):null};b.toString=function(){return"[SpriteSheet]"};b.clone=function(){var a=new c;return a.complete=this.complete,a._animations=this._animations,a._frames=this._frames,a._images=this._images,a._data=this._data,a._frameHeight=this._frameHeight,a._frameWidth=this._frameWidth,a._numFrames=this._numFrames,a._loadCount=this._loadCount,a};b._handleImageLoad=function(){0==--this._loadCount&&(this._calculateFrames(),this.complete=!0,this.dispatchEvent("complete"))};b._calculateFrames=function(){if(!this._frames&&0!=this._frameWidth){this._frames=[];for(var a=0,d=this._frameWidth,b=this._frameHeight,c=0,e=this._images;c<e.length;c++){for(var g=e[c],k=g.width/d|0,l=g.height/b|0,l=0<this._numFrames?Math.min(this._numFrames-a,k*l):k*l,m=0;m<l;m++)this._frames.push({image:g,rect:new createjs.Rectangle(m%k*d,(m/k|0)*b,d,b),regX:this._regX,regY:this._regY});a+=l}this._numFrames=a}};createjs.SpriteSheet=c})();this.createjs=this.createjs||{};(function(){function c(a,b,d){this.f=a;this.params=b;this.path=null==d?!0:d}c.prototype.exec=function(a){this.f.apply(a,this.params)};var b=function(){this.initialize()},a=b.prototype;b.getRGB=function(a,b,d,h){return null!=a&&null==d&&(h=b,d=a&255,b=a>>8&255,a=a>>16&255),null==h?"rgb("+a+","+b+","+d+")":"rgba("+a+","+b+","+d+","+h+")"};b.getHSL=function(a,b,d,h){return null==h?"hsl("+a%360+","+b+"%,"+d+"%)":"hsla("+a%360+","+b+"%,"+d+"%,"+h+")"};b.Command=c;b.BASE_64={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};b.STROKE_CAPS_MAP=["butt","round","square"];b.STROKE_JOINTS_MAP=["miter","round","bevel"];var d=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");if(d.getContext){var h=b._ctx=d.getContext("2d");b.beginCmd=new c(h.beginPath,[],!1);b.fillCmd=new c(h.fill,[],!1);b.strokeCmd=new c(h.stroke,[],!1);d.width=d.height=1}a._strokeInstructions=null;a._strokeStyleInstructions=null;a._strokeIgnoreScale=!1;a._fillInstructions=null;a._fillMatrix=null;a._instructions=null;a._oldInstructions=null;a._activeInstructions=null;a._active=!1;a._dirty=!1;a.initialize=function(){this.clear();this._ctx=b._ctx};a.isEmpty=function(){return!(this._instructions.length||this._oldInstructions.length||this._activeInstructions.length)};a.draw=function(a){this._dirty&&this._updateInstructions();for(var b=this._instructions,d=0,h=b.length;d<h;d++)b[d].exec(a)};a.drawAsPath=function(a){this._dirty&&this._updateInstructions();for(var d,b=this._instructions,h=0,c=b.length;h<c;h++)((d=b[h]).path||0==h)&&d.exec(a)};a.moveTo=function(a,d){return this._activeInstructions.push(new c(this._ctx.moveTo,[a,d])),this};a.lineTo=function(a,d){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.lineTo,[a,d])),this};a.arcTo=function(a,d,b,h,l){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.arcTo,[a,d,b,h,l])),this};a.arc=function(a,d,b,h,l,m){return this._dirty=this._active=!0,null==m&&(m=!1),this._activeInstructions.push(new c(this._ctx.arc,[a,d,b,h,l,m])),this};a.quadraticCurveTo=function(a,d,b,h){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.quadraticCurveTo,[a,d,b,h])),this};a.bezierCurveTo=function(a,d,b,h,l,m){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.bezierCurveTo,[a,d,b,h,l,m])),this};a.rect=function(a,d,b,h){return this._dirty=this._active=!0,this._activeInstructions.push(new c(this._ctx.rect,[a,d,b,h])),this};a.closePath=function(){return this._active&&(this._dirty=!0,this._activeInstructions.push(new c(this._ctx.closePath,[]))),this};a.clear=function(){return this._instructions=[],this._oldInstructions=[],this._activeInstructions=[],this._strokeStyleInstructions=this._strokeInstructions=this._fillInstructions=this._fillMatrix=null,this._active=this._dirty=this._strokeIgnoreScale=!1,this};a.beginFill=function(a){return this._active&&this._newPath(),this._fillInstructions=a?[new c(this._setProp,["fillStyle",a],!1)]:null,this._fillMatrix=null,this};a.beginLinearGradientFill=function(a,d,b,h,l,m){this._active&&this._newPath();b=this._ctx.createLinearGradient(b,h,l,m);h=0;for(l=a.length;h<l;h++)b.addColorStop(d[h],a[h]);return this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)],this._fillMatrix=null,this};a.beginRadialGradientFill=function(a,d,b,h,l,m,n,r){this._active&&this._newPath();b=this._ctx.createRadialGradient(b,h,l,m,n,r);h=0;for(l=a.length;h<l;h++)b.addColorStop(d[h],a[h]);return this._fillInstructions=[new c(this._setProp,["fillStyle",b],!1)],this._fillMatrix=null,this};a.beginBitmapFill=function(a,b,d){this._active&&this._newPath();a=this._ctx.createPattern(a,b||"");return this._fillInstructions=[new c(this._setProp,["fillStyle",a],!1)],this._fillMatrix=d?[d.a,d.b,d.c,d.d,d.tx,d.ty]:null,this};a.endFill=function(){return this.beginFill()};a.setStrokeStyle=function(a,d,h,k,l){return this._active&&this._newPath(),this._strokeStyleInstructions=[new c(this._setProp,["lineWidth",null==a?"1":a],!1),new c(this._setProp,["lineCap",null==d?"butt":isNaN(d)?d:b.STROKE_CAPS_MAP[d]],!1),new c(this._setProp,["lineJoin",null==h?"miter":isNaN(h)?h:b.STROKE_JOINTS_MAP[h]],!1),new c(this._setProp,["miterLimit",null==k?"10":k],!1)],this._strokeIgnoreScale=l,this};a.beginStroke=function(a){return this._active&&this._newPath(),this._strokeInstructions=a?[new c(this._setProp,["strokeStyle",a],!1)]:null,this};a.beginLinearGradientStroke=function(a,d,b,h,l,m){this._active&&this._newPath();b=this._ctx.createLinearGradient(b,h,l,m);h=0;for(l=a.length;h<l;h++)b.addColorStop(d[h],a[h]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",b],!1)],this};a.beginRadialGradientStroke=function(a,d,b,h,l,m,n,r){this._active&&this._newPath();b=this._ctx.createRadialGradient(b,h,l,m,n,r);h=0;for(l=a.length;h<l;h++)b.addColorStop(d[h],a[h]);return this._strokeInstructions=[new c(this._setProp,["strokeStyle",b],!1)],this};a.beginBitmapStroke=function(a,d){this._active&&this._newPath();var b=this._ctx.createPattern(a,d||"");return this._strokeInstructions=[new c(this._setProp,["strokeStyle",b],!1)],this};a.endStroke=function(){return this.beginStroke(),this};a.curveTo=a.quadraticCurveTo;a.drawRect=a.rect;a.drawRoundRect=function(a,d,b,h,c){return this.drawRoundRectComplex(a,d,b,h,c,c,c,c),this};a.drawRoundRectComplex=function(a,d,b,h,l,m,n,r){var q=(b<h?b:h)/2,t=0,u=0,w=0,v=0;0>l&&(l*=t=-1);l>q&&(l=q);0>m&&(m*=u=-1);m>q&&(m=q);0>n&&(n*=w=-1);n>q&&(n=q);0>r&&(r*=v=-1);r>q&&(r=q);this._dirty=this._active=!0;var q=this._ctx.arcTo,x=this._ctx.lineTo;return this._activeInstructions.push(new c(this._ctx.moveTo,[a+b-m,d]),new c(q,[a+b+m*u,d-m*u,a+b,d+m,m]),new c(x,[a+b,d+h-n]),new c(q,[a+b+n*w,d+h+n*w,a+b-n,d+h,n]),new c(x,[a+r,d+h]),new c(q,[a-r*v,d+h+r*v,a,d+h-r,r]),new c(x,[a,d+l]),new c(q,[a-l*t,d-l*t,a+l,d,l]),new c(this._ctx.closePath)),this};a.drawCircle=function(a,d,b){return this.arc(a,d,b,0,2*Math.PI),this};a.drawEllipse=function(a,d,b,h){this._dirty=this._active=!0;var l=b/2*.5522848,m=h/2*.5522848,n=a+b,r=d+h;b=a+b/2;h=d+h/2;return this._activeInstructions.push(new c(this._ctx.moveTo,[a,h]),new c(this._ctx.bezierCurveTo,[a,h-m,b-l,d,b,d]),new c(this._ctx.bezierCurveTo,[b+l,d,n,h-m,n,h]),new c(this._ctx.bezierCurveTo,[n,h+m,b+l,r,b,r]),new c(this._ctx.bezierCurveTo,[b-l,r,a,h+m,a,h])),this};a.inject=function(a,d){return this._dirty=this._active=!0,this._activeInstructions.push(new c(a,[d])),this};a.drawPolyStar=function(a,d,b,h,l,m){this._dirty=this._active=!0;null==l&&(l=0);l=1-l;null==m?m=0:m/=180/Math.PI;var n=Math.PI/h;this._activeInstructions.push(new c(this._ctx.moveTo,[a+Math.cos(m)*b,d+Math.sin(m)*b]));for(var r=0;r<h;r++)m+=n,1!=l&&this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(m)*b*l,d+Math.sin(m)*b*l])),m+=n,this._activeInstructions.push(new c(this._ctx.lineTo,[a+Math.cos(m)*b,d+Math.sin(m)*b]));return this};a.decodePath=function(a){for(var d=[this.moveTo,this.lineTo,this.quadraticCurveTo,this.bezierCurveTo,this.closePath],h=[2,2,4,6,0],c=0,l=a.length,m=[],n=0,r=0,q=b.BASE_64;c<l;){var t=a.charAt(c),u=q[t],w=u>>3,v=d[w];if(!v||u&3)throw"bad path data (@"+c+"): "+t;t=h[w];w||(n=r=0);m.length=0;c++;u=(u>>2&1)+2;for(w=0;w<t;w++){var x=q[a.charAt(c)],y=x>>5?-1:1,x=(x&31)<<6|q[a.charAt(c+1)];3==u&&(x=x<<6|q[a.charAt(c+2)]);x=y*x/10;w%2?n=x+=n:r=x+=r;m[w]=x;c+=u}v.apply(this,m)}return this};a.clone=function(){var a=new b;return a._instructions=this._instructions.slice(),a._activeInstructions=this._activeInstructions.slice(),a._oldInstructions=this._oldInstructions.slice(),this._fillInstructions&&(a._fillInstructions=this._fillInstructions.slice()),this._strokeInstructions&&(a._strokeInstructions=this._strokeInstructions.slice()),this._strokeStyleInstructions&&(a._strokeStyleInstructions=this._strokeStyleInstructions.slice()),a._active=this._active,a._dirty=this._dirty,a._fillMatrix=this._fillMatrix,a._strokeIgnoreScale=this._strokeIgnoreScale,a};a.toString=function(){return"[Graphics]"};a.mt=a.moveTo;a.lt=a.lineTo;a.at=a.arcTo;a.bt=a.bezierCurveTo;a.qt=a.quadraticCurveTo;a.a=a.arc;a.r=a.rect;a.cp=a.closePath;a.c=a.clear;a.f=a.beginFill;a.lf=a.beginLinearGradientFill;a.rf=a.beginRadialGradientFill;a.bf=a.beginBitmapFill;a.ef=a.endFill;a.ss=a.setStrokeStyle;a.s=a.beginStroke;a.ls=a.beginLinearGradientStroke;a.rs=a.beginRadialGradientStroke;a.bs=a.beginBitmapStroke;a.es=a.endStroke;a.dr=a.drawRect;a.rr=a.drawRoundRect;a.rc=a.drawRoundRectComplex;a.dc=a.drawCircle;a.de=a.drawEllipse;a.dp=a.drawPolyStar;a.p=a.decodePath;a._updateInstructions=function(){this._instructions=this._oldInstructions.slice();this._instructions.push(b.beginCmd);this._appendInstructions(this._fillInstructions);this._appendInstructions(this._strokeInstructions);this._appendInstructions(this._strokeInstructions&&this._strokeStyleInstructions);this._appendInstructions(this._activeInstructions);this._fillInstructions&&this._appendDraw(b.fillCmd,this._fillMatrix);this._strokeInstructions&&this._appendDraw(b.strokeCmd,this._strokeIgnoreScale&&[1,0,0,1,0,0])};a._appendInstructions=function(a){a&&this._instructions.push.apply(this._instructions,a)};a._appendDraw=function(a,d){d?this._instructions.push(new c(this._ctx.save,[],!1),new c(this._ctx.transform,d,!1),a,new c(this._ctx.restore,[],!1)):this._instructions.push(a)};a._newPath=function(){this._dirty&&this._updateInstructions();this._oldInstructions=this._instructions;this._activeInstructions=[];this._active=this._dirty=!1};a._setProp=function(a,d){this[a]=d};createjs.Graphics=b})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.EventDispatcher;c._MOUSE_EVENTS="click dblclick mousedown mouseout mouseover pressmove pressup rollout rollover".split(" ");c.suppressCrossDomainErrors=!1;var a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._hitTestCanvas=a,c._hitTestContext=a.getContext("2d"),a.width=a.height=1);c._nextCacheID=1;b.alpha=1;b.cacheCanvas=null;b.id=-1;b.mouseEnabled=!0;b.tickEnabled=!0;b.name=null;b.parent=null;b.regX=0;b.regY=0;b.rotation=0;b.scaleX=1;b.scaleY=1;b.skewX=0;b.skewY=0;b.shadow=null;b.visible=!0;b.x=0;b.y=0;b.compositeOperation=null;b.snapToPixel=!1;b.filters=null;b.cacheID=0;b.mask=null;b.hitArea=null;b.cursor=null;b._cacheOffsetX=0;b._cacheOffsetY=0;b._cacheScale=1;b._cacheDataURLID=0;b._cacheDataURL=null;b._matrix=null;b._rectangle=null;b._bounds=null;b.initialize=function(){this.id=createjs.UID.get();this._matrix=new createjs.Matrix2D;this._rectangle=new createjs.Rectangle};b.isVisible=function(){return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY)};b.draw=function(a,b){var c=this.cacheCanvas;if(b||!c)return!1;var e=this._cacheScale,g=this._cacheOffsetX,k=this._cacheOffsetY,l;if(l=this._applyFilterBounds(g,k,0,0))g=l.x,k=l.y;return a.drawImage(c,g,k,c.width/e,c.height/e),!0};b.updateContext=function(a){var b,c=this.mask;c&&c.graphics&&!c.graphics.isEmpty()&&(b=c.getMatrix(c._matrix),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty),c.graphics.drawAsPath(a),a.clip(),b.invert(),a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty));b=this._matrix.identity().appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY);createjs.Stage._snapToPixelEnabled&&this.snapToPixel?a.transform(b.a,b.b,b.c,b.d,b.tx+.5|0,b.ty+.5|0):a.transform(b.a,b.b,b.c,b.d,b.tx,b.ty);a.globalAlpha*=this.alpha;this.compositeOperation&&(a.globalCompositeOperation=this.compositeOperation);this.shadow&&this._applyShadow(a,this.shadow)};b.cache=function(a,b,c,e,g){g=g||1;this.cacheCanvas||(this.cacheCanvas=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));this._cacheWidth=c;this._cacheHeight=e;this._cacheOffsetX=a;this._cacheOffsetY=b;this._cacheScale=g;this.updateCache()};b.updateCache=function(a){var b=this.cacheCanvas,f=this._cacheScale,e=this._cacheOffsetX*f,g=this._cacheOffsetY*f,k=this._cacheWidth,l=this._cacheHeight,m;if(!b)throw"cache() must be called before updateCache()";var n=b.getContext("2d");if(m=this._applyFilterBounds(e,g,k,l))e=m.x,g=m.y,k=m.width,l=m.height;k=Math.ceil(k*f);l=Math.ceil(l*f);k!=b.width||l!=b.height?(b.width=k,b.height=l):a||n.clearRect(0,0,k+1,l+1);n.save();n.globalCompositeOperation=a;n.setTransform(f,0,0,f,-e,-g);this.draw(n,!0);this._applyFilters();n.restore();this.cacheID=c._nextCacheID++};b.uncache=function(){this._cacheDataURL=this.cacheCanvas=null;this.cacheID=this._cacheOffsetX=this._cacheOffsetY=0;this._cacheScale=1};b.getCacheDataURL=function(){return this.cacheCanvas?(this.cacheID!=this._cacheDataURLID&&(this._cacheDataURL=this.cacheCanvas.toDataURL()),this._cacheDataURL):null};b.getStage=function(){for(var a=this;a.parent;)a=a.parent;return a instanceof createjs.Stage?a:null};b.localToGlobal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.append(1,0,0,1,a,b),new createjs.Point(c.tx,c.ty))};b.globalToLocal=function(a,b){var c=this.getConcatenatedMatrix(this._matrix);return null==c?null:(c.invert(),c.append(1,0,0,1,a,b),new createjs.Point(c.tx,c.ty))};b.localToLocal=function(a,b,c){a=this.localToGlobal(a,b);return c.globalToLocal(a.x,a.y)};b.setTransform=function(a,b,c,e,g,k,l,m,n){return this.x=a||0,this.y=b||0,this.scaleX=null==c?1:c,this.scaleY=null==e?1:e,this.rotation=g||0,this.skewX=k||0,this.skewY=l||0,this.regX=m||0,this.regY=n||0,this};b.getMatrix=function(a){return(a?a.identity():new createjs.Matrix2D).appendTransform(this.x,this.y,this.scaleX,this.scaleY,this.rotation,this.skewX,this.skewY,this.regX,this.regY).appendProperties(this.alpha,this.shadow,this.compositeOperation)};b.getConcatenatedMatrix=function(a){a?a.identity():a=new createjs.Matrix2D;for(var b=this;null!=b;)a.prependTransform(b.x,b.y,b.scaleX,b.scaleY,b.rotation,b.skewX,b.skewY,b.regX,b.regY).prependProperties(b.alpha,b.shadow,b.compositeOperation),b=b.parent;return a};b.hitTest=function(a,b){var f=c._hitTestContext;f.setTransform(1,0,0,1,-a,-b);this.draw(f);var e=this._testHit(f);return f.setTransform(1,0,0,1,0,0),f.clearRect(0,0,2,2),e};b.set=function(a){for(var b in a)this[b]=a[b];return this};b.getBounds=function(){if(this._bounds)return this._rectangle.copy(this._bounds);var a=this.cacheCanvas;if(a){var b=this._cacheScale;return this._rectangle.initialize(this._cacheOffsetX,this._cacheOffsetY,a.width/b,a.height/b)}return null};b.getTransformedBounds=function(){return this._getBounds()};b.setBounds=function(a,b,c,e){null==a&&(this._bounds=a);this._bounds=(this._bounds||new createjs.Rectangle).initialize(a,b,c,e)};b.clone=function(){var a=new c;return this.cloneProps(a),a};b.toString=function(){return"[DisplayObject (name\x3d"+this.name+")]"};b.cloneProps=function(a){a.alpha=this.alpha;a.name=this.name;a.regX=this.regX;a.regY=this.regY;a.rotation=this.rotation;a.scaleX=this.scaleX;a.scaleY=this.scaleY;a.shadow=this.shadow;a.skewX=this.skewX;a.skewY=this.skewY;a.visible=this.visible;a.x=this.x;a.y=this.y;a._bounds=this._bounds;a.mouseEnabled=this.mouseEnabled;a.compositeOperation=this.compositeOperation};b._applyShadow=function(a,b){b=b||Shadow.identity;a.shadowColor=b.color;a.shadowOffsetX=b.offsetX;a.shadowOffsetY=b.offsetY;a.shadowBlur=b.blur};b._tick=function(a){var b=this._listeners;b&&b.tick&&(b=new createjs.Event("tick"),b.params=a,this._dispatchEvent(b,this,2))};b._testHit=function(a){try{var b=1<a.getImageData(0,0,1,1).data[3]}catch(f){if(!c.suppressCrossDomainErrors)throw"An error has occurred. This is most likely due to security restrictions on reading canvas pixel data with local or cross-domain images.";}return b};b._applyFilters=function(){if(this.filters&&0!=this.filters.length&&this.cacheCanvas)for(var a=this.filters.length,b=this.cacheCanvas.getContext("2d"),c=this.cacheCanvas.width,e=this.cacheCanvas.height,g=0;g<a;g++)this.filters[g].applyFilter(b,0,0,c,e)};b._applyFilterBounds=function(a,b,c,e){var g,k,l=this.filters;if(!l||!(k=l.length))return null;for(l=0;l<k;l++){var m=this.filters[l];if(m=m.getBounds&&m.getBounds())g||(g=this._rectangle.initialize(a,b,c,e)),g.x+=m.x,g.y+=m.y,g.width+=m.width,g.height+=m.height}return g};b._getBounds=function(a,b){return this._transformBounds(this.getBounds(),a,b)};b._transformBounds=function(a,b,c){if(!a)return a;var e=a.x,g=a.y,k=a.width,l=a.height,m=c?this._matrix.identity():this.getMatrix(this._matrix);(e||g)&&m.appendTransform(0,0,1,1,0,0,0,-e,-g);b&&m.prependMatrix(b);b=k*m.a;k*=m.b;c=l*m.c;var l=l*m.d,n=m.tx,m=m.ty,r=n,q=n,t=m,u=m;return(e=b+n)<r?r=e:e>q&&(q=e),(e=b+c+n)<r?r=e:e>q&&(q=e),(e=c+n)<r?r=e:e>q&&(q=e),(g=k+m)<t?t=g:g>u&&(u=g),(g=k+l+m)<t?t=g:g>u&&(u=g),(g=l+m)<t?t=g:g>u&&(u=g),a.initialize(r,t,q-r,u-t)};b._hasMouseEventListener=function(){for(var a=c._MOUSE_EVENTS,b=0,f=a.length;b<f;b++)if(this.hasEventListener(a[b]))return!0;return!!this.cursor};createjs.DisplayObject=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.DisplayObject;b.children=null;b.mouseChildren=!0;b.tickChildren=!0;b.DisplayObject_initialize=b.initialize;b.initialize=function(){this.DisplayObject_initialize();this.children=[]};b.isVisible=function(){var a=this.cacheCanvas||this.children.length;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;for(var h=this.children.slice(0),c=0,e=h.length;c<e;c++){var g=h[c];g.isVisible()&&(a.save(),g.updateContext(a),g.draw(a),a.restore())}return!0};b.addChild=function(a){if(null==a)return a;var b=arguments.length;if(1<b){for(var h=0;h<b;h++)this.addChild(arguments[h]);return arguments[b-1]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.push(a),a};b.addChildAt=function(a,b){var h=arguments.length,c=arguments[h-1];if(0>c||c>this.children.length)return arguments[h-2];if(2<h){for(var e=0;e<h-1;e++)this.addChildAt(arguments[e],c+e);return arguments[h-2]}return a.parent&&a.parent.removeChild(a),a.parent=this,this.children.splice(b,0,a),a};b.removeChild=function(a){var b=arguments.length;if(1<b){for(var h=!0,c=0;c<b;c++)h=h&&this.removeChild(arguments[c]);return h}return this.removeChildAt(createjs.indexOf(this.children,a))};b.removeChildAt=function(a){var b=arguments.length;if(1<b){for(var h=[],c=0;c<b;c++)h[c]=arguments[c];h.sort(function(a,b){return b-a});for(var e=!0,c=0;c<b;c++)e=e&&this.removeChildAt(h[c]);return e}if(0>a||a>this.children.length-1)return!1;b=this.children[a];return b&&(b.parent=null),this.children.splice(a,1),!0};b.removeAllChildren=function(){for(var a=this.children;a.length;)a.pop().parent=null};b.getChildAt=function(a){return this.children[a]};b.getChildByName=function(a){for(var b=this.children,h=0,c=b.length;h<c;h++)if(b[h].name==a)return b[h];return null};b.sortChildren=function(a){this.children.sort(a)};b.getChildIndex=function(a){return createjs.indexOf(this.children,a)};b.getNumChildren=function(){return this.children.length};b.swapChildrenAt=function(a,b){var h=this.children,c=h[a],e=h[b];c&&e&&(h[a]=e,h[b]=c)};b.swapChildren=function(a,b){for(var c=this.children,f,e,g=0,k=c.length;g<k&&(c[g]==a&&(f=g),c[g]==b&&(e=g),null==f||null==e);g++);g!=k&&(c[f]=b,c[e]=a)};b.setChildIndex=function(a,b){var c=this.children,f=c.length;if(!(a.parent!=this||0>b||b>=f)){for(var e=0;e<f&&c[e]!=a;e++);e!=f&&e!=b&&(c.splice(e,1),c.splice(b,0,a))}};b.contains=function(a){for(;a;){if(a==this)return!0;a=a.parent}return!1};b.hitTest=function(a,b){return null!=this.getObjectUnderPoint(a,b)};b.getObjectsUnderPoint=function(a,b){var c=[],f=this.localToGlobal(a,b);return this._getObjectsUnderPoint(f.x,f.y,c),c};b.getObjectUnderPoint=function(a,b){var c=this.localToGlobal(a,b);return this._getObjectsUnderPoint(c.x,c.y)};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){return this._getBounds(null,!0)};b.getTransformedBounds=function(){return this._getBounds()};b.clone=function(a){var b=new c;this.cloneProps(b);if(a)for(var h=b.children=[],f=0,e=this.children.length;f<e;f++){var g=this.children[f].clone(a);g.parent=b;h.push(g)}return b};b.toString=function(){return"[Container (name\x3d"+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){if(this.tickChildren)for(var b=this.children.length-1;0<=b;b--){var c=this.children[b];c.tickEnabled&&c._tick&&c._tick(a)}this.DisplayObject__tick(a)};b._getObjectsUnderPoint=function(a,b,h,f,e){var g=createjs.DisplayObject._hitTestContext,k=this._matrix;e=e||f&&this._hasMouseEventListener();for(var l=this.children,m=l.length-1;0<=m;m--){var n=l[m],r=n.hitArea,q=n.mask;if(n.visible&&(r||n.isVisible())&&(!f||n.mouseEnabled)){if(!r&&q&&q.graphics&&!q.graphics.isEmpty()){var t=q.getMatrix(q._matrix).prependMatrix(this.getConcatenatedMatrix(k));g.setTransform(t.a,t.b,t.c,t.d,t.tx-a,t.ty-b);q.graphics.drawAsPath(g);g.fillStyle="#000";g.fill();if(!this._testHit(g))continue;g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,2,2)}if(!r&&n instanceof c){if(n=n._getObjectsUnderPoint(a,b,h,f,e),!h&&n)return f&&!this.mouseChildren?this:n}else if(!f||e||n._hasMouseEventListener()){n.getConcatenatedMatrix(k);if(q=(r||n).getBounds()){if(k.invert(),r=k.transformPoint(a,b),!(r.x>=q.x&&r.x<=q.x+q.width&&r.y>=q.y&&r.y<=q.y+q.height))continue}else{r&&(k.appendTransform(r.x,r.y,r.scaleX,r.scaleY,r.rotation,r.skewX,r.skewY,r.regX,r.regY),k.alpha=r.alpha);g.globalAlpha=k.alpha;g.setTransform(k.a,k.b,k.c,k.d,k.tx-a,k.ty-b);(r||n).draw(g);if(!this._testHit(g))continue;g.setTransform(1,0,0,1,0,0);g.clearRect(0,0,2,2)}if(!h)return f&&!this.mouseChildren?this:n;h.push(n)}}}return null};b._getBounds=function(a,b){var c=this.DisplayObject_getBounds();if(c)return this._transformBounds(c,a,b);var f,e,g,k,l=b?this._matrix.identity():this.getMatrix(this._matrix);a&&l.prependMatrix(a);for(var m=this.children.length,n=0;n<m;n++){var r=this.children[n];if(r.visible&&(c=r._getBounds(l))){var r=c.x,q=c.y,t=r+c.width,u=q+c.height;if(r<f||null==f)f=r;if(t>e||null==e)e=t;if(q<g||null==g)g=q;if(u>k||null==k)k=u}}return null==e?null:this._rectangle.initialize(f,g,e-f,k-g)};createjs.Container=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Container;c._snapToPixelEnabled=!1;b.autoClear=!0;b.canvas=null;b.mouseX=0;b.mouseY=0;b.snapToPixelEnabled=!1;b.mouseInBounds=!1;b.tickOnUpdate=!0;b.mouseMoveOutside=!1;b.nextStage=null;b._pointerData=null;b._pointerCount=0;b._primaryPointerID=null;b._mouseOverIntervalID=null;b.Container_initialize=b.initialize;b.initialize=function(a){this.Container_initialize();this.canvas="string"==typeof a?document.getElementById(a):a;this._pointerData={};this.enableDOMEvents(!0)};b.update=function(a){if(this.canvas){this.tickOnUpdate&&(this.dispatchEvent("tickstart"),this.tickEnabled&&this._tick(arguments.length?arguments:null),this.dispatchEvent("tickend"));this.dispatchEvent("drawstart");c._snapToPixelEnabled=this.snapToPixelEnabled;this.autoClear&&this.clear();var b=this.canvas.getContext("2d");b.save();this.updateContext(b);this.draw(b,!1);b.restore();this.dispatchEvent("drawend")}};b.handleEvent=function(a){"tick"==a.type&&this.update(a)};b.clear=function(){if(this.canvas){var a=this.canvas.getContext("2d");a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.canvas.width+1,this.canvas.height+1);a=/huawei/i.test(navigator.userAgent.toLowerCase())?!0:!1;a?(this.canvas.style.visibility="hidden",this.canvas.offsetHeight,this.canvas.style.visibility="inherit"):this.canvas.width=this.canvas.width}};b.toDataURL=function(a,b){b||(b="image/png");var c=this.canvas.getContext("2d"),f=this.canvas.width,e=this.canvas.height,g;if(a){g=c.getImageData(0,0,f,e);var k=c.globalCompositeOperation;c.globalCompositeOperation="destination-over";c.fillStyle=a;c.fillRect(0,0,f,e)}var l=this.canvas.toDataURL(b);return a&&(c.clearRect(0,0,f+1,e+1),c.putImageData(g,0,0),c.globalCompositeOperation=k),l};b.enableMouseOver=function(a){this._mouseOverIntervalID&&(clearInterval(this._mouseOverIntervalID),this._mouseOverIntervalID=null,0==a&&this._testMouseOver(!0));if(null==a)a=20;else if(0>=a)return;var b=this;this._mouseOverIntervalID=setInterval(function(){b._testMouseOver()},1E3/Math.min(50,a))};b.enableDOMEvents=function(a){null==a&&(a=!0);var b,c=this._eventListeners;if(!a&&c){for(b in c)a=c[b],a.t.removeEventListener(b,a.f,!1);this._eventListeners=null}else if(a&&!c&&this.canvas){a=window.addEventListener?window:document;var f=this,c=this._eventListeners={};c.mouseup={t:a,f:function(a){f._handleMouseUp(a)}};c.mousemove={t:a,f:function(a){f._handleMouseMove(a)}};c.dblclick={t:this.canvas,f:function(a){f._handleDoubleClick(a)}};c.mousedown={t:this.canvas,f:function(a){f._handleMouseDown(a)}};for(b in c)a=c[b],a.t.addEventListener(b,a.f,!1)}};b.clone=function(){var a=new c(null);return this.cloneProps(a),a};b.toString=function(){return"[Stage (name\x3d"+this.name+")]"};b._getElementRect=function(a){var b;try{b=a.getBoundingClientRect()}catch(c){b={top:a.offsetTop,left:a.offsetLeft,width:a.offsetWidth,height:a.offsetHeight}}var h=(window.pageXOffset||document.scrollLeft||0)-(document.clientLeft||document.body.clientLeft||0),f=(window.pageYOffset||document.scrollTop||0)-(document.clientTop||document.body.clientTop||0),e=window.getComputedStyle?getComputedStyle(a):a.currentStyle;a=parseInt(e.paddingLeft)+parseInt(e.borderLeftWidth);var g=parseInt(e.paddingTop)+parseInt(e.borderTopWidth),k=parseInt(e.paddingRight)+parseInt(e.borderRightWidth),e=parseInt(e.paddingBottom)+parseInt(e.borderBottomWidth);return{left:b.left+h+a,right:b.right+h-k,top:b.top+f+g,bottom:b.bottom+f-e}};b._getPointerData=function(a){var b=this._pointerData[a];b||(b=this._pointerData[a]={x:0,y:0},null==this._primaryPointerID&&(this._primaryPointerID=a),null!=this._primaryPointerID&&-1!=this._primaryPointerID)||(this._primaryPointerID=a);return b};b._handleMouseMove=function(a){a||(a=window.event);this._handlePointerMove(-1,a,a.pageX,a.pageY)};b._handlePointerMove=function(a,b,c,f){if(this.canvas){var e=this._getPointerData(a),g=e.inBounds;this._updatePointerPosition(a,b,c,f);if(g||e.inBounds||this.mouseMoveOutside)-1==a&&e.inBounds==!g&&this._dispatchMouseEvent(this,g?"mouseleave":"mouseenter",!1,a,e,b),this._dispatchMouseEvent(this,"stagemousemove",!1,a,e,b),this._dispatchMouseEvent(e.target,"pressmove",!0,a,e,b),(g=e.event)&&g.hasEventListener("mousemove")&&g.dispatchEvent(new createjs.MouseEvent("mousemove",!1,!1,e.x,e.y,b,a,a==this._primaryPointerID,e.rawX,e.rawY),e.target),this.nextStage&&this.nextStage._handlePointerMove(a,b,c,f)}};b._updatePointerPosition=function(a,b,c,f){var e=this._getElementRect(this.canvas);c-=e.left;f-=e.top;var g=this.canvas.width,k=this.canvas.height;c/=(e.right-e.left)/g;f/=(e.bottom-e.top)/k;e=this._getPointerData(a);(e.inBounds=0<=c&&0<=f&&c<=g-1&&f<=k-1)?(e.x=c,e.y=f):this.mouseMoveOutside&&(e.x=0>c?0:c>g-1?g-1:c,e.y=0>f?0:f>k-1?k-1:f);e.posEvtObj=b;e.rawX=c;e.rawY=f;a==this._primaryPointerID&&(this.mouseX=e.x,this.mouseY=e.y,this.mouseInBounds=e.inBounds)};b._handleMouseUp=function(a){this._handlePointerUp(-1,a,!1)};b._handlePointerUp=function(a,b,c){var f=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemouseup",!1,a,f,b);var e=f.target;e&&(this._getObjectsUnderPoint(f.x,f.y,null,!0)==e&&this._dispatchMouseEvent(e,"click",!0,a,f,b),this._dispatchMouseEvent(e,"pressup",!0,a,f,b));var g=f.event;g&&g.hasEventListener("mouseup")&&g.dispatchEvent(new createjs.MouseEvent("mouseup",!1,!1,f.x,f.y,b,a,a==this._primaryPointerID,f.rawX,f.rawY),e);c?(a==this._primaryPointerID&&(this._primaryPointerID=null),delete this._pointerData[a]):f.event=f.target=null;this.nextStage&&this.nextStage._handlePointerUp(a,b,c)};b._handleMouseDown=function(a){this._handlePointerDown(-1,a,a.pageX,a.pageY)};b._handlePointerDown=function(a,b,c,f){null!=f&&this._updatePointerPosition(a,b,c,f);var e=this._getPointerData(a);this._dispatchMouseEvent(this,"stagemousedown",!1,a,e,b);e.target=this._getObjectsUnderPoint(e.x,e.y,null,!0);e.event=this._dispatchMouseEvent(e.target,"mousedown",!0,a,e,b);this.nextStage&&this.nextStage._handlePointerDown(a,b,c,f)};b._testMouseOver=function(a){if(-1==this._primaryPointerID&&(a||this.mouseX!=this._mouseOverX||this.mouseY!=this._mouseOverY||!this.mouseInBounds)){var b=this._getPointerData(-1),c=b.posEvtObj,f,e=-1,g="",k;if(a||this.mouseInBounds&&c&&c.target==this.canvas)f=this._getObjectsUnderPoint(this.mouseX,this.mouseY,null,!0),this._mouseOverX=this.mouseX,this._mouseOverY=this.mouseY;a=this._mouseOverTarget||[];var l=a[a.length-1],m=this._mouseOverTarget=[];for(k=f;k;)m.unshift(k),null!=k.cursor&&(g=k.cursor),k=k.parent;this.canvas.style.cursor=g;g=0;for(k=m.length;g<k&&m[g]==a[g];g++)e=g;l!=f&&this._dispatchMouseEvent(l,"mouseout",!0,-1,b,c);for(g=a.length-1;g>e;g--)this._dispatchMouseEvent(a[g],"rollout",!1,-1,b,c);for(g=m.length-1;g>e;g--)this._dispatchMouseEvent(m[g],"rollover",!1,-1,b,c);l!=f&&this._dispatchMouseEvent(f,"mouseover",!0,-1,b,c)}};b._handleDoubleClick=function(a){var b=this._getPointerData(-1),c=this._getObjectsUnderPoint(b.x,b.y,null,!0);this._dispatchMouseEvent(c,"dblclick",!0,-1,b,a);this.nextStage&&this.nextStage._handleDoubleClick(a)};b._dispatchMouseEvent=function(a,b,c,f,e,g){if(a&&(c||a.hasEventListener(b)))return b=new createjs.MouseEvent(b,c,!1,e.x,e.y,g,f,f==this._primaryPointerID,e.rawX,e.rawY),a.dispatchEvent(b),b};createjs.Stage=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.image=null;b.snapToPixel=!0;b.sourceRect=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();"string"==typeof a?(this.image=document.createElement("img"),this.image.src=a):this.image=a};b.isVisible=function(){var a=this.cacheCanvas||this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState);return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.sourceRect;return c?a.drawImage(this.image,c.x,c.y,c.width,c.height,0,0,c.width,c.height):a.drawImage(this.image,0,0),!0};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;a=this.sourceRect||this.image;return this.image&&(this.image.complete||this.image.getContext||2<=this.image.readyState)?this._rectangle.initialize(0,0,a.width,a.height):null};b.clone=function(){var a=new c(this.image);return this.sourceRect&&(a.sourceRect=this.sourceRect.clone()),this.cloneProps(a),a};b.toString=function(){return"[Bitmap (name\x3d"+this.name+")]"};createjs.Bitmap=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b){this.initialize(a,b)},b=c.prototype=new createjs.DisplayObject;b.currentFrame=0;b.currentAnimation=null;b.paused=!0;b.spriteSheet=null;b.snapToPixel=!0;b.offset=0;b.currentAnimationFrame=0;b.framerate=0;b._advanceCount=0;b._animation=null;b._currentFrame=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b){this.DisplayObject_initialize();this.spriteSheet=a;b&&this.gotoAndPlay(b)};b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet.complete;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._normalizeFrame();var c=this.spriteSheet.getFrame(this._currentFrame|0);if(!c)return!1;var f=c.rect;return a.drawImage(c.image,f.x,f.y,f.width,f.height,-c.regX,-c.regY,f.width,f.height),!0};b.play=function(){this.paused=!1};b.stop=function(){this.paused=!0};b.gotoAndPlay=function(a){this.paused=!1;this._goto(a)};b.gotoAndStop=function(a){this.paused=!0;this._goto(a)};b.advance=function(a){var b=this._animation&&this._animation.speed||1,c=this.framerate||this.spriteSheet.framerate;a=c&&null!=a?a/(1E3/c):1;this._animation?this.currentAnimationFrame+=a*b:this._currentFrame+=a*b;this._normalizeFrame()};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){return this.DisplayObject_getBounds()||this.spriteSheet.getFrameBounds(this.currentFrame,this._rectangle)};b.clone=function(){var a=new c(this.spriteSheet);return this.cloneProps(a),a};b.toString=function(){return"[Sprite (name\x3d"+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){this.paused||this.advance(a&&a[0]&&a[0].delta);this.DisplayObject__tick(a)};b._normalizeFrame=function(){var a=this._animation,b=this.paused,c=this._currentFrame,f=this.currentAnimationFrame,e;if(a)if(e=a.frames.length,(f|0)>=e){var g=a.next;if(!this._dispatchAnimationEnd(a,c,b,g,e-1)){if(g)return this._goto(g,f-e);this.paused=!0;f=this.currentAnimationFrame=a.frames.length-1;this._currentFrame=a.frames[f]}}else this._currentFrame=a.frames[f|0];else if(e=this.spriteSheet.getNumFrames(),c>=e&&!this._dispatchAnimationEnd(a,c,b,e-1)&&(this._currentFrame-=e)>=e)return this._normalizeFrame();this.currentFrame=this._currentFrame|0};b._dispatchAnimationEnd=function(a,b,c,f,e){var g=a?a.name:null;if(this.hasEventListener("animationend")){var k=new createjs.Event("animationend");k.name=g;k.next=f;this.dispatchEvent(k)}a=this._animation!=a||this._currentFrame!=b;return!a&&!c&&this.paused&&(this.currentAnimationFrame=e,a=!0),a};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.currentFrame=this.currentFrame;a._currentFrame=this._currentFrame;a.currentAnimation=this.currentAnimation;a.paused=this.paused;a._animation=this._animation;a.currentAnimationFrame=this.currentAnimationFrame;a.framerate=this.framerate};b._goto=function(a,b){if(isNaN(a)){var c=this.spriteSheet.getAnimation(a);c&&(this.currentAnimationFrame=b||0,this._animation=c,this.currentAnimation=a,this._normalizeFrame())}else this.currentAnimationFrame=0,this.currentAnimation=this._animation=null,this._currentFrame=a,this._normalizeFrame()};createjs.Sprite=c})();this.createjs=this.createjs||{};(function(){if(!createjs.Sprite)throw"BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.";(createjs.BitmapAnimation=function(c){console.log("BitmapAnimation is deprecated in favour of Sprite. See VERSIONS file for info on changes.");this.initialize(c)}).prototype=new createjs.Sprite})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.graphics=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){this.DisplayObject_initialize();this.graphics=a?a:new createjs.Graphics};b.isVisible=function(){var a=this.cacheCanvas||this.graphics&&!this.graphics.isEmpty();return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this.graphics.draw(a),!0)};b.clone=function(a){a=new c(a&&this.graphics?this.graphics.clone():this.graphics);return this.cloneProps(a),a};b.toString=function(){return"[Shape (name\x3d"+this.name+")]"};createjs.Shape=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.DisplayObject,a=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");a.getContext&&(c._workingContext=a.getContext("2d"),a.width=a.height=1);c.H_OFFSETS={start:0,left:0,center:-.5,end:-1,right:-1};c.V_OFFSETS={top:0,hanging:-.01,middle:-.4,alphabetic:-.8,ideographic:-.85,bottom:-1};b.text="";b.font=null;b.color=null;b.textAlign="left";b.textBaseline="top";b.maxWidth=null;b.outline=0;b.lineHeight=0;b.lineWidth=null;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b,c){this.DisplayObject_initialize();this.text=a;this.font=b;this.color=c};b.isVisible=function(){var a=this.cacheCanvas||null!=this.text&&""!==this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;var c=this.color||"#000";return this.outline?(a.strokeStyle=c,a.lineWidth=1*this.outline):a.fillStyle=c,this._drawText(this._prepContext(a)),!0};b.getMeasuredWidth=function(){return this._prepContext(c._workingContext).measureText(this.text).width};b.getMeasuredLineHeight=function(){return 1.2*this._prepContext(c._workingContext).measureText("M").width};b.getMeasuredHeight=function(){return this._drawText(null,{}).height};b.DisplayObject_getBounds=b.getBounds;b.getBounds=function(){var a=this.DisplayObject_getBounds();if(a)return a;if(null==this.text||""==this.text)return null;var a=this._drawText(null,{}),b=this.maxWidth&&this.maxWidth<a.width?this.maxWidth:a.width,f=b*c.H_OFFSETS[this.textAlign||"left"],e=(this.lineHeight||this.getMeasuredLineHeight())*c.V_OFFSETS[this.textBaseline||"top"];return this._rectangle.initialize(f,e,b,a.height)};b.clone=function(){var a=new c(this.text,this.font,this.color);return this.cloneProps(a),a};b.toString=function(){return"[Text (text\x3d"+(20<this.text.length?this.text.substr(0,17)+"...":this.text)+")]"};b.DisplayObject_cloneProps=b.cloneProps;b.cloneProps=function(a){this.DisplayObject_cloneProps(a);a.textAlign=this.textAlign;a.textBaseline=this.textBaseline;a.maxWidth=this.maxWidth;a.outline=this.outline;a.lineHeight=this.lineHeight;a.lineWidth=this.lineWidth};b._prepContext=function(a){return a.font=this.font,a.textAlign=this.textAlign||"left",a.textBaseline=this.textBaseline||"top",a};b._drawText=function(a,b){var f=!!a;f||(a=this._prepContext(c._workingContext));for(var e=this.lineHeight||this.getMeasuredLineHeight(),g=0,k=0,l=String(this.text).split(/(?:\r\n|\r|\n)/),m=0,n=l.length;m<n;m++){var r=l[m],q=null;if(null!=this.lineWidth&&(q=a.measureText(r).width)>this.lineWidth)for(var t=r.split(/(\s)/),r=t[0],q=a.measureText(r).width,u=1,w=t.length;u<w;u+=2){var v=a.measureText(t[u]+t[u+1]).width;q+v>this.lineWidth?(f&&this._drawTextLine(a,r,k*e),q>g&&(g=q),r=t[u+1],q=a.measureText(r).width,k++):(r+=t[u]+t[u+1],q+=v)}f&&this._drawTextLine(a,r,k*e);b&&null==q&&(q=a.measureText(r).width);q>g&&(g=q);k++}return b&&(b.count=k,b.width=g,b.height=k*e),b};b._drawTextLine=function(a,b,c){this.outline?a.strokeText(b,0,c,this.maxWidth||65535):a.fillText(b,0,c,this.maxWidth||65535)};createjs.Text=c})();this.createjs=this.createjs||{};(function(){function c(a,b){this.initialize(a,b)}var b=c.prototype=new createjs.DisplayObject;b.text="";b.spriteSheet=null;b.lineHeight=0;b.letterSpacing=0;b.spaceWidth=0;b.DisplayObject_initialize=b.initialize;b.initialize=function(a,b){this.DisplayObject_initialize();this.text=a;this.spriteSheet=b};b.DisplayObject_draw=b.draw;b.draw=function(a,b){if(this.DisplayObject_draw(a,b))return!0;this._drawText(a)};b.isVisible=function(){var a=this.cacheCanvas||this.spriteSheet&&this.spriteSheet.complete&&this.text;return!!(this.visible&&0<this.alpha&&0!=this.scaleX&&0!=this.scaleY&&a)};b.getBounds=function(){var a=this._rectangle;return this._drawText(null,a),a.width?a:null};b._getFrame=function(a,b){var c,f=b.getAnimation(a);return f||(a!=(c=a.toUpperCase())||a!=(c=a.toLowerCase())||(c=null),c&&(f=b.getAnimation(c))),f&&b.getFrame(f.frames[0])};b._getLineHeight=function(a){return(a=this._getFrame("1",a)||this._getFrame("T",a)||this._getFrame("L",a)||a.getFrame(0))?a.rect.height:1};b._getSpaceWidth=function(a){return(a=this._getFrame("1",a)||this._getFrame("l",a)||this._getFrame("e",a)||this._getFrame("a",a)||a.getFrame(0))?a.rect.width:1};b._drawText=function(a,b){var c,f,e,g=0,k=0,l=this.spaceWidth,m=this.lineHeight,n=this.spriteSheet,r=!!this._getFrame(" ",n);!r&&0==l&&(l=this._getSpaceWidth(n));0==m&&(m=this._getLineHeight(n));for(var q=0,t=0,u=this.text.length;t<u;t++)if(c=this.text.charAt(t),r||" "!=c)if("\n"==c||"\r"==c)"\r"==c&&"\n"==this.text.charAt(t+1)&&t++,g-e>q&&(q=g-e),g=0,k+=m;else{var w=this._getFrame(c,n);if(w){var v=w.rect;e=w.regX;c=v.width;a&&a.drawImage(w.image,v.x,v.y,c,f=v.height,g-e,k-w.regY,c,f);g+=c+this.letterSpacing}}else g+=l;g-e>q&&(q=g-e);b&&(b.width=q-this.letterSpacing,b.height=k+m)};createjs.BitmapText=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"SpriteSheetUtils cannot be instantiated";},b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");b.getContext&&(c._workingCanvas=b,c._workingContext=b.getContext("2d"),b.width=b.height=1);c.addFlippedFrames=function(a,b,h,f){if(b||h||f){var e=0;b&&c._flip(a,++e,!0,!1);h&&c._flip(a,++e,!1,!0);f&&c._flip(a,++e,!0,!0)}};c.extractFrame=function(a,b){isNaN(b)&&(b=a.getAnimation(b).frames[0]);var h=a.getFrame(b);if(!h)return null;var f=h.rect,e=c._workingCanvas;e.width=f.width;e.height=f.height;c._workingContext.drawImage(h.image,f.x,f.y,f.width,f.height,0,0,f.width,f.height);h=document.createElement("img");return h.src=e.toDataURL("image/png"),h};c.mergeAlpha=function(a,b,c){c||(c=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"));c.width=Math.max(b.width,a.width);c.height=Math.max(b.height,a.height);var f=c.getContext("2d");return f.save(),f.drawImage(a,0,0),f.globalCompositeOperation="destination-in",f.drawImage(b,0,0),f.restore(),c};c._flip=function(a,b,h,f){for(var e=a._images,g=c._workingCanvas,k=c._workingContext,l=e.length/b,m=0;m<l;m++){var n=e[m];n.__tmp=m;k.setTransform(1,0,0,1,0,0);k.clearRect(0,0,g.width+1,g.height+1);g.width=n.width;g.height=n.height;k.setTransform(h?-1:1,0,0,f?-1:1,h?n.width:0,f?n.height:0);k.drawImage(n,0,0);var r=document.createElement("img");r.src=g.toDataURL("image/png");r.width=n.width;r.height=n.height;e.push(r)}k=a._frames;g=k.length/b;for(m=0;m<g;m++){var n=k[m],q=n.rect.clone(),r=e[n.image.__tmp+l*b],t={image:r,rect:q,regX:n.regX,regY:n.regY};h&&(q.x=r.width-q.x-q.width,t.regX=q.width-n.regX);f&&(q.y=r.height-q.y-q.height,t.regY=q.height-n.regY);k.push(t)}h="_"+(h?"h":"")+(f?"v":"");f=a._animations;a=a._data;e=f.length/b;for(m=0;m<e;m++){k=f[m];n=a[k];l={name:k+h,speed:n.speed,next:n.next,frames:[]};n.next&&(l.next+=h);k=n.frames;n=0;for(r=k.length;n<r;n++)l.frames.push(k[n]+g*b);a[l.name]=l;f.push(l.name)}};createjs.SpriteSheetUtils=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype=new createjs.EventDispatcher;c.ERR_DIMENSIONS="frame dimensions exceed max spritesheet dimensions";c.ERR_RUNNING="a build is already running";b.maxWidth=2048;b.maxHeight=2048;b.spriteSheet=null;b.scale=1;b.padding=1;b.timeSlice=.3;b.progress=-1;b._frames=null;b._animations=null;b._data=null;b._nextFrameIndex=0;b._index=0;b._timerID=null;b._scale=1;b.initialize=function(){this._frames=[];this._animations={}};b.addFrame=function(a,b,h,f,e,g){if(this._data)throw c.ERR_RUNNING;b=b||a.bounds||a.nominalBounds;return!b&&a.getBounds&&(b=a.getBounds()),b?(h=h||1,this._frames.push({source:a,sourceRect:b,scale:h,funct:f,params:e,scope:g,index:this._frames.length,height:b.height*h})-1):null};b.addAnimation=function(a,b,h,f){if(this._data)throw c.ERR_RUNNING;this._animations[a]={frames:b,next:h,frequency:f}};b.addMovieClip=function(a,b,h){if(this._data)throw c.ERR_RUNNING;var f=a.frameBounds,e=b||a.bounds||a.nominalBounds;!e&&a.getBounds&&(e=a.getBounds());if(!e&&!f)return null;b=this._frames.length;for(var g=a.timeline.duration,k=0;k<g;k++)this.addFrame(a,f&&f[k]?f[k]:e,h,function(a){var b=this.actionsEnabled;this.actionsEnabled=!1;this.gotoAndStop(a);this.actionsEnabled=b},[k],a);k=a.timeline._labels;a=[];for(var l in k)a.push({index:k[l],label:l});if(a.length)for(a.sort(function(a,b){return a.index-b.index}),k=0,l=a.length;k<l;k++){h=a[k].label;for(var f=b+(k==l-1?g:a[k+1].index),e=[],m=b+a[k].index;m<f;m++)e.push(m);this.addAnimation(h,e,!0)}};b.build=function(){if(this._data)throw c.ERR_RUNNING;for(this._startBuild();this._drawNext(););return this._endBuild(),this.spriteSheet};b.buildAsync=function(a){if(this._data)throw c.ERR_RUNNING;this.timeSlice=a;this._startBuild();var b=this;this._timerID=setTimeout(function(){b._run()},50-50*Math.max(.01,Math.min(.99,this.timeSlice||.3)))};b.stopAsync=function(){clearTimeout(this._timerID);this._data=null};b.clone=function(){throw"SpriteSheetBuilder cannot be cloned.";};b.toString=function(){return"[SpriteSheetBuilder]"};b._startBuild=function(){var a=this.padding||0;this.progress=0;this.spriteSheet=null;this._index=0;this._scale=this.scale;var b=[];this._data={images:[],frames:b,animations:this._animations};var h=this._frames.slice();h.sort(function(a,b){return a.height<=b.height?-1:1});if(h[h.length-1].height+2*a>this.maxHeight)throw c.ERR_DIMENSIONS;for(var f=0,e=0,g=0;h.length;){var k=this._fillRow(h,f,g,b,a);k.w>e&&(e=k.w);f+=k.h;if(!k.h||!h.length){var l=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas");l.width=this._getSize(e,this.maxWidth);l.height=this._getSize(f,this.maxHeight);this._data.images[g]=l;k.h||(e=f=0,g++)}}};b._getSize=function(a,b){for(var c=4;Math.pow(2,++c)<a;);return Math.min(b,Math.pow(2,c))};b._fillRow=function(a,b,h,f,e){var g=this.maxWidth,k=this.maxHeight;b+=e;for(var k=k-b,l=e,m=0,n=a.length-1;0<=n;n--){var r=a[n],q=this._scale*r.scale,t=r.sourceRect,u=r.source,w=Math.floor(q*t.x-e),v=Math.floor(q*t.y-e),x=Math.ceil(q*t.height+2*e),t=Math.ceil(q*t.width+2*e);if(t>g)throw c.ERR_DIMENSIONS;x>k||l+t>g||(r.img=h,r.rect=new createjs.Rectangle(l,b,t,x),m=m||x,a.splice(n,1),f[r.index]=[l,b,t,x,h,Math.round(-w+q*u.regX-e),Math.round(-v+q*u.regY-e)],l+=t)}return{w:l,h:m}};b._endBuild=function(){this.spriteSheet=new createjs.SpriteSheet(this._data);this._data=null;this.progress=1;this.dispatchEvent("complete")};b._run=function(){for(var a=50*Math.max(.01,Math.min(.99,this.timeSlice||.3)),b=(new Date).getTime()+a,c=!1;b>(new Date).getTime();)if(!this._drawNext()){c=!0;break}if(c)this._endBuild();else{var f=this;this._timerID=setTimeout(function(){f._run()},50-a)}a=this.progress=this._index/this._frames.length;this.hasEventListener("progress")&&(b=new createjs.Event("progress"),b.progress=a,this.dispatchEvent(b))};b._drawNext=function(){var a=this._frames[this._index],b=a.scale*this._scale,c=a.rect,f=a.sourceRect,e=this._data.images[a.img].getContext("2d");return a.funct&&a.funct.apply(a.scope,a.params),e.save(),e.beginPath(),e.rect(c.x,c.y,c.width,c.height),e.clip(),e.translate(Math.ceil(c.x-f.x*b),Math.ceil(c.y-f.y*b)),e.scale(b,b),a.source.draw(e),e.restore(),++this._index<this._frames.length};createjs.SpriteSheetBuilder=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.DisplayObject;b.htmlElement=null;b._oldMtx=null;b._visible=!1;b.DisplayObject_initialize=b.initialize;b.initialize=function(a){"string"==typeof a&&(a=document.getElementById(a));this.DisplayObject_initialize();this.mouseEnabled=!1;this.htmlElement=a;a=a.style;a.position="absolute";a.transformOrigin=a.WebkitTransformOrigin=a.msTransformOrigin=a.MozTransformOrigin=a.OTransformOrigin="0% 0%"};b.isVisible=function(){return null!=this.htmlElement};b.draw=function(a,b){return this.visible&&(this._visible=!0),!0};b.cache=function(){};b.uncache=function(){};b.updateCache=function(){};b.hitTest=function(){};b.localToGlobal=function(){};b.globalToLocal=function(){};b.localToLocal=function(){};b.clone=function(){throw"DOMElement cannot be cloned.";};b.toString=function(){return"[DOMElement (name\x3d"+this.name+")]"};b.DisplayObject__tick=b._tick;b._tick=function(a){var b=this.getStage();this._visible=!1;b&&b.on("drawend",this._handleDrawEnd,this,!0);this.DisplayObject__tick(a)};b._handleDrawEnd=function(a){if(a=this.htmlElement){a=a.style;var b=this._visible?"visible":"hidden";b!=a.visibility&&(a.visibility=b);if(this._visible){var b=this.getConcatenatedMatrix(this._matrix),c=this._oldMtx;c&&c.alpha==b.alpha||(a.opacity=""+(1E4*b.alpha|0)/1E4,c&&(c.alpha=b.alpha));if(!c||c.tx!=b.tx||c.ty!=b.ty||c.a!=b.a||c.b!=b.b||c.c!=b.c||c.d!=b.d){var f="matrix("+(1E4*b.a|0)/1E4+","+(1E4*b.b|0)/1E4+","+(1E4*b.c|0)/1E4+","+(1E4*b.d|0)/1E4+","+(b.tx+.5|0);a.transform=a.WebkitTransform=a.OTransform=a.msTransform=f+","+(b.ty+.5|0)+")";a.MozTransform=f+"px,"+(b.ty+.5|0)+"px)";this._oldMtx=c?c.copy(b):b.clone()}}}};createjs.DOMElement=c})();this.createjs=this.createjs||{};(function(){var c=function(){this.initialize()},b=c.prototype;b.initialize=function(){};b.getBounds=function(){return null};b.applyFilter=function(a,b,c,f,e,g,k,l){};b.toString=function(){return"[Filter]"};b.clone=function(){return new c};createjs.Filter=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.Filter;b.initialize=function(a,b,c){if(isNaN(a)||0>a)a=0;this.blurX=a|0;if(isNaN(b)||0>b)b=0;this.blurY=b|0;if(isNaN(c)||1>c)c=1;this.quality=c|0};b.blurX=0;b.blurY=0;b.quality=1;b.mul_table=[1,171,205,293,57,373,79,137,241,27,391,357,41,19,283,265,497,469,443,421,25,191,365,349,335,161,155,149,9,278,269,261,505,245,475,231,449,437,213,415,405,395,193,377,369,361,353,345,169,331,325,319,313,307,301,37,145,285,281,69,271,267,263,259,509,501,493,243,479,118,465,459,113,446,55,435,429,423,209,413,51,403,199,393,97,3,379,375,371,367,363,359,355,351,347,43,85,337,333,165,327,323,5,317,157,311,77,305,303,75,297,294,73,289,287,71,141,279,277,275,68,135,67,133,33,262,260,129,511,507,503,499,495,491,61,121,481,477,237,235,467,232,115,457,227,451,7,445,221,439,218,433,215,427,425,211,419,417,207,411,409,203,202,401,399,396,197,49,389,387,385,383,95,189,47,187,93,185,23,183,91,181,45,179,89,177,11,175,87,173,345,343,341,339,337,21,167,83,331,329,327,163,81,323,321,319,159,79,315,313,39,155,309,307,153,305,303,151,75,299,149,37,295,147,73,291,145,289,287,143,285,71,141,281,35,279,139,69,275,137,273,17,271,135,269,267,133,265,33,263,131,261,130,259,129,257,1];b.shg_table=[0,9,10,11,9,12,10,11,12,9,13,13,10,9,13,13,14,14,14,14,10,13,14,14,14,13,13,13,9,14,14,14,15,14,15,14,15,15,14,15,15,15,14,15,15,15,15,15,14,15,15,15,15,15,15,12,14,15,15,13,15,15,15,15,16,16,16,15,16,14,16,16,14,16,13,16,16,16,15,16,13,16,15,16,14,9,16,16,16,16,16,16,16,16,16,13,14,16,16,15,16,16,10,16,15,16,14,16,16,14,16,16,14,16,16,14,15,16,16,16,14,15,14,15,13,16,16,15,17,17,17,17,17,17,14,15,17,17,16,16,17,16,15,17,16,17,11,17,16,17,16,17,16,17,17,16,17,17,16,17,17,16,16,17,17,17,16,14,17,17,17,17,15,16,14,16,15,16,13,16,15,16,14,16,15,16,12,16,15,16,17,17,17,17,17,13,16,15,17,17,17,16,15,17,17,17,16,15,17,17,14,16,17,17,16,17,17,16,15,17,16,14,17,16,15,17,16,17,17,16,17,15,16,17,14,17,16,15,17,16,17,13,17,16,17,17,16,17,14,17,16,17,16,17,16,17,9];b.getBounds=function(){var a=.5*Math.pow(this.quality,.6);return new createjs.Rectangle(-this.blurX*a,-this.blurY*a,2*this.blurX*a,2*this.blurY*a)};b.applyFilter=function(a,b,c,f,e,g,k,l){g=g||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,f,e)}catch(Y){return!1}a=this.blurX/2;if(isNaN(a)||0>a)return!1;a|=0;var n=this.blurY/2;if(isNaN(n)||0>n)return!1;n|=0;if(0==a&&0==n)return!1;var r=this.quality;if(isNaN(r)||1>r)r=1;r|=0;3<r&&(r=3);1>r&&(r=1);var q=m.data,t,u,w,v,x,y,B,p,z,D,H,L,O=a+a+1;v=n+n+1;var N=f-1,Q=e-1,F=a+1,K=n+1,R={r:0,b:0,g:0,a:0,next:null};b=R;for(t=1;t<O;t++)b=b.next={r:0,b:0,g:0,a:0,next:null};b.next=R;c=O={r:0,b:0,g:0,a:0,next:null};for(t=1;t<v;t++)c=c.next={r:0,b:0,g:0,a:0,next:null};c.next=O;for(t=null;0<r--;){x=v=0;var A=this.mul_table[a],G=this.shg_table[a];for(c=e;-1<--c;){y=F*(D=q[v]);B=F*(H=q[v+1]);p=F*(L=q[v+2]);z=F*(w=q[v+3]);b=R;for(t=F;-1<--t;)b.r=D,b.g=H,b.b=L,b.a=w,b=b.next;for(t=1;t<F;t++)u=v+((N<t?N:t)<<2),y+=b.r=q[u],B+=b.g=q[u+1],p+=b.b=q[u+2],z+=b.a=q[u+3],b=b.next;t=R;for(b=0;b<f;b++)q[v++]=y*A>>>G,q[v++]=B*A>>>G,q[v++]=p*A>>>G,q[v++]=z*A>>>G,u=x+((u=b+a+1)<N?u:N)<<2,y-=t.r-(t.r=q[u]),B-=t.g-(t.g=q[u+1]),p-=t.b-(t.b=q[u+2]),z-=t.a-(t.a=q[u+3]),t=t.next;x+=f}A=this.mul_table[n];G=this.shg_table[n];for(b=0;b<f;b++){v=b<<2;y=K*(D=q[v]);B=K*(H=q[v+1]);p=K*(L=q[v+2]);z=K*(w=q[v+3]);c=O;for(t=0;t<K;t++)c.r=D,c.g=H,c.b=L,c.a=w,c=c.next;w=f;for(t=1;t<=n;t++)v=w+b<<2,y+=c.r=q[v],B+=c.g=q[v+1],p+=c.b=q[v+2],z+=c.a=q[v+3],c=c.next,t<Q&&(w+=f);v=b;t=O;if(0<r)for(c=0;c<e;c++)u=v<<2,q[u+3]=w=z*A>>>G,0<w?(q[u]=y*A>>>G,q[u+1]=B*A>>>G,q[u+2]=p*A>>>G):q[u]=q[u+1]=q[u+2]=0,u=b+((u=c+K)<Q?u:Q)*f<<2,y-=t.r-(t.r=q[u]),B-=t.g-(t.g=q[u+1]),p-=t.b-(t.b=q[u+2]),z-=t.a-(t.a=q[u+3]),t=t.next,v+=f;else for(c=0;c<e;c++)u=v<<2,q[u+3]=w=z*A>>>G,0<w?(w=255/w,q[u]=(y*A>>>G)*w,q[u+1]=(B*A>>>G)*w,q[u+2]=(p*A>>>G)*w):q[u]=q[u+1]=q[u+2]=0,u=b+((u=c+K)<Q?u:Q)*f<<2,y-=t.r-(t.r=q[u]),B-=t.g-(t.g=q[u+1]),p-=t.b-(t.b=q[u+2]),z-=t.a-(t.a=q[u+3]),t=t.next,v+=f}}return g.putImageData(m,k,l),!0};b.clone=function(){return new c(this.blurX,this.blurY,this.quality)};b.toString=function(){return"[BlurFilter]"};createjs.BlurFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.initialize=function(a){this.alphaMap=a};b.alphaMap=null;b._alphaMap=null;b._mapData=null;b.applyFilter=function(a,b,c,f,e,g,k,l){if(!this.alphaMap)return!0;if(!this._prepAlphaMap())return!1;g=g||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,f,e)}catch(n){return!1}a=m.data;b=this._mapData;c=a.length;for(f=0;f<c;f+=4)a[f+3]=b[f]||0;return g.putImageData(m,k,l),!0};b.clone=function(){return new c(this.alphaMap)};b.toString=function(){return"[AlphaMapFilter]"};b._prepAlphaMap=function(){if(!this.alphaMap)return!1;if(this.alphaMap==this._alphaMap&&this._mapData)return!0;this._mapData=null;var a=this._alphaMap=this.alphaMap,b=a,c;a instanceof HTMLCanvasElement?c=b.getContext("2d"):(b=createjs.createCanvas?createjs.createCanvas():document.createElement("canvas"),b.width=a.width,b.height=a.height,c=b.getContext("2d"),c.drawImage(a,0,0));try{var f=c.getImageData(0,0,a.width,a.height)}catch(e){return!1}return this._mapData=f.data,!0};createjs.AlphaMapFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.initialize=function(a){this.mask=a};b.mask=null;b.applyFilter=function(a,b,c,f,e,g,k,l){return this.mask?(g=g||a,null==k&&(k=b),null==l&&(l=c),g.save(),a!=g,g.globalCompositeOperation="destination-in",g.drawImage(this.mask,k,l),g.restore(),!0):!0};b.clone=function(){return new c(this.mask)};b.toString=function(){return"[AlphaMaskFilter]"};createjs.AlphaMaskFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c,f,e,g,k,l){this.initialize(a,b,c,f,e,g,k,l)},b=c.prototype=new createjs.Filter;b.redMultiplier=1;b.greenMultiplier=1;b.blueMultiplier=1;b.alphaMultiplier=1;b.redOffset=0;b.greenOffset=0;b.blueOffset=0;b.alphaOffset=0;b.initialize=function(a,b,c,f,e,g,k,l){this.redMultiplier=null!=a?a:1;this.greenMultiplier=null!=b?b:1;this.blueMultiplier=null!=c?c:1;this.alphaMultiplier=null!=f?f:1;this.redOffset=e||0;this.greenOffset=g||0;this.blueOffset=k||0;this.alphaOffset=l||0};b.applyFilter=function(a,b,c,f,e,g,k,l){g=g||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,f,e)}catch(n){return!1}a=m.data;b=a.length;for(c=0;c<b;c+=4)a[c]=a[c]*this.redMultiplier+this.redOffset,a[c+1]=a[c+1]*this.greenMultiplier+this.greenOffset,a[c+2]=a[c+2]*this.blueMultiplier+this.blueOffset,a[c+3]=a[c+3]*this.alphaMultiplier+this.alphaOffset;return g.putImageData(m,k,l),!0};b.toString=function(){return"[ColorFilter]"};b.clone=function(){return new c(this.redMultiplier,this.greenMultiplier,this.blueMultiplier,this.alphaMultiplier,this.redOffset,this.greenOffset,this.blueOffset,this.alphaOffset)};createjs.ColorFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c,f){this.initialize(a,b,c,f)},b=c.prototype;c.DELTA_INDEX=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];c.IDENTITY_MATRIX=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1];c.LENGTH=c.IDENTITY_MATRIX.length;b.initialize=function(a,b,c,f){return this.reset(),this.adjustColor(a,b,c,f),this};b.reset=function(){return this.copyMatrix(c.IDENTITY_MATRIX)};b.adjustColor=function(a,b,c,f){return this.adjustHue(f),this.adjustContrast(b),this.adjustBrightness(a),this.adjustSaturation(c)};b.adjustBrightness=function(a){return 0==a||isNaN(a)?this:(a=this._cleanValue(a,255),this._multiplyMatrix([1,0,0,0,a,0,1,0,0,a,0,0,1,0,a,0,0,0,1,0,0,0,0,0,1]),this)};b.adjustContrast=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);var b;return 0>a?b=127+a/100*127:(b=a%1,0==b?b=c.DELTA_INDEX[a]:b=c.DELTA_INDEX[a<<0]*(1-b)+c.DELTA_INDEX[(a<<0)+1]*b,b=127*b+127),this._multiplyMatrix([b/127,0,0,0,.5*(127-b),0,b/127,0,0,.5*(127-b),0,0,b/127,0,.5*(127-b),0,0,0,1,0,0,0,0,0,1]),this};b.adjustSaturation=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,100);a=1+(0<a?3*a/100:a/100);return this._multiplyMatrix([.3086*(1-a)+a,.6094*(1-a),.082*(1-a),0,0,.3086*(1-a),.6094*(1-a)+a,.082*(1-a),0,0,.3086*(1-a),.6094*(1-a),.082*(1-a)+a,0,0,0,0,0,1,0,0,0,0,0,1]),this};b.adjustHue=function(a){if(0==a||isNaN(a))return this;a=this._cleanValue(a,180)/180*Math.PI;var b=Math.cos(a);a=Math.sin(a);return this._multiplyMatrix([.213+.787*b+-.213*a,.715+-.715*b+-.715*a,.072+-.072*b+.928*a,0,0,.213+-.213*b+.143*a,.715+b*(1-.715)+.14*a,.072+-.072*b+-.283*a,0,0,.213+-.213*b+-.787*a,.715+-.715*b+.715*a,.072+.928*b+.072*a,0,0,0,0,0,1,0,0,0,0,0,1]),this};b.concat=function(a){return a=this._fixMatrix(a),a.length!=c.LENGTH?this:(this._multiplyMatrix(a),this)};b.clone=function(){return(new c).copyMatrix(this)};b.toArray=function(){for(var a=[],b=0,h=c.LENGTH;b<h;b++)a[b]=this[b];return a};b.copyMatrix=function(a){for(var b=c.LENGTH,h=0;h<b;h++)this[h]=a[h];return this};b.toString=function(){return"[ColorMatrix]"};b._multiplyMatrix=function(a){for(var b=[],c=0;5>c;c++){for(var f=0;5>f;f++)b[f]=this[f+5*c];for(f=0;5>f;f++){for(var e=0,g=0;5>g;g++)e+=a[f+5*g]*b[g];this[f+5*c]=e}}};b._cleanValue=function(a,b){return Math.min(b,Math.max(-b,a))};b._fixMatrix=function(a){return a instanceof c&&(a=a.toArray()),a.length<c.LENGTH?a=a.slice(0,a.length).concat(c.IDENTITY_MATRIX.slice(a.length,c.LENGTH)):a.length>c.LENGTH&&(a=a.slice(0,c.LENGTH)),a};createjs.ColorMatrix=c})();this.createjs=this.createjs||{};(function(){var c=function(a){this.initialize(a)},b=c.prototype=new createjs.Filter;b.matrix=null;b.initialize=function(a){this.matrix=a};b.applyFilter=function(a,b,c,f,e,g,k,l){g=g||a;null==k&&(k=b);null==l&&(l=c);try{var m=a.getImageData(b,c,f,e)}catch(G){return!1}a=m.data;b=a.length;var n,r,q,t;n=this.matrix;c=n[0];f=n[1];e=n[2];for(var u=n[3],w=n[4],v=n[5],x=n[6],y=n[7],B=n[8],p=n[9],z=n[10],D=n[11],H=n[12],L=n[13],O=n[14],N=n[15],Q=n[16],F=n[17],K=n[18],R=n[19],A=0;A<b;A+=4)n=a[A],r=a[A+1],q=a[A+2],t=a[A+3],a[A]=n*c+r*f+q*e+t*u+w,a[A+1]=n*v+r*x+q*y+t*B+p,a[A+2]=n*z+r*D+q*H+t*L+O,a[A+3]=n*N+r*Q+q*F+t*K+R;return g.putImageData(m,k,l),!0};b.toString=function(){return"[ColorMatrixFilter]"};b.clone=function(){return new c(this.matrix)};createjs.ColorMatrixFilter=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"Touch cannot be instantiated";};c.isSupported=function(){return"ontouchstart"in window||window.navigator.msPointerEnabled&&0<window.navigator.msMaxTouchPoints||window.navigator.pointerEnabled&&0<window.navigator.maxTouchPoints};c.enable=function(b,a,d){return b&&b.canvas&&c.isSupported()?(b.__touch={pointers:{},multitouch:!a,preventDefault:!d,count:0},"ontouchstart"in window?c._IOS_enable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_enable(b),!0):!1};c.disable=function(b){b&&("ontouchstart"in window?c._IOS_disable(b):(window.navigator.msPointerEnabled||window.navigator.pointerEnabled)&&c._IE_disable(b))};c._IOS_enable=function(b){var a=b.canvas,d=b.__touch.f=function(a){c._IOS_handleEvent(b,a)};a.addEventListener("touchstart",d,!1);a.addEventListener("touchmove",d,!1);a.addEventListener("touchend",d,!1);a.addEventListener("touchcancel",d,!1)};c._IOS_disable=function(b){var a=b.canvas;a&&(b=b.__touch.f,a.removeEventListener("touchstart",b,!1),a.removeEventListener("touchmove",b,!1),a.removeEventListener("touchend",b,!1),a.removeEventListener("touchcancel",b,!1))};c._IOS_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();for(var c=a.changedTouches,h=a.type,f=0,e=c.length;f<e;f++){var g=c[f],k=g.identifier;g.target==b.canvas&&("touchstart"==h?this._handleStart(b,k,a,g.pageX,g.pageY):"touchmove"==h?this._handleMove(b,k,a,g.pageX,g.pageY):("touchend"==h||"touchcancel"==h)&&this._handleEnd(b,k,a))}}};c._IE_enable=function(b){var a=b.canvas,d=b.__touch.f=function(a){c._IE_handleEvent(b,a)};void 0===window.navigator.pointerEnabled?(a.addEventListener("MSPointerDown",d,!1),window.addEventListener("MSPointerMove",d,!1),window.addEventListener("MSPointerUp",d,!1),window.addEventListener("MSPointerCancel",d,!1),b.__touch.preventDefault&&(a.style.msTouchAction="none")):(a.addEventListener("pointerdown",d,!1),window.addEventListener("pointermove",d,!1),window.addEventListener("pointerup",d,!1),window.addEventListener("pointercancel",d,!1),b.__touch.preventDefault&&(a.style.touchAction="none"));b.__touch.activeIDs={}};c._IE_disable=function(b){var a=b.__touch.f;void 0===window.navigator.pointerEnabled?(window.removeEventListener("MSPointerMove",a,!1),window.removeEventListener("MSPointerUp",a,!1),window.removeEventListener("MSPointerCancel",a,!1),b.canvas&&b.canvas.removeEventListener("MSPointerDown",a,!1)):(window.removeEventListener("pointermove",a,!1),window.removeEventListener("pointerup",a,!1),window.removeEventListener("pointercancel",a,!1),b.canvas&&b.canvas.removeEventListener("pointerdown",a,!1))};c._IE_handleEvent=function(b,a){if(b){b.__touch.preventDefault&&a.preventDefault&&a.preventDefault();var c=a.type,h=a.pointerId,f=b.__touch.activeIDs;if("MSPointerDown"==c||"pointerdown"==c)a.srcElement==b.canvas&&(f[h]=!0,this._handleStart(b,h,a,a.pageX,a.pageY));else if(f[h])if("MSPointerMove"==c||"pointermove"==c)this._handleMove(b,h,a,a.pageX,a.pageY);else if("MSPointerUp"==c||"MSPointerCancel"==c||"pointerup"==c||"pointercancel"==c)delete f[h],this._handleEnd(b,h,a)}};c._handleStart=function(b,a,c,h,f){var e=b.__touch;if(e.multitouch||!e.count){var g=e.pointers;g[a]||(g[a]=!0,e.count++,b._handlePointerDown(a,c,h,f))}};c._handleMove=function(b,a,c,h,f){b.__touch.pointers[a]&&b._handlePointerMove(a,c,h,f)};c._handleEnd=function(b,a,c){var h=b.__touch,f=h.pointers;f[a]&&(h.count--,b._handlePointerUp(a,c,!0),delete f[a])};createjs.Touch=c})();this.createjs=this.createjs||{};(function(){var c=createjs.EaselJS=createjs.EaselJS||{};c.version="0.7.1";c.buildDate="Tue, 04 Mar 2014 23:51:13 GMT"})();define("cjs",function(c){return function(){return c.createjs}}(this));define("Screen",["cjs"],function(c){var b=function(){this.init()};c=b.prototype=new c.Container;return c.Container_draw=c.draw,c.getName=function(){return this._name},c.draw=function(a,b){return this.Container_draw(a,b)},c.getScreenController=function(){return this._screenController},c.init=function(){this.initialize()},c.didScreenSelected=function(a){},c.didScreenUnselected=function(){},c._name=null,c._builded=!1,c._screenController=null,c._build=function(){},b});define("assetStorage",["cjs"],function(c){return{add:function(b,a){if(-1!=a.indexOf("atlas.json"))for(var c in b.frames)if(b.frames.hasOwnProperty(c)){var h="gfx/"+c.replace("0000","")+".png",f=a.replace(".json",".png");this._atlas[h]={png:f,frame:b.frames[c].frame}}this._assets[a]=b},get:function(b){return this._assets[b]},getBitmap:function(b){var a=this.get(b);a?a=new c.Bitmap(a):this._atlas.hasOwnProperty(b)?(b=this._atlas[b],a=this.get(b.png),a=new c.Bitmap(a),a.sourceRect=new c.Rectangle(b.frame.x,b.frame.y,b.frame.w,b.frame.h)):a=new c.Bitmap;return a},remove:function(b){delete this._assets[b]},_assets:{},_atlas:{}}});define("gui/ComponentRenderer",["require"],function(c){c=function(){this.init()};var b=c.prototype;return b.init=function(){},b.getOwner=function(){return this._owner},b.setOwner=function(a){this._owner=a},b.validate=function(a){},b._owner=null,c});define("gui/Component",["require","cjs","gui/ComponentRenderer"],function(c){var b=c("cjs"),a=c("gui/ComponentRenderer");c=function(){this.initialize()};var d=c.prototype=new b.Container;return d.getRenderer=function(){return this._renderer},d.setRenderer=function(a){(this._renderer=a)&&(this._renderer._owner=this);this.invalidate()},d.Container_initialize=d.initialize,d.initialize=function(){this.Container_initialize();this.setRenderer(new a);this.addChild(new b.DisplayObject)},d.Container_draw=d.draw,d.draw=function(a,b){return this._invalid&&this.validate(),this.Container_draw(a,b)},d.invalidate=function(){this._invalid=!0;this._invalidFlags=this._invalidFlags||{};for(var a=0;a<arguments.length;a++)this._invalidFlags[arguments[a]]=null},d.validate=function(){this._renderer.validate(this._invalidFlags);this._invalidFlags=null;this._invalid=!1},d._invalid=!0,d._renderer=null,d._invalidFlags=null,c});define("gui/Button",["require","gui/Component"],function(c){var b=c("gui/Component"),a={stateChanged:"stateChanged"},d={enabled:2,hover:4,pressed:8};c=function(a){a||this.initialize()};c.invFlags=a;c.stateFlags=d;b=c.prototype=new b;return b.Component_initialize=b.initialize,b.initialize=function(){this.Component_initialize();this.mouseChildren=!1;this.subscribeToEvents()},b.getEnabled=function(){return this._enabled},b.getPressed=function(){return this._isPressed},b.getMouseHover=function(){return this._isOver},b.getActive=function(){return this._enabled},b.getState=function(){var a=0;return this._isPressed&&(a|=d.pressed),this._enabled&&(a|=d.active),this._isOver&&(a|=d.hover),a},b.subscribeToEvents=function(){this.cursor="pointer";this.addEventListener("rollover",this);this.addEventListener("rollout",this);this.addEventListener("mousedown",this);this.addEventListener("pressup",this)},b.unsubscribeToEvents=function(){this.cursor=null;this.removeEventListener("rollover",this);this.removeEventListener("rollout",this);this.removeEventListener("mousedown",this);this.removeEventListener("pressup",this)},b.handleEvent=function(b){b=b.type;"mousedown"==b?this._isPressed=!0:"pressup"==b?this._isPressed=!1:this._isOver="rollover"==b;this.invalidate(a.stateChanged)},b._state=0,b._isPressed=!1,b._isOver=!1,b._enabled=!0,c});define("gui/ToggleButton",["require","cjs","gui/Button"],function(c){var b=c("cjs"),a=c("gui/Button");c=function(){this.initialize()};a=c.prototype=new a(!0);return a.getSelected=function(){return this._selected},a.setSelected=function(a){a!=this._selected&&(this._selected=a,this.invalidate())},a.Button_handleEvent=a.handleEvent,a.handleEvent=function(a){"pressup"==a.type&&(this._selected=!this._selected,this.dispatchEvent(new b.Event("change")));this.Button_handleEvent(a)},a._selected=!1,c});define("gui/ButtonRenderer",["require","gui/ComponentRenderer"],function(c){var b=c("gui/ComponentRenderer");c=function(){};b=c.prototype=new b;return b.getButton=function(){},b.setButton=function(){},b.buttonStateChanged=function(){},b._button=null,c});define("gui/BitmapButtonRenderer",["require","gui/ButtonRenderer","gui/Button"],function(c){var b=c("gui/ButtonRenderer"),a=c("gui/Button");c=function(){};b=c.prototype=new b;return b.setFlagBitmaps=function(a){this._flagBitmaps=a},b.setAnchors=function(a,b){this._anchorX=a;this._anchorY=b;this.getOwner()&&this.getOwner().invalidate()},b.validate=function(a){a=this.getOwner().getState();a=this._getBitmapForState(a);this._currBitmap!=a&&(this._currBitmap&&this.getOwner().removeChild(this._currBitmap),a&&(a.name="bitmapButtonRenderer",a.x=-(a.getBounds().width*this._anchorX),a.y=-(a.getBounds().height*this._anchorY),this.getOwner().addChild(a),this._currBitmap=a))},b._flagBitmaps=null,b._getBitmapForState=function(b){var c=a.stateFlags,f=this._flagBitmaps,e;b&c.pressed?e="pressed":b&c.hover&&(e="hover");(b=b&c.enabled?f.enabled:f.disabled)||(b=f["default"]);b=b[e];return b||(b=f["default"][e]),b||(b=f["default"].active),b},b._currBitmap=null,b._anchorX=0,b._anchorY=0,c});define("gui/ToggleButtonBitmapRenderer",["require","gui/ComponentRenderer","gui/BitmapButtonRenderer","gui/Button"],function(c){c("gui/ComponentRenderer");var b=c("gui/BitmapButtonRenderer"),a=c("gui/Button");c=function(){this._bitmaps={}};b=c.prototype=new b;return b.getBitmaps=function(){},b.setBitmaps=function(){},b._getBitmapForState=function(b){var c=a.stateFlags,f=this._flagBitmaps,e="idle";b&c.pressed?e="pressed":b&c.hover&&(e="hover");(c=b&c.enabled?f.enabled:f.disabled)||(c=f["default"]);b=this.getOwner().getSelected()?"selected":"idle";(c=c[b])||(c=f["default"]);c=c[e];return c||(c=f["default"][b][e]),c||(c=f["default"][b].idle),c},b._bitmaps=null,b._selected=!1,c});define("gui/BitmapButton",["require","gui/Button","gui/BitmapButtonRenderer"],function(c){var b=c("gui/Button"),a=c("gui/BitmapButtonRenderer");c=function(){};c.createButton=function(c){var h=new b;h.x=c.x||0;h.y=c.y||0;var f=new a;return f.setFlagBitmaps(c.flags||{}),f.setAnchors(c.anchorX||0,c.anchorY||0),h.setRenderer(f),h};return c});define("gui/popUpUtils",{show:function(c,b){c&&c.addChild&&c.addChild(b)},hide:function(c){c&&c.parent&&c.parent.removeChild&&c.parent.removeChild(c)}});define("ScaleUtils",["require"],function(c){return{fit:function(b,a,c,h){c=h/c>a/b?c/b:h/a;return{width:b*c,height:a*c}},fill:function(b,a,c,h){c=h/c<a/b?c/b:h/a;return{width:b*c,height:a*c}},fillX:function(b,a,c,h){c/=b;return{width:b*c,height:a*c}},fillY:function(b,a,c,h){c=h/a;return{width:b*c,height:a*c}}}});define("screenSize",["require","ScaleUtils"],function(c){var b=c("ScaleUtils");return{baseWidth:void 0,baseHeight:void 0,width:void 0,height:void 0,maxWidth:void 0,maxHeight:void 0,getRatio:function(){return this.width/this.height},setUp:function(a,c,h,f){this.maxWidth=h;this.maxHeight=f;this.baseWidth=a;this.baseHeight=c;a=window.innerWidth;c=window.innerHeight;var e=b.fit(this.baseWidth,this.baseHeight,a,c).width/this.baseWidth;this.width=Math.floor(a/e);this.height=Math.floor(c/e);this.width>h&&(this.width=h);this.height>f&&(this.height=f)},resize:function(){}}});define("screens/InfoPopUp",["require","gui/popUpUtils","cjs","assetStorage","screenSize"],function(c){var b=c("gui/popUpUtils"),a=c("cjs");c("assetStorage");c("screenSize");c=function(){this.initialize();this.create()};a=c.prototype=new a.Container;return a.create=function(){MtaH5.clickStat("tdlxj_more_game");clickMore()},a.show=function(a){b.show(a,this)},a.hide=function(){b.hide(this)},c});this.createjs=this.createjs||{};(function(){var c=createjs.SoundJS=createjs.SoundJS||{};c.version="0.5.2";c.buildDate="Thu, 12 Dec 2013 23:33:37 GMT"})();this.createjs=this.createjs||{};(function(){var c=function(){},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,b,c){var f;f=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=f[a];return e&&this.removeEventListener(a,b,c),e=f[a],e?e.push(b):f[a]=[b],b};b.on=function(a,b,c,f,e,g){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e);f&&a.remove()},g)};b.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var f=c[a];if(f)for(var e=0,g=f.length;g>e;e++)if(f[e]==b){1==g?delete c[a]:f.splice(e,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var f=this,c=[f];f.parent;)c.push(f=f.parent);for(var e=c.length,f=e-1;0<=f&&!a.propagationStopped;f--)c[f]._dispatchEvent(a,1+(0==f));for(f=1;e>f&&!a.propagationStopped;f++)c[f]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,f=1==b?this._captureListeners:this._listeners;if(a&&f&&(f=f[a.type])&&(c=f.length)){a.currentTarget=this;a.eventPhase=b;a.removed=!1;for(var f=f.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var g=f[e];g.handleEvent?g.handleEvent(a):g(a);a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,b,c){this.type=a;this.bubbles=b;this.cancelable=c;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type\x3d"+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,b){for(var a=0,d=c.length;d>a;a++)if(b===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){return c.apply(b,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};(function(){function c(){throw"Sound cannot be instantiated";}function b(a,b){this.init(a,b)}function a(){}c.DELIMITER="|";c.INTERRUPT_ANY="any";c.INTERRUPT_EARLY="early";c.INTERRUPT_LATE="late";c.INTERRUPT_NONE="none";c.PLAY_INITED="playInited";c.PLAY_SUCCEEDED="playSucceeded";c.PLAY_INTERRUPTED="playInterrupted";c.PLAY_FINISHED="playFinished";c.PLAY_FAILED="playFailed";c.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");c.EXTENSION_MAP={m4a:"mp4"};c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.defaultInterruptBehavior=c.INTERRUPT_NONE;c.alternateExtensions=[];c._lastID=0;c.activePlugin=null;c._pluginsRegistered=!1;c._masterVolume=1;c._masterMute=!1;c._instances=[];c._idHash={};c._preloadHash={};c._defaultSoundInstance=null;c.addEventListener=null;c.removeEventListener=null;c.removeAllEventListeners=null;c.dispatchEvent=null;c.hasEventListener=null;c._listeners=null;createjs.EventDispatcher.initialize(c);c._sendFileLoadEvent=function(a){if(c._preloadHash[a])for(var b=0,d=c._preloadHash[a].length;d>b;b++){var g=c._preloadHash[a][b];if(c._preloadHash[a][b]=!0,c.hasEventListener("fileload")){var k=new createjs.Event("fileload");k.src=g.src;k.id=g.id;k.data=g.data;c.dispatchEvent(k)}}};c.getPreloadHandlers=function(){return{callback:createjs.proxy(c.initLoad,c),types:["sound"],extensions:c.SUPPORTED_EXTENSIONS}};c.registerPlugin=function(a){try{console.log("createjs.Sound.registerPlugin has been deprecated. Please use registerPlugins.")}catch(b){}return c._registerPlugin(a)};c._registerPlugin=function(a){return c._pluginsRegistered=!0,null==a?!1:a.isSupported()?(c.activePlugin=new a,!0):!1};c.registerPlugins=function(a){for(var b=0,d=a.length;d>b;b++)if(c._registerPlugin(a[b]))return!0;return!1};c.initializeDefaultPlugins=function(){return null!=c.activePlugin?!0:c._pluginsRegistered?!1:c.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};c.isReady=function(){return null!=c.activePlugin};c.getCapabilities=function(){return null==c.activePlugin?null:c.activePlugin._capabilities};c.getCapability=function(a){return null==c.activePlugin?null:c.activePlugin._capabilities[a]};c.initLoad=function(a,b,d,g,k){a=a.replace(k,"");a=c.registerSound(a,d,g,!1,k);return null==a?!1:a};c.registerSound=function(a,d,e,g,k){if(!c.initializeDefaultPlugins())return!1;var l=(a instanceof Object&&(k=d,d=a.id,e=a.data,a=a.src),c.alternateExtensions.length)?c._parsePath2(a,"sound",d,e):c._parsePath(a,"sound",d,e);if(null==l)return!1;null!=k&&(a=k+a,l.src=k+l.src);null!=d&&(c._idHash[d]=l.src);k=null;null!=e&&(isNaN(e.channels)?isNaN(e)||(k=parseInt(e)):k=parseInt(e.channels));var m=c.activePlugin.register(l.src,k);if(null!=m&&(null!=m.numChannels&&(k=m.numChannels),b.create(l.src,k),null!=e&&isNaN(e)?e.channels=l.data.channels=k||b.maxPerChannel():e=l.data=k||b.maxPerChannel(),null!=m.tag?l.tag=m.tag:m.src&&(l.src=m.src),null!=m.completeHandler&&(l.completeHandler=m.completeHandler),m.type&&(l.type=m.type)),0!=g)if(c._preloadHash[l.src]||(c._preloadHash[l.src]=[]),c._preloadHash[l.src].push({src:a,id:d,data:e}),1==c._preloadHash[l.src].length)c.activePlugin.preload(l.src,m);else if(1==c._preloadHash[l.src][0])return!0;return l};c.registerManifest=function(a,b){for(var c=[],d=0,k=a.length;k>d;d++)c[d]=createjs.Sound.registerSound(a[d].src,a[d].id,a[d].data,a[d].preload,b);return c};c.removeSound=function(a,d){if(null==c.activePlugin)return!1;var e=(a instanceof Object&&(a=a.src),a=c._getSrcById(a),c.alternateExtensions.length)?c._parsePath2(a):c._parsePath(a);if(null==e)return!1;null!=d&&(e.src=d+e.src);a=e.src;for(var g in c._idHash)c._idHash[g]==a&&delete c._idHash[g];return b.removeSrc(a),delete c._preloadHash[a],c.activePlugin.removeSound(a),!0};c.removeManifest=function(a,b){for(var c=[],d=0,k=a.length;k>d;d++)c[d]=createjs.Sound.removeSound(a[d].src,b);return c};c.removeAllSounds=function(){c._idHash={};c._preloadHash={};b.removeAll();c.activePlugin.removeAllSounds()};c.loadComplete=function(a){var b=c.alternateExtensions.length?c._parsePath2(a,"sound"):c._parsePath(a,"sound");return a=b?c._getSrcById(b.src):c._getSrcById(a),1==c._preloadHash[a][0]};c._parsePath=function(a,b,d,g){"string"!=typeof a&&(a=a.toString());a=a.split(c.DELIMITER);if(1<a.length)try{console.log('createjs.Sound.DELIMITER "|" loading approach has been deprecated. Please use the new alternateExtensions property.')}catch(r){}b={type:b||"sound",id:d,data:g};d=c.getCapabilities();g=0;for(var k=a.length;k>g;g++){var l=a[g],m=l.match(c.FILE_PATTERN);if(null==m)return!1;var n=m[4],m=m[5];if(d[m]&&-1<createjs.indexOf(c.SUPPORTED_EXTENSIONS,m))return b.name=n,b.src=l,b.extension=m,b}return null};c._parsePath2=function(a,b,d,g){"string"!=typeof a&&(a=a.toString());var k=a.match(c.FILE_PATTERN);if(null==k)return!1;for(var l=k[4],m=k[5],n=c.getCapabilities(),r=0;!n[m];)if(m=c.alternateExtensions[r++],r>c.alternateExtensions.length)return null;a=a.replace("."+k[5],"."+m);b={type:b||"sound",id:d,data:g};return b.name=l,b.src=a,b.extension=m,b};c.play=function(a,b,d,g,k,l,m){a=c.createInstance(a);return c._playInstance(a,b,d,g,k,l,m)||a.playFailed(),a};c.createInstance=function(a){if(!c.initializeDefaultPlugins())return c._defaultSoundInstance;var d=(a=c._getSrcById(a),c.alternateExtensions.length)?c._parsePath2(a,"sound"):c._parsePath(a,"sound");a=null;return null!=d&&null!=d.src?(b.create(d.src),a=c.activePlugin.create(d.src)):a=c._defaultSoundInstance,a.uniqueId=c._lastID++,a};c.setVolume=function(a){if(null==Number(a))return!1;if(a=Math.max(0,Math.min(1,a)),c._masterVolume=a,!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(a))for(var b=this._instances,d=0,g=b.length;g>d;d++)b[d].setMasterVolume(a)};c.getVolume=function(){return c._masterVolume};c.setMute=function(a){if(null==a||void 0==a)return!1;if(this._masterMute=a,!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this._instances,c=0,d=b.length;d>c;c++)b[c].setMasterMute(a);return!0};c.getMute=function(){return this._masterMute};c.stop=function(){for(var a=this._instances,b=a.length;b--;)a[b].stop()};c._playInstance=function(a,b,d,g,k,l,m){if(b instanceof Object&&(d=b.delay,g=b.offset,k=b.loop,l=b.volume,m=b.pan,b=b.interrupt),b=b||c.defaultInterruptBehavior,null==d&&(d=0),null==g&&(g=a.getPosition()),null==k&&(k=0),null==l&&(l=a.volume),null==m&&(m=a.pan),0==d){if(!c._beginPlaying(a,b,g,k,l,m))return!1}else d=setTimeout(function(){c._beginPlaying(a,b,g,k,l,m)},d),a._delayTimeoutId=d;return this._instances.push(a),!0};c._beginPlaying=function(a,c,d,g,k,l){return b.add(a,c)?a._beginPlaying(d,g,k,l)?!0:(a=createjs.indexOf(this._instances,a),-1<a&&this._instances.splice(a,1),!1):!1};c._getSrcById=function(a){return null==c._idHash||null==c._idHash[a]?a:c._idHash[a]};c._playFinished=function(a){b.remove(a);a=createjs.indexOf(this._instances,a);-1<a&&this._instances.splice(a,1)};createjs.Sound=c;b.channels={};b.create=function(a,c){return null==b.get(a)?(b.channels[a]=new b(a,c),!0):!1};b.removeSrc=function(a){var c=b.get(a);return null==c?!1:(c.removeAll(),delete b.channels[a],!0)};b.removeAll=function(){for(var a in b.channels)b.channels[a].removeAll();b.channels={}};b.add=function(a,c){var d=b.get(a.src);return null==d?!1:d.add(a,c)};b.remove=function(a){var c=b.get(a.src);return null==c?!1:(c.remove(a),!0)};b.maxPerChannel=function(){return d.maxDefault};b.get=function(a){return b.channels[a]};var d=b.prototype;d.src=null;d.max=null;d.maxDefault=100;d.length=0;d.init=function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&(this.max=this.maxDefault);this._instances=[]};d.get=function(a){return this._instances[a]};d.add=function(a,b){return this.getSlot(b,a)?(this._instances.push(a),this.length++,!0):!1};d.remove=function(a){a=createjs.indexOf(this._instances,a);return-1==a?!1:(this._instances.splice(a,1),this.length--,!0)};d.removeAll=function(){for(var a=this.length-1;0<=a;a--)this._instances[a].stop()};d.getSlot=function(a){for(var b,d,g=0,k=this.max;k>g;g++){if(b=this.get(g),null==b)return!0;(a!=c.INTERRUPT_NONE||b.playState==c.PLAY_FINISHED)&&(0!=g?b.playState==c.PLAY_FINISHED||b.playState==c.PLAY_INTERRUPTED||b.playState==c.PLAY_FAILED?d=b:(a==c.INTERRUPT_EARLY&&b.getPosition()<d.getPosition()||a==c.INTERRUPT_LATE&&b.getPosition()>d.getPosition())&&(d=b):d=b)}return null!=d?(d._interrupt(),this.remove(d),!0):!1};d.toString=function(){return"[Sound SoundChannel]"};c._defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListeners=this.dispatchEvent=this.hasEventListener=this._listeners=this._interrupt=this._playFailed=this.pause=this.resume=this.play=this._beginPlaying=this._cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=this.playFailed=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=c.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};a.init=function(){var b=window.navigator.userAgent;a.isFirefox=-1<b.indexOf("Firefox");a.isOpera=null!=window.opera;a.isChrome=-1<b.indexOf("Chrome");a.isIOS=-1<b.indexOf("iPod")||-1<b.indexOf("iPhone")||-1<b.indexOf("iPad");a.isAndroid=-1<b.indexOf("Android");a.isBlackberry=-1<b.indexOf("Blackberry")};a.init();createjs.Sound.BrowserDetect=a})();this.createjs=this.createjs||{};(function(){function c(){this._init()}c._capabilities=null;c.isSupported=function(){var a=createjs.Sound.BrowserDetect.isIOS||createjs.Sound.BrowserDetect.isAndroid||createjs.Sound.BrowserDetect.isBlackberry;return"file:"!=location.protocol||a||this._isFileXHRSupported()?(c._generateCapabilities(),null==c.context?!1:!0):!1};c._isFileXHRSupported=function(){var a=!0,b=new XMLHttpRequest;try{b.open("GET","fail.fail",!1)}catch(c){return a=!1}b.onerror=function(){a=!1};b.onload=function(){a=404==this.status||200==this.status||0==this.status&&""!=this.response};try{b.send()}catch(c){a=!1}return a};c._generateCapabilities=function(){if(null==c._capabilities){var a=document.createElement("audio");if(null==a.canPlayType)return null;if(window.webkitAudioContext)c.context=new webkitAudioContext;else{if(!window.AudioContext)return null;c.context=new AudioContext}c._compatibilitySetUp();c.playEmptySound();c._capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,h=createjs.Sound.EXTENSION_MAP,f=0,e=b.length;e>f;f++){var g=b[f],k=h[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+k)&&""!=a.canPlayType("audio/"+k)}2>c.context.destination.numberOfChannels&&(c._capabilities.panning=!1);c.dynamicsCompressorNode=c.context.createDynamicsCompressor();c.dynamicsCompressorNode.connect(c.context.destination);c.gainNode=c.context.createGain();c.gainNode.connect(c.dynamicsCompressorNode)}};c._compatibilitySetUp=function(){if(!c.context.createGain){c.context.createGain=c.context.createGainNode;var a=c.context.createBufferSource();a.__proto__.start=a.__proto__.noteGrainOn;a.__proto__.stop=a.__proto__.noteOff;this._panningModel=0}};c.playEmptySound=function(){var a=this.context.createBuffer(1,1,22050),b=this.context.createBufferSource();b.buffer=a;b.connect(this.context.destination);b.start(0,0,0)};var b=c.prototype;b._capabilities=null;b._volume=1;b.context=null;b._panningModel="equalpower";b.dynamicsCompressorNode=null;b.gainNode=null;b._arrayBuffers=null;b._init=function(){this._capabilities=c._capabilities;this._arrayBuffers={};this.context=c.context;this.gainNode=c.gainNode;this.dynamicsCompressorNode=c.dynamicsCompressorNode};b.register=function(a){this._arrayBuffers[a]=!0;return{tag:new createjs.WebAudioPlugin.Loader(a,this)}};b.isPreloadStarted=function(a){return null!=this._arrayBuffers[a]};b.isPreloadComplete=function(a){return null!=this._arrayBuffers[a]&&1!=this._arrayBuffers[a]};b.removeSound=function(a){delete this._arrayBuffers[a]};b.removeAllSounds=function(){this._arrayBuffers={}};b.addPreloadResults=function(a,b){this._arrayBuffers[a]=b};b._handlePreloadComplete=function(){createjs.Sound._sendFileLoadEvent(this.src)};b.preload=function(a){this._arrayBuffers[a]=!0;a=new createjs.WebAudioPlugin.Loader(a,this);a.onload=this._handlePreloadComplete;a.load()};b.create=function(a){return this.isPreloadStarted(a)||this.preload(a),new createjs.WebAudioPlugin.SoundInstance(a,this)};b.setVolume=function(a){return this._volume=a,this._updateVolume(),!0};b._updateVolume=function(){var a=createjs.Sound._masterMute?0:this._volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)};b.getVolume=function(){return this._volume};b.setMute=function(){return this._updateVolume(),!0};b.toString=function(){return"[WebAudioPlugin]"};createjs.WebAudioPlugin=c})();(function(){function c(a,b){this._init(a,b)}var b=c.prototype=new createjs.EventDispatcher;b.src=null;b.uniqueId=-1;b.playState=null;b._owner=null;b._offset=0;b._delay=0;b._volume=1;try{Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){return null==Number(a)?!1:(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume(),void 0)}})}catch(a){}b._pan=0;try{Object.defineProperty(b,"pan",{get:function(){return this._pan},set:function(a){return this._owner._capabilities.panning&&null!=Number(a)?(a=Math.max(-1,Math.min(1,a)),this._pan=a,this.panNode.setPosition(a,0,-.5),void 0):!1}})}catch(a){}b._duration=0;b._remainingLoops=0;b._delayTimeoutId=null;b._soundCompleteTimeout=null;b.gainNode=null;b.panNode=null;b.sourceNode=null;b._sourceNodeNext=null;b._muted=!1;b._paused=!1;b._startTime=0;b._endedHandler=null;b._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};b._init=function(a,b){this._owner=b;this.src=a;this.gainNode=this._owner.context.createGain();this.panNode=this._owner.context.createPanner();this.panNode.panningModel=this._owner._panningModel;this.panNode.connect(this.gainNode);this._owner.isPreloadComplete(this.src)&&(this._duration=1E3*this._owner._arrayBuffers[this.src].duration);this._endedHandler=createjs.proxy(this._handleSoundComplete,this)};b._cleanUp=function(){this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this.sourceNode=this._cleanUpAudioNode(this.sourceNode),this._sourceNodeNext=this._cleanUpAudioNode(this._sourceNodeNext));0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(0);clearTimeout(this._delayTimeoutId);clearTimeout(this._soundCompleteTimeout);this._startTime=0;null!=window.createjs&&createjs.Sound._playFinished(this)};b._cleanUpAudioNode=function(a){return a&&(a.stop(0),a.disconnect(this.panNode),a=null),a};b._interrupt=function(){this._cleanUp();this.playState=createjs.Sound.PLAY_INTERRUPTED;this._paused=!1;this._sendEvent("interrupted")};b._handleSoundReady=function(){if(null!=window.createjs){if(1E3*this._offset>this.getDuration())return this.playFailed(),void 0;0>this._offset&&(this._offset=0);this.playState=createjs.Sound.PLAY_SUCCEEDED;this._paused=!1;this.gainNode.connect(this._owner.gainNode);var a=this._owner._arrayBuffers[this.src].duration;this.sourceNode=this._createAndPlayAudioNode(this._owner.context.currentTime-a,this._offset);this._duration=1E3*a;this._startTime=this.sourceNode.startTime-this._offset;this._soundCompleteTimeout=setTimeout(this._endedHandler,1E3*(a-this._offset));0!=this._remainingLoops&&(this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0))}};b._createAndPlayAudioNode=function(a,b){var c=this._owner.context.createBufferSource();return c.buffer=this._owner._arrayBuffers[this.src],c.connect(this.panNode),this._owner.context.currentTime,c.startTime=a+c.buffer.duration,c.start(c.startTime,b,c.buffer.duration-b),c};b.play=function(a,b,c,f,e,g){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,f,e,g)};b._beginPlaying=function(a,b,c,f){return null!=window.createjs&&this.src?(this._offset=a/1E3,this._remainingLoops=b,this.volume=c,this.pan=f,this._owner.isPreloadComplete(this.src)?(this._handleSoundReady(null),this._sendEvent("succeeded"),1):(this.playFailed(),void 0)):void 0};b.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED?!1:(this._paused=!0,this._offset=this._owner.context.currentTime-this._startTime,this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),0!=this.gainNode.numberOfOutputs&&this.gainNode.disconnect(),clearTimeout(this._delayTimeoutId),clearTimeout(this._soundCompleteTimeout),!0)};b.resume=function(){return this._paused?(this._handleSoundReady(null),!0):!1};b.stop=function(){return this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._offset=0,!0};b.setVolume=function(a){return this.volume=a,!0};b._updateVolume=function(){var a=this._muted?0:this._volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1};b.getVolume=function(){return this.volume};b.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};b.getMute=function(){return this._muted};b.setPan=function(a){return this.pan=a,this.pan!=a?!1:void 0};b.getPan=function(){return this.pan};b.getPosition=function(){return 1E3*(this._paused||null==this.sourceNode?this._offset:this._owner.context.currentTime-this._startTime)};b.setPosition=function(a){return this._offset=a/1E3,this.sourceNode&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&(this._cleanUpAudioNode(this.sourceNode),this._cleanUpAudioNode(this._sourceNodeNext),clearTimeout(this._soundCompleteTimeout)),this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||this._handleSoundReady(null),!0};b.getDuration=function(){return this._duration};b._handleSoundComplete=function(){return this._offset=0,0!=this._remainingLoops?(this._remainingLoops--,this._sourceNodeNext?(this._cleanUpAudioNode(this.sourceNode),this.sourceNode=this._sourceNodeNext,this._startTime=this.sourceNode.startTime,this._sourceNodeNext=this._createAndPlayAudioNode(this._startTime,0),this._soundCompleteTimeout=setTimeout(this._endedHandler,this._duration)):this._handleSoundReady(null),this._sendEvent("loop"),void 0):(null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FINISHED,this._sendEvent("complete")),void 0)};b.playFailed=function(){null!=window.createjs&&(this._cleanUp(),this.playState=createjs.Sound.PLAY_FAILED,this._sendEvent("failed"))};b.toString=function(){return"[WebAudioPlugin SoundInstance]"};createjs.WebAudioPlugin.SoundInstance=c})();(function(){function c(a,b){this._init(a,b)}var b=c.prototype;b.request=null;b.owner=null;b.progress=-1;b.src=null;b.originalSrc=null;b.result=null;b.onload=null;b.onprogress=null;b.onError=null;b._init=function(a,b){this.originalSrc=this.src=a;this.owner=b};b.load=function(a){null!=a&&(this.src=a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()};b.handleProgress=function(a,b){this.progress=a/b;null!=this.onprogress&&this.onprogress({loaded:a,total:b,progress:this.progress})};b.handleLoad=function(){this.owner.context.decodeAudioData(this.request.response,createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))};b.handleAudioDecoded=function(a){this.progress=1;this.result=a;this.src=this.originalSrc;this.owner.addPreloadResults(this.src,this.result);this.onload&&this.onload()};b.handleError=function(a){this.owner.removeSound(this.src);this.onerror&&this.onerror(a)};b.toString=function(){return"[WebAudioPlugin Loader]"};createjs.WebAudioPlugin.Loader=c})();this.createjs=this.createjs||{};(function(){function c(){this._init()}c.MAX_INSTANCES=30;c._AUDIO_READY="canplaythrough";c._AUDIO_ENDED="ended";c._AUDIO_SEEKED="seeked";c._AUDIO_STALLED="stalled";c._capabilities=null;c.enableIOS=!1;c.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS&&!c.enableIOS)return!1;c._generateCapabilities();return null==c.tag||null==c._capabilities?!1:!0};c._generateCapabilities=function(){if(null==c._capabilities){var a=c.tag=document.createElement("audio");if(null==a.canPlayType)return null;c._capabilities={panning:!0,volume:!0,tracks:-1};for(var b=createjs.Sound.SUPPORTED_EXTENSIONS,h=createjs.Sound.EXTENSION_MAP,f=0,e=b.length;e>f;f++){var g=b[f],k=h[g]||g;c._capabilities[g]="no"!=a.canPlayType("audio/"+g)&&""!=a.canPlayType("audio/"+g)||"no"!=a.canPlayType("audio/"+k)&&""!=a.canPlayType("audio/"+k)}}};var b=c.prototype;b._capabilities=null;b._audioSources=null;b.defaultNumChannels=2;b.loadedHandler=null;b._init=function(){this._capabilities=c._capabilities;this._audioSources={}};b.register=function(a,b){this._audioSources[a]=!0;for(var c=createjs.HTMLAudioPlugin.TagPool.get(a),f=null,e=b||this.defaultNumChannels,g=0;e>g;g++)f=this._createTag(a),c.add(f);if(f.id=a,this.loadedHandler=createjs.proxy(this._handleTagLoad,this),f.addEventListener&&f.addEventListener("canplaythrough",this.loadedHandler),null==f.onreadystatechange)f.onreadystatechange=this.loadedHandler;else{var k=f.onreadystatechange;f.onreadystatechange=function(){k();this.loadedHandler()}}return{tag:f,numChannels:e}};b._handleTagLoad=function(a){a.target.removeEventListener&&a.target.removeEventListener("canplaythrough",this.loadedHandler);a.target.onreadystatechange=null;a.target.src!=a.target.id&&createjs.HTMLAudioPlugin.TagPool.checkSrc(a.target.id)};b._createTag=function(a){var b=document.createElement("audio");return b.autoplay=!1,b.preload="none",b.src=a,b};b.removeSound=function(a){delete this._audioSources[a];createjs.HTMLAudioPlugin.TagPool.remove(a)};b.removeAllSounds=function(){this._audioSources={};createjs.HTMLAudioPlugin.TagPool.removeAll()};b.create=function(a){if(!this.isPreloadStarted(a)){var b=createjs.HTMLAudioPlugin.TagPool.get(a),c=this._createTag(a);c.id=a;b.add(c);this.preload(a,{tag:c})}return new createjs.HTMLAudioPlugin.SoundInstance(a,this)};b.isPreloadStarted=function(a){return null!=this._audioSources[a]};b.preload=function(a,b){this._audioSources[a]=!0;new createjs.HTMLAudioPlugin.Loader(a,b.tag)};b.toString=function(){return"[HTMLAudioPlugin]"};createjs.HTMLAudioPlugin=c})();(function(){function c(a,b){this._init(a,b)}var b=c.prototype=new createjs.EventDispatcher;b.src=null;b.uniqueId=-1;b.playState=null;b._owner=null;b.loaded=!1;b._offset=0;b._delay=0;b._volume=1;try{Object.defineProperty(b,"volume",{get:function(){return this._volume},set:function(a){null!=Number(a)&&(a=Math.max(0,Math.min(1,a)),this._volume=a,this._updateVolume())}})}catch(a){}b.pan=0;b._duration=0;b._remainingLoops=0;b._delayTimeoutId=null;b.tag=null;b._muted=!1;b._paused=!1;b._endedHandler=null;b._readyHandler=null;b._stalledHandler=null;b.loopHandler=null;b._init=function(a,b){this.src=a;this._owner=b;this._endedHandler=createjs.proxy(this._handleSoundComplete,this);this._readyHandler=createjs.proxy(this._handleSoundReady,this);this._stalledHandler=createjs.proxy(this._handleSoundStalled,this);this.loopHandler=createjs.proxy(this.handleSoundLoop,this)};b._sendEvent=function(a){a=new createjs.Event(a);this.dispatchEvent(a)};b._cleanUp=function(){var a=this.tag;if(null!=a){a.pause();a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1);a.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{a.currentTime=0}catch(b){}createjs.HTMLAudioPlugin.TagPool.setInstance(this.src,a);this.tag=null}clearTimeout(this._delayTimeoutId);null!=window.createjs&&createjs.Sound._playFinished(this)};b._interrupt=function(){null!=this.tag&&(this.playState=createjs.Sound.PLAY_INTERRUPTED,this._cleanUp(),this._paused=!1,this._sendEvent("interrupted"))};b.play=function(a,b,c,f,e,g){this._cleanUp();createjs.Sound._playInstance(this,a,b,c,f,e,g)};b._beginPlaying=function(a,b,c,f){if(null==window.createjs)return-1;var e=this.tag=createjs.HTMLAudioPlugin.TagPool.getInstance(this.src);return null==e?(this.playFailed(),-1):(e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_ENDED,this._endedHandler,!1),this._offset=a,this.volume=c,this.pan=f,this._updateVolume(),this._remainingLoops=b,4!==e.readyState?(e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),e.addEventListener(createjs.HTMLAudioPlugin._AUDIO_STALLED,this._stalledHandler,!1),e.preload="auto",e.load()):this._handleSoundReady(null),this._sendEvent("succeeded"),1)};b._handleSoundStalled=function(){this._cleanUp();this._sendEvent("failed")};b._handleSoundReady=function(){if(null!=window.createjs){if(this._duration=1E3*this.tag.duration,this.playState=createjs.Sound.PLAY_SUCCEEDED,this._paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_READY,this._readyHandler,!1),this._offset>=this.getDuration())return this.playFailed(),void 0;0<this._offset&&(this.tag.currentTime=.001*this._offset);-1==this._remainingLoops&&(this.tag.loop=!0);0!=this._remainingLoops&&(this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1),this.tag.loop=!0);this.tag.play()}};b.pause=function(){return this._paused||this.playState!=createjs.Sound.PLAY_SUCCEEDED||null==this.tag?!1:(this._paused=!0,this.tag.pause(),clearTimeout(this._delayTimeoutId),!0)};b.resume=function(){return this._paused&&null!=this.tag?(this._paused=!1,this.tag.play(),!0):!1};b.stop=function(){return this._offset=0,this.pause(),this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),!0};b.setMasterVolume=function(){return this._updateVolume(),!0};b.setVolume=function(a){return this.volume=a,!0};b._updateVolume=function(){if(null!=this.tag){var a=this._muted||createjs.Sound._masterMute?0:this._volume*createjs.Sound._masterVolume;return a!=this.tag.volume&&(this.tag.volume=a),!0}return!1};b.getVolume=function(){return this.volume};b.setMasterMute=function(){return this._updateVolume(),!0};b.setMute=function(a){return null==a||void 0==a?!1:(this._muted=a,this._updateVolume(),!0)};b.getMute=function(){return this._muted};b.setPan=function(){return!1};b.getPan=function(){return 0};b.getPosition=function(){return null==this.tag?this._offset:1E3*this.tag.currentTime};b.setPosition=function(a){if(null==this.tag)this._offset=a;else{this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1);try{this.tag.currentTime=.001*a}catch(b){return!1}this.tag.addEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1)}return!0};b.getDuration=function(){return this._duration};b._handleSoundComplete=function(){this._offset=0;null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FINISHED,this._cleanUp(),this._sendEvent("complete"))};b.handleSoundLoop=function(){this._offset=0;this._remainingLoops--;0==this._remainingLoops&&(this.tag.loop=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin._AUDIO_SEEKED,this.loopHandler,!1));this._sendEvent("loop")};b.playFailed=function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_FAILED,this._cleanUp(),this._sendEvent("failed"))};b.toString=function(){return"[HTMLAudioPlugin SoundInstance]"};createjs.HTMLAudioPlugin.SoundInstance=c})();(function(){function c(a,b){this._init(a,b)}var b=c.prototype;b.src=null;b.tag=null;b.preloadTimer=null;b.loadedHandler=null;b._init=function(a,b){if(this.src=a,this.tag=b,this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200),this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this),this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler),null==this.tag.onreadystatechange)this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);else{var c=this.tag.onreadystatechange;this.tag.onreadystatechange=function(){c();this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this)}}this.tag.preload="auto";this.tag.load()};b.preloadTick=function(){var a=this.tag.buffered,b=this.tag.duration;0<a.length&&a.end(0)>=b-1&&this.handleTagLoaded()};b.handleTagLoaded=function(){clearInterval(this.preloadTimer)};b.sendLoadedEvent=function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=null;createjs.Sound._sendFileLoadEvent(this.src)};b.toString=function(){return"[HTMLAudioPlugin Loader]"};createjs.HTMLAudioPlugin.Loader=c})();(function(){function c(a){this._init(a)}c.tags={};c.get=function(a){var b=c.tags[a];return null==b&&(b=c.tags[a]=new c(a)),b};c.remove=function(a){var b=c.tags[a];return null==b?!1:(b.removeAll(),delete c.tags[a],!0)};c.removeAll=function(){for(var a in c.tags)c.tags[a].removeAll();c.tags={}};c.getInstance=function(a){a=c.tags[a];return null==a?null:a.get()};c.setInstance=function(a,b){var h=c.tags[a];return null==h?null:h.set(b)};c.checkSrc=function(a){a=c.tags[a];return null==a?null:(a.checkSrcChange(),void 0)};var b=c.prototype;b.src=null;b.length=0;b.available=0;b.tags=null;b._init=function(a){this.src=a;this.tags=[]};b.add=function(a){this.tags.push(a);this.length++;this.available++};b.removeAll=function(){for(;this.length--;)delete this.tags[this.length];this.src=null;this.tags.length=0};b.get=function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();return null==a.parentNode&&document.body.appendChild(a),a};b.set=function(a){-1==createjs.indexOf(this.tags,a)&&this.tags.push(a);this.available=this.tags.length};b.checkSrcChange=function(){for(var a=this.tags.length-1,b=this.tags[a].src;a--;)this.tags[a].src=b};b.toString=function(){return"[HTMLAudioPlugin TagPool]"};createjs.HTMLAudioPlugin.TagPool=c})();define("soundjs",function(c){return function(){return c.createjs}}(this));define("Sound+MuteDispatcher",["soundjs"],function(c){var b=c.Sound.setMute;c.Sound.setMute=function(a){this.getMute()!=a&&(b.call(this,a),this.dispatchEvent(new c.Event("mute")))}});define("screens/MainMenuScreen","require Screen assetStorage gui/ToggleButton gui/Button gui/ToggleButtonBitmapRenderer gui/BitmapButton screens/InfoPopUp Sound+MuteDispatcher soundjs screenSize".split(" "),function(c){var b=c("Screen"),a=c("assetStorage"),d=c("gui/ToggleButton");c("gui/Button");var h=c("gui/ToggleButtonBitmapRenderer"),f=c("gui/BitmapButton"),e=c("screens/InfoPopUp");c("Sound+MuteDispatcher");var g=c("soundjs"),k=c("screenSize");c=function(){this.init()};b=c.prototype=new b;return b._build=function(){var b=a.getBitmap("gfx/bigPlayButton.png"),b=f.createButton({x:k.width/2,y:k.height/2,anchorX:.5,anchorY:.5,flags:{"default":{active:b}}});b.on("click",function(){this.getScreenController().goToScreen("gameScreen")},this);this.addChild(b);var c=a.getBitmap("gfx/logo.png");c.x=(k.width-c.getBounds().width)/2;c.y=(b.y-c.getBounds().height-60)/2;c.mouseEnabled=!1;this.addChild(c);c=f.createButton({x:b.x+125,y:b.y+150,anchorX:.5,anchorY:.5,flags:{"default":{active:a.getBitmap("gfx/infoButton.png")}}});this.addChild(c);c.on("click",function(a){this._showInfoPopUp()},this);c=new h;c.setFlagBitmaps({"default":{idle:{idle:a.getBitmap("gfx/muteButton.png")},selected:{idle:a.getBitmap("gfx/unmuteButton.png")}}});c.setAnchors(.5,.5);var e=new d;e.setRenderer(c);e.x=b.x-125;e.y=b.y+150;e.setSelected(g.Sound.getMute());e.on("change",function(a){g.Sound.setMute(e.getSelected())});this.addChild(e)},b._showInfoPopUp=function(){if(!this._infoPopUp){var a=new e;a.show(this);var b=a.on("click",function(a){this._infoPopUp.hide();this._infoPopUp.off("click",b);this._infoPopUp=null},this);this._infoPopUp=a}},b._infoPopUp=null,c});this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,b,c){this.type=a;this.bubbles=b;this.cancelable=c;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type\x3d"+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){var c=function(){},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,b,c){var f;f=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=f[a];return e&&this.removeEventListener(a,b,c),e=f[a],e?e.push(b):f[a]=[b],b};b.on=function(a,b,c,f,e,g){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e);f&&a.remove()},g)};b.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var f=c[a];if(f)for(var e=0,g=f.length;g>e;e++)if(f[e]==b){1==g?delete c[a]:f.splice(e,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var f=this,c=[f];f.parent;)c.push(f=f.parent);for(var e=c.length,f=e-1;0<=f&&!a.propagationStopped;f--)c[f]._dispatchEvent(a,1+(0==f));for(f=1;e>f&&!a.propagationStopped;f++)c[f]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,f=1==b?this._captureListeners:this._listeners;if(a&&f&&(f=f[a.type])&&(c=f.length)){a.currentTarget=this;a.eventPhase=b;a.removed=!1;for(var f=f.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var g=f[e];g.handleEvent?g.handleEvent(a):g(a);a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.EventDispatcher;c.NONE=0;c.LOOP=1;c.REVERSE=2;c.IGNORE={};c._tweens=[];c._plugins={};c.get=function(a,b,h,f){return f&&c.removeTweens(a),new c(a,b,h)};c.tick=function(a,b){for(var h=c._tweens.slice(),f=h.length-1;0<=f;f--){var e=h[f];b&&!e.ignoreGlobalPause||e._paused||e.tick(e._useTicks?1:a)}};c.handleEvent=function(a){"tick"==a.type&&this.tick(a.delta,a.paused)};c.removeTweens=function(a){if(a.tweenjs_count){for(var b=c._tweens,h=b.length-1;0<=h;h--)b[h]._target==a&&(b[h]._paused=!0,b.splice(h,1));a.tweenjs_count=0}};c.removeAllTweens=function(){for(var a=c._tweens,b=0,h=a.length;h>b;b++){var f=a[b];f.paused=!0;f.target.tweenjs_count=0}a.length=0};c.hasActiveTweens=function(a){return a?a.tweenjs_count:c._tweens&&!!c._tweens.length};c.installPlugin=function(a,b){var h=a.priority;null==h&&(a.priority=h=0);for(var f=0,e=b.length,g=c._plugins;e>f;f++){var k=b[f];if(g[k]){for(var l=g[k],m=0,n=l.length;n>m&&!(h<l[m].priority);m++);g[k].splice(m,0,a)}else g[k]=[a]}};c._register=function(a,b){var h=a._target,f=c._tweens;if(b)h&&(h.tweenjs_count=h.tweenjs_count?h.tweenjs_count+1:1),f.push(a),!c._inited&&createjs.Ticker&&(createjs.Ticker.addEventListener("tick",c),c._inited=!0);else for(h&&h.tweenjs_count--,h=f.length;h--;)if(f[h]==a)return f.splice(h,1),void 0};b.ignoreGlobalPause=!1;b.loop=!1;b.duration=0;b.pluginData=null;b.target=null;b.position=null;b.passive=!1;b._paused=!1;b._curQueueProps=null;b._initQueueProps=null;b._steps=null;b._actions=null;b._prevPosition=0;b._stepPosition=0;b._prevPos=-1;b._target=null;b._useTicks=!1;b._inited=!1;b.initialize=function(a,b,h){this.target=this._target=a;b&&(this._useTicks=b.useTicks,this.ignoreGlobalPause=b.ignoreGlobalPause,this.loop=b.loop,b.onChange&&this.addEventListener("change",b.onChange),b.override&&c.removeTweens(a));this.pluginData=h||{};this._curQueueProps={};this._initQueueProps={};this._steps=[];this._actions=[];b&&b.paused?this._paused=!0:c._register(this,!0);b&&null!=b.position&&this.setPosition(b.position,c.NONE)};b.wait=function(a,b){if(null==a||0>=a)return this;var c=this._cloneProps(this._curQueueProps);return this._addStep({d:a,p0:c,e:this._linearEase,p1:c,v:b})};b.to=function(a,b,c){return(isNaN(b)||0>b)&&(b=0),this._addStep({d:b||0,p0:this._cloneProps(this._curQueueProps),e:c,p1:this._cloneProps(this._appendQueueProps(a))})};b.call=function(a,b,c){return this._addAction({f:a,p:b?b:[this],o:c?c:this._target})};b.set=function(a,b){return this._addAction({f:this._set,o:this,p:[a,b?b:this._target]})};b.play=function(a){return a||(a=this),this.call(a.setPaused,[!1],a)};b.pause=function(a){return a||(a=this),this.call(a.setPaused,[!0],a)};b.setPosition=function(a,b){0>a&&(a=0);null==b&&(b=1);var c=a,f=!1;if(c>=this.duration&&(this.loop?c%=this.duration:(c=this.duration,f=!0)),c==this._prevPos)return f;var e=this._prevPos;if(this.position=this._prevPos=c,this._prevPosition=a,this._target)if(f)this._updateTargetProps(null,1);else if(0<this._steps.length){for(var g=0,k=this._steps.length;k>g&&!(this._steps[g].t>c);g++);g=this._steps[g-1];this._updateTargetProps(g,(this._stepPosition=c-g.t)/g.d)}return 0!=b&&0<this._actions.length&&(this._useTicks?this._runActions(c,c):1==b&&e>c?(e!=this.duration&&this._runActions(e,this.duration),this._runActions(0,c,!0)):this._runActions(e,c)),f&&this.setPaused(!0),this.dispatchEvent("change"),f};b.tick=function(a){this._paused||this.setPosition(this._prevPosition+a)};b.setPaused=function(a){return this._paused=!!a,c._register(this,!a),this};b.w=b.wait;b.t=b.to;b.c=b.call;b.s=b.set;b.toString=function(){return"[Tween]"};b.clone=function(){throw"Tween can not be cloned.";};b._updateTargetProps=function(a,b){var h,f,e,g;if(a||1!=b){if(this.passive=!!a.v,this.passive)return;a.e&&(b=a.e(b,0,1,1));h=a.p0;f=a.p1}else this.passive=!1,h=f=this._curQueueProps;for(var k in this._initQueueProps){null==(e=h[k])&&(h[k]=e=this._initQueueProps[k]);null==(g=f[k])&&(f[k]=g=e);e=e==g||0==b||1==b||"number"!=typeof e?1==b?g:e:e+(g-e)*b;var l=!1;if(g=c._plugins[k])for(var m=0,n=g.length;n>m;m++){var r=g[m].tween(this,k,e,h,f,b,!!a&&h==f,!a);r==c.IGNORE?l=!0:e=r}l||(this._target[k]=e)}};b._runActions=function(a,b,c){var f=a,e=b,g=-1,k=this._actions.length,l=1;for(a>b&&(f=b,e=a,g=k,k=l=-1);(g+=l)!=k;){b=this._actions[g];var m=b.t;(m==e||m>f&&e>m||c&&m==a)&&b.f.apply(b.o,b.p)}};b._appendQueueProps=function(a){var b,h,f,e,g,k;for(k in a)if(void 0===this._initQueueProps[k]){if(h=this._target[k],b=c._plugins[k])for(f=0,e=b.length;e>f;f++)h=b[f].init(this,k,h);this._initQueueProps[k]=this._curQueueProps[k]=void 0===h?null:h}for(k in a){if(h=this._curQueueProps[k],b=c._plugins[k])for(g=g||{},f=0,e=b.length;e>f;f++)b[f].step&&b[f].step(this,k,h,a[k],g);this._curQueueProps[k]=a[k]}return g&&this._appendQueueProps(g),this._curQueueProps};b._cloneProps=function(a){var b={},c;for(c in a)b[c]=a[c];return b};b._addStep=function(a){return 0<a.d&&(this._steps.push(a),a.t=this.duration,this.duration+=a.d),this};b._addAction=function(a){return a.t=this.duration,this._actions.push(a),this};b._set=function(a,b){for(var c in a)b[c]=a[c]};createjs.Tween=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype=new createjs.EventDispatcher;b.ignoreGlobalPause=!1;b.duration=0;b.loop=!1;b.position=null;b._paused=!1;b._tweens=null;b._labels=null;b._labelList=null;b._prevPosition=0;b._prevPos=-1;b._useTicks=!1;b.initialize=function(a,b,c){this._tweens=[];c&&(this._useTicks=c.useTicks,this.loop=c.loop,this.ignoreGlobalPause=c.ignoreGlobalPause,c.onChange&&this.addEventListener("change",c.onChange));a&&this.addTween.apply(this,a);this.setLabels(b);c&&c.paused?this._paused=!0:createjs.Tween._register(this,!0);c&&null!=c.position&&this.setPosition(c.position,createjs.Tween.NONE)};b.addTween=function(a){var b=arguments.length;if(1<b){for(var c=0;b>c;c++)this.addTween(arguments[c]);return arguments[0]}return 0==b?null:(this.removeTween(a),this._tweens.push(a),a.setPaused(!0),a._paused=!1,a._useTicks=this._useTicks,a.duration>this.duration&&(this.duration=a.duration),0<=this._prevPos&&a.setPosition(this._prevPos,createjs.Tween.NONE),a)};b.removeTween=function(a){var b=arguments.length;if(1<b){for(var c=!0,f=0;b>f;f++)c=c&&this.removeTween(arguments[f]);return c}if(0==b)return!1;b=this._tweens;for(f=b.length;f--;)if(b[f]==a)return b.splice(f,1),a.duration>=this.duration&&this.updateDuration(),!0;return!1};b.addLabel=function(a,b){this._labels[a]=b;var c=this._labelList;if(c){for(var f=0,e=c.length;e>f&&!(b<c[f].position);f++);c.splice(f,0,{label:a,position:b})}};b.setLabels=function(a){this._labels=a?a:{}};b.getLabels=function(){var a=this._labelList;if(!a){var a=this._labelList=[],b=this._labels,c;for(c in b)a.push({label:c,position:b[c]});a.sort(function(a,b){return a.position-b.position})}return a};b.getCurrentLabel=function(){var a=this.getLabels(),b=this.position,c=a.length;if(c){for(var f=0;c>f&&!(b<a[f].position);f++);return 0==f?null:a[f-1].label}return null};b.gotoAndPlay=function(a){this.setPaused(!1);this._goto(a)};b.gotoAndStop=function(a){this.setPaused(!0);this._goto(a)};b.setPosition=function(a,b){0>a&&(a=0);var c=this.loop?a%this.duration:a,f=!this.loop&&a>=this.duration;if(c==this._prevPos)return f;this._prevPosition=a;this.position=this._prevPos=c;for(var e=0,g=this._tweens.length;g>e;e++)if(this._tweens[e].setPosition(c,b),c!=this._prevPos)return!1;return f&&this.setPaused(!0),this.dispatchEvent("change"),f};b.setPaused=function(a){this._paused=!!a;createjs.Tween._register(this,!a)};b.updateDuration=function(){for(var a=this.duration=0,b=this._tweens.length;b>a;a++){var c=this._tweens[a];c.duration>this.duration&&(this.duration=c.duration)}};b.tick=function(a){this.setPosition(this._prevPosition+a)};b.resolve=function(a){var b=parseFloat(a);return isNaN(b)&&(b=this._labels[a]),b};b.toString=function(){return"[Timeline]"};b.clone=function(){throw"Timeline can not be cloned.";};b._goto=function(a){a=this.resolve(a);null!=a&&this.setPosition(a)};createjs.Timeline=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"Ease cannot be instantiated.";};c.linear=function(b){return b};c.none=c.linear;c.get=function(b){return-1>b&&(b=-1),1<b&&(b=1),function(a){return 0==b?a:0>b?a*(a*-b+1+b):a*((2-a)*b+(1-b))}};c.getPowIn=function(b){return function(a){return Math.pow(a,b)}};c.getPowOut=function(b){return function(a){return 1-Math.pow(1-a,b)}};c.getPowInOut=function(b){return function(a){return 1>(a*=2)?.5*Math.pow(a,b):1-.5*Math.abs(Math.pow(2-a,b))}};c.quadIn=c.getPowIn(2);c.quadOut=c.getPowOut(2);c.quadInOut=c.getPowInOut(2);c.cubicIn=c.getPowIn(3);c.cubicOut=c.getPowOut(3);c.cubicInOut=c.getPowInOut(3);c.quartIn=c.getPowIn(4);c.quartOut=c.getPowOut(4);c.quartInOut=c.getPowInOut(4);c.quintIn=c.getPowIn(5);c.quintOut=c.getPowOut(5);c.quintInOut=c.getPowInOut(5);c.sineIn=function(b){return 1-Math.cos(b*Math.PI/2)};c.sineOut=function(b){return Math.sin(b*Math.PI/2)};c.sineInOut=function(b){return-.5*(Math.cos(Math.PI*b)-1)};c.getBackIn=function(b){return function(a){return a*a*((b+1)*a-b)}};c.backIn=c.getBackIn(1.7);c.getBackOut=function(b){return function(a){return--a*a*((b+1)*a+b)+1}};c.backOut=c.getBackOut(1.7);c.getBackInOut=function(b){return b*=1.525,function(a){return 1>(a*=2)?.5*a*a*((b+1)*a-b):.5*((a-=2)*a*((b+1)*a+b)+2)}};c.backInOut=c.getBackInOut(1.7);c.circIn=function(b){return-(Math.sqrt(1-b*b)-1)};c.circOut=function(b){return Math.sqrt(1- --b*b)};c.circInOut=function(b){return 1>(b*=2)?-.5*(Math.sqrt(1-b*b)-1):.5*(Math.sqrt(1-(b-=2)*b)+1)};c.bounceIn=function(b){return 1-c.bounceOut(1-b)};c.bounceOut=function(b){return 1/2.75>b?7.5625*b*b:2/2.75>b?7.5625*(b-=1.5/2.75)*b+.75:2.5/2.75>b?7.5625*(b-=2.25/2.75)*b+.9375:7.5625*(b-=2.625/2.75)*b+.984375};c.bounceInOut=function(b){return.5>b?.5*c.bounceIn(2*b):.5*c.bounceOut(2*b-1)+.5};c.getElasticIn=function(b,a){var c=2*Math.PI;return function(h){if(0==h||1==h)return h;var f=a/c*Math.asin(1/b);return-(b*Math.pow(2,10*--h)*Math.sin((h-f)*c/a))}};c.elasticIn=c.getElasticIn(1,.3);c.getElasticOut=function(b,a){var c=2*Math.PI;return function(h){return 0==h||1==h?h:b*Math.pow(2,-10*h)*Math.sin((h-a/c*Math.asin(1/b))*c/a)+1}};c.elasticOut=c.getElasticOut(1,.3);c.getElasticInOut=function(b,a){var c=2*Math.PI;return function(h){var f=a/c*Math.asin(1/b);return 1>(h*=2)?-.5*b*Math.pow(2,10*--h)*Math.sin((h-f)*c/a):.5*b*Math.pow(2,-10*--h)*Math.sin((h-f)*c/a)+1}};c.elasticInOut=c.getElasticInOut(1,.3*1.5);createjs.Ease=c})();this.createjs=this.createjs||{};(function(){var c=function(){throw"MotionGuidePlugin cannot be instantiated.";};c.priority=0;c._rotOffS;c._rotOffE;c._rotNormS;c._rotNormE;c.install=function(){return createjs.Tween.installPlugin(c,["guide","x","y","rotation"]),createjs.Tween.IGNORE};c.init=function(b,a,c){var h=b.target;return h.hasOwnProperty("x")||(h.x=0),h.hasOwnProperty("y")||(h.y=0),h.hasOwnProperty("rotation")||(h.rotation=0),"rotation"==a&&(b.__needsRot=!0),"guide"==a?null:c};c.step=function(b,a,d,h,f){if("rotation"==a&&(b.__rotGlobalS=d,b.__rotGlobalE=h,c.testRotData(b,f)),"guide"!=a)return h;var e;h.hasOwnProperty("path")||(h.path=[]);a=h.path;if(h.hasOwnProperty("end")||(h.end=1),h.hasOwnProperty("start")||(h.start=d&&d.hasOwnProperty("end")&&d.path===a?d.end:0),h.hasOwnProperty("_segments")&&h._length)return h;d=a.length;if(6<=d&&0==(d-2)%4){h._segments=[];h._length=0;for(var g=2;d>g;g+=4){for(var k,l,m=a[g-2],n=a[g-1],r=a[g+0],q=a[g+1],t=a[g+2],u=a[g+3],w=m,v=n,x=0,y=[],B=1;10>=B;B++){l=B/10;var p=1-l;k=p*p*m+2*p*l*r+l*l*t;l=p*p*n+2*p*l*q+l*l*u;x+=y[y.push(Math.sqrt((e=k-w)*e+(e=l-v)*e))-1];w=k;v=l}h._segments.push(x);h._segments.push(y);h._length+=x}e=h.orient;h.orient=!0;a={};return c.calc(h,h.start,a),b.__rotPathS=Number(a.rotation.toFixed(5)),c.calc(h,h.end,a),b.__rotPathE=Number(a.rotation.toFixed(5)),h.orient=!1,c.calc(h,h.end,f),h.orient=e,h.orient?(b.__guideData=h,c.testRotData(b,f),h):h}throw"invalid 'path' data, please see documentation for valid paths";};c.testRotData=function(b,a){if(void 0===b.__rotGlobalS||void 0===b.__rotGlobalE){if(b.__needsRot)return;b.__rotGlobalS=b.__rotGlobalE=void 0!==b._curQueueProps.rotation?b._curQueueProps.rotation:a.rotation=b.target.rotation||0}if(void 0!==b.__guideData){var c=b.__guideData,h=b.__rotGlobalE-b.__rotGlobalS,f=b.__rotPathE-b.__rotPathS,e=h-f;if("auto"==c.orient)180<e?e-=360:-180>e&&(e+=360);else if("cw"==c.orient){for(;0>e;)e+=360;0==e&&0<h&&180!=h&&(e+=360)}else if("ccw"==c.orient){for(e=h-(180<f?360-f:f);0<e;)e-=360;0==e&&0>h&&-180!=h&&(e-=360)}c.rotDelta=e;c.rotOffS=b.__rotGlobalS-b.__rotPathS;b.__rotGlobalS=b.__rotGlobalE=b.__guideData=b.__needsRot=void 0}};c.tween=function(b,a,d,h,f,e,g){f=f.guide;if(void 0==f||f===h.guide)return d;if(f.lastRatio!=e){switch(c.calc(f,(f.end-f.start)*(g?f.end:e)+f.start,b.target),f.orient){case "cw":case "ccw":case "auto":b.target.rotation+=f.rotOffS+f.rotDelta*e;break;default:b.target.rotation+=f.rotOffS}f.lastRatio=e}return"rotation"!=a||f.orient&&"false"!=f.orient?b.target[a]:d};c.calc=function(b,a,d){void 0==b._segments&&c.validate(b);void 0==d&&(d={x:0,y:0,rotation:0});var h=b._segments,f=b.path,e=b._length*a,g=h.length-2;for(a=0;e>h[a]&&g>a;)e-=h[a],a+=2;for(var h=h[a+1],k=0,g=h.length-1;e>h[k]&&g>k;)e-=h[k],k++;e=k/++g+e/(g*h[k]);a=2*a+2;g=1-e;return d.x=g*g*f[a-2]+2*g*e*f[a+0]+e*e*f[a+2],d.y=g*g*f[a-1]+2*g*e*f[a+1]+e*e*f[a+3],b.orient&&(d.rotation=57.2957795*Math.atan2((f[a+1]-f[a-1])*g+(f[a+3]-f[a+1])*e,(f[a+0]-f[a-2])*g+(f[a+2]-f[a+0])*e)),d};createjs.MotionGuidePlugin=c})();this.createjs=this.createjs||{};(function(){var c=createjs.TweenJS=createjs.TweenJS||{};c.version="0.5.1";c.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"})();define("tweenjs",function(c){return function(){return c.createjs}}(this));define("FSM",["require"],function(c){c=function(a){this.init(a)};var b=c.prototype;return b.getPrevState=function(){return this._prevState},b.getCurrState=function(){return this._currState},b.init=function(a){this._newState=a},b.execute=function(){this._newState&&(this._newState.enter(),this._prevState=this._currState,this._currState=this._newState,this._newState=null);(this._newState=this._currState.execute(this))&&(this._currState.exit(),this._prevState=this._currState,this._currState=this._newState)},b._currState=null,b._newState=null,b._prevState=null,c});define("State",["require"],function(c){c=function(a,b,c){this.init(a,b,c)};c["new"]=function(a,b){return new Stats(a,b)};var b=c.prototype;return b.name="",b.init=function(a,b,c){this._conditions=[];this._enterCallback=a;this._exitCallback=b;this.name=void 0===c?"":c},b.addTransition=function(a,b,c){return this._conditions.push({state:a,conditionCallback:b,scope:c}),this},b.enter=function(){this._enterCallback&&this._enterCallback.call()},b.exit=function(){this._exitCallback&&this._exitCallback.call()},b.execute=function(a){for(var b=0;b<this._conditions.length;b++)if(this._conditions[b].conditionCallback.call(this._conditions[b].scope,a))return this._conditions[b].state;return null},b._conditions=null,b._enterCallback=null,b._exitCallback=null,c});(function(){var c=this,b=c._,a={},d=Array.prototype,h=Object.prototype,f=d.push,e=d.slice,g=d.concat,k=h.toString,l=h.hasOwnProperty,m=d.forEach,n=d.map,r=d.reduce,q=d.reduceRight,t=d.filter,u=d.every,w=d.some,v=d.indexOf,x=d.lastIndexOf,h=Array.isArray,y=Object.keys,B=Function.prototype.bind,p=function(a){return a instanceof p?a:this instanceof p?(this._wrapped=a,void 0):new p(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=p),exports._=p):c._=p;p.VERSION="1.5.2";var z=p.each=p.forEach=function(b,c,d){if(null!=b)if(m&&b.forEach===m)b.forEach(c,d);else if(b.length===+b.length)for(var f=0,e=b.length;e>f&&c.call(d,b[f],f,b)!==a;f++);else for(var h=p.keys(b),f=0,e=h.length;e>f&&c.call(d,b[h[f]],h[f],b)!==a;f++);};p.map=p.collect=function(a,b,c){var d=[];return null==a?d:n&&a.map===n?a.map(b,c):(z(a,function(a,f,e){d.push(b.call(c,a,f,e))}),d)};p.reduce=p.foldl=p.inject=function(a,b,c,d){var f=2<arguments.length;if(null==a&&(a=[]),r&&a.reduce===r)return d&&(b=p.bind(b,d)),f?a.reduce(b,c):a.reduce(b);if(z(a,function(a,e,h){f?c=b.call(d,c,a,e,h):(c=a,f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.reduceRight=p.foldr=function(a,b,c,d){var f=2<arguments.length;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=p.bind(b,d)),f?a.reduceRight(b,c):a.reduceRight(b);var e=a.length;if(e!==+e)var h=p.keys(a),e=h.length;if(z(a,function(g,l,k){l=h?h[--e]:--e;f?c=b.call(d,c,a[l],l,k):(c=a[l],f=!0)}),!f)throw new TypeError("Reduce of empty array with no initial value");return c};p.find=p.detect=function(a,b,c){var d;return D(a,function(a,f,e){return b.call(c,a,f,e)?(d=a,!0):void 0}),d};p.filter=p.select=function(a,b,c){var d=[];return null==a?d:t&&a.filter===t?a.filter(b,c):(z(a,function(a,f,e){b.call(c,a,f,e)&&d.push(a)}),d)};p.reject=function(a,b,c){return p.filter(a,function(a,d,f){return!b.call(c,a,d,f)},c)};p.every=p.all=function(b,c,d){c||(c=p.identity);var f=!0;return null==b?f:u&&b.every===u?b.every(c,d):(z(b,function(b,e,h){return(f=f&&c.call(d,b,e,h))?void 0:a}),!!f)};var D=p.some=p.any=function(b,c,d){c||(c=p.identity);var f=!1;return null==b?f:w&&b.some===w?b.some(c,d):(z(b,function(b,e,h){return f||(f=c.call(d,b,e,h))?a:void 0}),!!f)};p.contains=p.include=function(a,b){return null==a?!1:v&&a.indexOf===v?-1!=a.indexOf(b):D(a,function(a){return a===b})};p.invoke=function(a,b){var c=e.call(arguments,2),d=p.isFunction(b);return p.map(a,function(a){return(d?b:a[b]).apply(a,c)})};p.pluck=function(a,b){return p.map(a,function(a){return a[b]})};p.where=function(a,b,c){return p.isEmpty(b)?c?void 0:[]:p[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})};p.findWhere=function(a,b){return p.where(a,b,!0)};p.max=function(a,b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.max.apply(Math,a);if(!b&&p.isEmpty(a))return-1/0;var d={computed:-1/0,value:-1/0};return z(a,function(a,f,e){f=b?b.call(c,a,f,e):a;f>d.computed&&(d={value:a,computed:f})}),d.value};p.min=function(a,b,c){if(!b&&p.isArray(a)&&a[0]===+a[0]&&65535>a.length)return Math.min.apply(Math,a);if(!b&&p.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return z(a,function(a,f,e){f=b?b.call(c,a,f,e):a;f<d.computed&&(d={value:a,computed:f})}),d.value};p.shuffle=function(a){var b,c=0,d=[];return z(a,function(a){b=p.random(c++);d[c-1]=d[b];d[b]=a}),d};p.sample=function(a,b,c){return 2>arguments.length||c?a[p.random(a.length-1)]:p.shuffle(a).slice(0,Math.max(0,b))};var H=function(a){return p.isFunction(a)?a:function(b){return b[a]}};p.sortBy=function(a,b,c){var d=H(b);return p.pluck(p.map(a,function(a,b,f){return{value:a,index:b,criteria:d.call(c,a,b,f)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var L=function(a){return function(b,c,d){var f={},e=null==c?p.identity:H(c);return z(b,function(c,h){var g=e.call(d,c,h,b);a(f,g,c)}),f}};p.groupBy=L(function(a,b,c){(p.has(a,b)?a[b]:a[b]=[]).push(c)});p.indexBy=L(function(a,b,c){a[b]=c});p.countBy=L(function(a,b){p.has(a,b)?a[b]++:a[b]=1});p.sortedIndex=function(a,b,c,d){c=null==c?p.identity:H(c);b=c.call(d,b);for(var f=0,e=a.length;e>f;){var h=f+e>>>1;c.call(d,a[h])<b?f=h+1:e=h}return f};p.toArray=function(a){return a?p.isArray(a)?e.call(a):a.length===+a.length?p.map(a,p.identity):p.values(a):[]};p.size=function(a){return null==a?0:a.length===+a.length?a.length:p.keys(a).length};p.first=p.head=p.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:e.call(a,0,b)};p.initial=function(a,b,c){return e.call(a,0,a.length-(null==b||c?1:b))};p.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:e.call(a,Math.max(a.length-b,0))};p.rest=p.tail=p.drop=function(a,b,c){return e.call(a,null==b||c?1:b)};p.compact=function(a){return p.filter(a,p.identity)};var O=function(a,b,c){return b&&p.every(a,p.isArray)?g.apply(c,a):(z(a,function(a){p.isArray(a)||p.isArguments(a)?b?f.apply(c,a):O(a,b,c):c.push(a)}),c)};p.flatten=function(a,b){return O(a,b,[])};p.without=function(a){return p.difference(a,e.call(arguments,1))};p.uniq=p.unique=function(a,b,c,d){p.isFunction(b)&&(d=c,c=b,b=!1);c=c?p.map(a,c,d):a;var f=[],e=[];return z(c,function(c,d){(b?d&&e[e.length-1]===c:p.contains(e,c))||(e.push(c),f.push(a[d]))}),f};p.union=function(){return p.uniq(p.flatten(arguments,!0))};p.intersection=function(a){var b=e.call(arguments,1);return p.filter(p.uniq(a),function(a){return p.every(b,function(b){return 0<=p.indexOf(b,a)})})};p.difference=function(a){var b=g.apply(d,e.call(arguments,1));return p.filter(a,function(a){return!p.contains(b,a)})};p.zip=function(){for(var a=p.max(p.pluck(arguments,"length").concat(0)),b=Array(a),c=0;a>c;c++)b[c]=p.pluck(arguments,""+c);return b};p.object=function(a,b){if(null==a)return{};for(var c={},d=0,f=a.length;f>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};p.indexOf=function(a,b,c){if(null==a)return-1;var d=0,f=a.length;if(c){if("number"!=typeof c)return d=p.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,f+c):c}if(v&&a.indexOf===v)return a.indexOf(b,c);for(;f>d;d++)if(a[d]===b)return d;return-1};p.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(x&&a.lastIndexOf===x)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(c=d?c:a.length;c--;)if(a[c]===b)return c;return-1};p.range=function(a,b,c){1>=arguments.length&&(b=a||0,a=0);c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),f=0,e=Array(d);d>f;)e[f++]=a,a+=c;return e};var N=function(){};p.bind=function(a,b){var c,d;if(B&&a.bind===B)return B.apply(a,e.call(arguments,1));if(!p.isFunction(a))throw new TypeError;return c=e.call(arguments,2),d=function(){if(this instanceof d){N.prototype=a.prototype;var f=new N;N.prototype=null;var h=a.apply(f,c.concat(e.call(arguments)));return Object(h)===h?h:f}return a.apply(b,c.concat(e.call(arguments)))}};p.partial=function(a){var b=e.call(arguments,1);return function(){return a.apply(this,b.concat(e.call(arguments)))}};p.bindAll=function(a){var b=e.call(arguments,1);if(0===b.length)throw Error("bindAll must be passed function names");return z(b,function(b){a[b]=p.bind(a[b],a)}),a};p.memoize=function(a,b){var c={};return b||(b=p.identity),function(){var d=b.apply(this,arguments);return p.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}};p.delay=function(a,b){var c=e.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)};p.defer=function(a){return p.delay.apply(p,[a,1].concat(e.call(arguments,1)))};p.throttle=function(a,b,c){var d,f,e,h=null,g=0;c||(c={});var l=function(){g=!1===c.leading?0:new Date;h=null;e=a.apply(d,f)};return function(){var k=new Date;g||!1!==c.leading||(g=k);var m=b-(k-g);return d=this,f=arguments,0>=m?(clearTimeout(h),h=null,g=k,e=a.apply(d,f)):h||!1===c.trailing||(h=setTimeout(l,m)),e}};p.debounce=function(a,b,c){var d,f,e,h,g;return function(){e=this;f=arguments;h=new Date;var l=function(){var k=new Date-h;b>k?d=setTimeout(l,b-k):(d=null,c||(g=a.apply(e,f)))},k=c&&!d;return d||(d=setTimeout(l,b)),k&&(g=a.apply(e,f)),g}};p.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}};p.wrap=function(a,b){return function(){var c=[a];return f.apply(c,arguments),b.apply(this,c)}};p.compose=function(){var a=arguments;return function(){for(var b=arguments,c=a.length-1;0<=c;c--)b=[a[c].apply(this,b)];return b[0]}};p.after=function(a,b){return function(){return 1>--a?b.apply(this,arguments):void 0}};p.keys=y||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[],c;for(c in a)p.has(a,c)&&b.push(c);return b};p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),f=0;c>f;f++)d[f]=a[b[f]];return d};p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),f=0;c>f;f++)d[f]=[b[f],a[b[f]]];return d};p.invert=function(a){for(var b={},c=p.keys(a),d=0,f=c.length;f>d;d++)b[a[c[d]]]=c[d];return b};p.functions=p.methods=function(a){var b=[],c;for(c in a)p.isFunction(a[c])&&b.push(c);return b.sort()};p.extend=function(a){return z(e.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a};p.pick=function(a){var b={},c=g.apply(d,e.call(arguments,1));return z(c,function(c){c in a&&(b[c]=a[c])}),b};p.omit=function(a){var b={},c=g.apply(d,e.call(arguments,1)),f;for(f in a)p.contains(c,f)||(b[f]=a[f]);return b};p.defaults=function(a){return z(e.call(arguments,1),function(b){if(b)for(var c in b)void 0===a[c]&&(a[c]=b[c])}),a};p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a};p.tap=function(a,b){return b(a),a};var Q=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof p&&(a=a._wrapped);b instanceof p&&(b=b._wrapped);var f=k.call(a);if(f!=k.call(b))return!1;switch(f){case "[object String]":return a==String(b);case "[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case "[object Date]":case "[object Boolean]":return+a==+b;case "[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var e=c.length;e--;)if(c[e]==a)return d[e]==b;var e=a.constructor,h=b.constructor;if(e!==h&&!(p.isFunction(e)&&e instanceof e&&p.isFunction(h)&&h instanceof h))return!1;c.push(a);d.push(b);e=0;h=!0;if("[object Array]"==f){if(e=a.length,h=e==b.length)for(;e--&&(h=Q(a[e],b[e],c,d)););}else{for(var g in a)if(p.has(a,g)&&(e++,!(h=p.has(b,g)&&Q(a[g],b[g],c,d))))break;if(h){for(g in b)if(p.has(b,g)&&!e--)break;h=!e}}return c.pop(),d.pop(),h};p.isEqual=function(a,b){return Q(a,b,[],[])};p.isEmpty=function(a){if(null==a)return!0;if(p.isArray(a)||p.isString(a))return 0===a.length;for(var b in a)if(p.has(a,b))return!1;return!0};p.isElement=function(a){return!!a&&1===a.nodeType};p.isArray=h||function(a){return"[object Array]"==k.call(a)};p.isObject=function(a){return a===Object(a)};z("Arguments Function String Number Date RegExp".split(" "),function(a){p["is"+a]=function(b){return k.call(b)=="[object "+a+"]"}});p.isArguments(arguments)||(p.isArguments=function(a){return!!a&&!!p.has(a,"callee")});"function"!=typeof/ . /&&(p.isFunction=function(a){return"function"==typeof a});p.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))};p.isNaN=function(a){return p.isNumber(a)&&a!=+a};p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==k.call(a)};p.isNull=function(a){return null===a};p.isUndefined=function(a){return void 0===a};p.has=function(a,b){return l.call(a,b)};p.noConflict=function(){return c._=b,this};p.identity=function(a){return a};p.times=function(a,b,c){for(var d=Array(Math.max(0,a)),f=0;a>f;f++)d[f]=b.call(c,f);return d};p.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var F={escape:{"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#x27;"}};F.unescape=p.invert(F.escape);var K={escape:new RegExp("["+p.keys(F.escape).join("")+"]","g"),unescape:new RegExp("("+p.keys(F.unescape).join("|")+")","g")};p.each(["escape","unescape"],function(a){p[a]=function(b){return null==b?"":(""+b).replace(K[a],function(b){return F[a][b]})}});p.result=function(a,b){if(null!=a){var c=a[b];return p.isFunction(c)?c.call(a):c}};p.mixin=function(a){z(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),T.call(this,c.apply(p,a))}})};var R=0;p.uniqueId=function(a){var b=++R+"";return a?a+b:b};p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var A=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},Y=/\\|'|\r|\n|\t|\u2028|\u2029/g;p.template=function(a,b,c){var d;c=p.defaults({},c,p.templateSettings);var f=new RegExp([(c.escape||A).source,(c.interpolate||A).source,(c.evaluate||A).source].join("|")+"|$","g"),e=0,h="__p+\x3d'";a.replace(f,function(b,c,d,f,g){return h+=a.slice(e,g).replace(Y,function(a){return"\\"+G[a]}),c&&(h+="'+\n((__t\x3d("+c+"))\x3d\x3dnull?'':_.escape(__t))+\n'"),d&&(h+="'+\n((__t\x3d("+d+"))\x3d\x3dnull?'':__t)+\n'"),f&&(h+="';\n"+f+"\n__p+\x3d'"),e=g+b.length,b});h+="';\n";c.variable||(h="with(obj||{}){\n"+h+"}\n");h="var __t,__p\x3d'',__j\x3dArray.prototype.join,print\x3dfunction(){__p+\x3d__j.call(arguments,'');};\n"+h+"return __p;\n";try{d=new Function(c.variable||"obj","_",h)}catch(g){throw g.source=h,g;}if(b)return d(b,p);b=function(a){return d.call(this,a,p)};return b.source="function("+(c.variable||"obj")+"){\n"+h+"}",b};p.chain=function(a){return p(a).chain()};var T=function(a){return this._chain?p(a).chain():a};p.mixin(p);z("pop push reverse shift sort splice unshift".split(" "),function(a){var b=d[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],T.call(this,c)}});z(["concat","join","slice"],function(a){var b=d[a];p.prototype[a]=function(){return T.call(this,b.apply(this._wrapped,arguments))}});p.extend(p.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this);define("underscore",function(c){return function(){return c._}}(this));define("game/Game","require assetStorage cjs tweenjs FSM State soundjs underscore screenSize".split(" "),function(c){var b=c("assetStorage"),a=c("cjs"),d=c("tweenjs"),h=c("FSM"),f=c("State"),e=c("soundjs"),g=c("underscore"),k=c("screenSize");c=function(a,b,c,d){this.init(a,b,c,d)};var l=c.prototype=new a.EventDispatcher;return l.init=function(c,d,f,e){this.initialize();this._view=c;this._touchArea=d;this._startPos=200;this._potentialContacts=[];this._hero=new a.Container;this._hero.x=this._startPos;this._hero.y=530;this._heroVelocity={x:0,y:0};this._heroAccel={x:0,y:0};c=b.getBitmap("gfx/hero.png");c.x=-(c.getBounds().width/2);c.y=-(c.getBounds().height/2);this._hero.addChild(c);this._hero.scaleX=this._hero.scaleY=1;this._heroHalfWidth=40;this._heroBound=new a.Rectangle(0,0,2*this._heroHalfWidth,2*this._heroHalfWidth);this._view.addChild(this._hero);this._progressChangeSpeed=2;this._gravity=2E3;this._platforms=[];this._touchArea.on("mousedown",function(){this._wasMouseDown=!0},this);this._touchArea.on("pressup",function(){this._wasMouseUp=!0},this);this._lastAddedPlatformPos={x:0,y:0};this._progressBar=f;this._view.addChild(f);this._scoreLabel=e;this._lastUpdateNum=0;this._updateEveryNumPixels=300;this._setUpWaterSegments();this._createBigPlatform();this._setUpGameFSM()},l.getCurrScore=function(){return Math.floor((this._hero.x-this._startPos)/10)},l.getDistance=function(){return this._hero.x-this._startPos},l.replay=function(){this._hero.x=200;this._hero.y=550;this._heroVelocity={x:0,y:0};this._heroAccel={x:0,y:0};this._setUpGameFSM();this._score=0;this._hero.rotation=0;this._removeAllPlatforms();this._lastAddedPlatformPos={x:0,y:0};this._createBigPlatform();this._lastUpdateNum=0},l._removeAllPlatforms=function(){for(var a;a=this._platforms.pop();)this._view.removeChild(a.view);this._potentialContacts.length=0},l._updatePlatforms=function(){for(var a=[],c,d=this._platforms.length;d--;)c=this._platforms[d],c.view.x+c.bounds.width<-this._view.x?this._view.removeChild(c.view):a.push(c);for(this._platforms=a;10>this._platforms.length;)a=this._lastAddedPlatformPos.x,d=this._lastAddedPlatformPos.y,c=b.getBitmap("gfx/platform.png"),c.mouseEnabled=!1,c.x=a+(this._lastAddedPlatformBound.width+(100+220*Math.random()*this._computeDistanceFactor())),c.y=d+g.sample([-(50+100*Math.random()*this._computeDistanceFactor()),650*Math.random()]),650<c.y?c.y=650:150>c.y&&(c.y=150),this._lastAddedPlatformPos.x=c.x,this._lastAddedPlatformPos.y=c.y,this.addPlatform({view:c,bounds:c.getBounds()}),this._lastAddedPlatformBound=c.getBounds()},l._computeDistanceFactor=function(){var a=.1+.9*(this.getCurrScore()/800);return 1<a?1:a},l._createBigPlatform=function(){for(var a=b.getBitmap("gfx/bigPlatformMiddleSegment.png"),c=0;6>c;c++){var d=a.clone();d.mouseEnabled=!1;d.x=d.getBounds().width*c-c;d.y=650;this.addPlatform({view:d,bounds:d.getBounds()})}d=b.getBitmap("gfx/bigPlatformEndSegment.png");d.mouseEnabled=!1;d.x=c*a.getBounds().width-c;d.y=650;this.addPlatform({view:d,bounds:d.getBounds()});this._lastAddedPlatformBound=d.getBounds();this._lastAddedPlatformPos.x=d.x;this._lastAddedPlatformPos.y=d.y},l._setUpWaterSegments=function(){this._waterSegments=[];for(var c=new createjs.SpriteSheet({images:[b.get("gfx/waterAnim.png")],frames:[[2,2,186,111,0,-.25,.15],[190,2,186,111,0,-.25,.15],[2,115,186,111,0,-.25,.15],[190,115,186,111,0,-.25,.15],[2,228,186,111,0,-.25,.15]],animations:{idle:{frames:[0,1,2,3,4,3,2,1]}}}),d=Math.ceil(k.width/184)+1,f=0;f<d;f++){var e=new a.Sprite(c);e.mouseEnabled=!1;e.framerate=10;this._waterSegments.push(e);this._view.addChild(e);e.y=700;e.gotoAndPlay("idle")}},l._updateWater=function(){for(var a=this._waterSegments,b=0-this._view.x,c=b%184,d=a.length;d--;)a[d].x=b-c+184*d},l._setUpGameFSM=function(){var a=this,b=new f,c=new f(function(){a._doGameOver()});b.addTransition(c,function(){return a._doControl(),a._moveHero(),a._resolveCollisions(),a._moveCamera(),a._updateProgress(),a._updateScoreLabel(),a._updateWater(),a._lastUpdateNum<Math.floor(a.getDistance()/a._updateEveryNumPixels)&&(a._lastUpdateNum=Math.floor(a.getDistance()/a._updateEveryNumPixels),a._updatePlatforms()),a._checkGameOver()?(e.Sound.play("sfx/splash.mp3"),!0):!1});this._gameFMS=new h(b)},l.update=function(a){this._dt=a;this._gameFMS.execute();this._updateControl()},l.addPlatform=function(a){this._platforms.push(a);this._view.addChild(a.view)},l._lastAddedPlatformPos=null,l._lastAddedPlatformBound=null,l._waterSegments=null,l._dt=0,l._gameFMS=null,l._view=null,l._touchArea=null,l._gravity=null,l._hero=null,l._heroBound=null,l._heroVelocity=null,l._heroAccel=null,l._heroBound=null,l._heroHalfWidth=0,l._platforms=null,l._currContact=null,l._maxVelocity=700,l._potentialContacts=null,l._wasMouseDown=!1,l._mouseDown=!1,l._wasMouseUp=!1,l._progressChangeSpeed=0,l._currProgress=0,l._progressBar=null,l._startPos=0,l._scoreLabel=null,l._score=0,l._platformDistanceFactor=0,l._doGameOver=function(){this.dispatchEvent(new a.Event("gameOver"))},l._checkGameOver=function(){return 800<this._hero.y},l._updateScoreLabel=function(){this._scoreLabel.setText(this.getCurrScore().toString())},l._doControl=function(){if(this._currContact&&this._wasMouseUp){var a=this._computeCurrProgress(),b=Math.PI/180*-60;this._heroVelocity.x=Math.cos(b)*(250+850*a);this._heroVelocity.y=Math.sin(b)*(250+850*a);d.Tween.get(this._hero).to({rotation:this._hero.rotation+90},200+500*a);e.Sound.play("sfx/jump.mp3")}},l._moveCamera=function(){this._view.x=-(this._hero.x-150);0<this._view.x&&(this._view.x=0)},l._moveHero=function(){var a=this._dt,b=this._heroAccel.y+this._gravity;this._heroVelocity.x+=this._heroAccel.x*a;this._heroVelocity.y+=b*a;this._heroVelocity.y>this._maxVelocity&&(this._heroVelocity.y=this._maxVelocity);this._hero.x+=this._heroVelocity.x*a;this._hero.y+=this._heroVelocity.y*a},l._resolveCollisions=function(){this._currContact&&(this._isOverlapWithPlatform(this._currContact.platform)?this._resolveHeroVsPlatformCollision(this._currContact):this._currContact=null);if(!this._currContact)for(var a=this._platforms.length;a--;){var b=this._platforms[a];this._isOverlapWithPlatform(b)?-1==this._potentialContacts.indexOf(b)&&((this._currContact=this._getContactWith(b))?(this._resolveHeroVsPlatformCollision(this._currContact),e.Sound.play("sfx/landing.mp3")):this._potentialContacts.push(b)):-1!=this._potentialContacts.indexOf(b)&&this._potentialContacts.splice(this._potentialContacts.indexOf(b),1)}},l._updateProgress=function(){this._mouseDown&&(this._currProgress+=this._progressChangeSpeed*this._dt);this._wasMouseUp&&(this._currProgress=0);this._setProgressBarProgress(this._computeCurrProgress());this._progressBar.x=this._hero.x-65;this._progressBar.y=this._hero.y-this._heroHalfWidth-50},l._computeCurrProgress=function(){var a;return 1>this._currProgress%2?a=this._currProgress%1:a=1-this._currProgress%1,a},l._updateControl=function(){this._wasMouseDown&&(this._mouseDown=!0);this._wasMouseUp&&(this._mouseDown=!1);this._wasMouseUp=this._wasMouseDown=!1},l._isOverlapWithPlatform=function(a){var b=this._getHeroBound(),c=a.bounds;return c.x=a.view.x,c.y=a.view.y,b.y+b.height>c.y&&b.y<c.y+c.height&&b.x+b.width>c.x&&b.x<c.x+c.width},l._getContactWith=function(a){var b=this._getHeroBound(),c=a.bounds;c.x=a.view.x;c.y=a.view.y;var d=b.x+b.width-c.x,f=c.y+c.height-b.y,e=b.y+b.height-c.y;return e<c.x+c.width-b.x&&e<d&&e<f?{penetration:e,platform:a}:null},l._resolveHeroVsPlatformCollision=function(a){a=a.platform;var b=this._getHeroBound();this._hero.y=a.view.y-b.height/2;this._heroVelocity.x=this._heroVelocity.y=0},l._getHeroBound=function(){return this._heroBound.x=this._hero.x-this._heroHalfWidth,this._heroBound.y=this._hero.y-this._heroHalfWidth,this._heroBound},l._setProgressBarProgress=function(a){this._progressBar.setValue(a)},c});define("bitmapText/BitmapFont",["require"],function(c){c=function(a,b){};var b=c.prototype;return b.getImage=function(){return this._img},b.getCharData=function(a){return this.getCharDataByCode(a.charCodeAt(0))},b.getCharDataByCode=function(a){for(var b=0;b<this._chars.length;b++)if(this._chars[b].id==a)return this._chars[b];return null},b.getKerning=function(a,b){for(var c=a.charCodeAt(0),f=b.charCodeAt(0),e=0;e<this._kernings.length;e++)if(this._kernings[e].first==c&&this._kernings[e].second==f)return Number(this._kernings[e].amount)},b.initWithXml=function(a,b){this._img=a;this.parseXml(b)},b.initWithJson=function(a,b){this._img=a;this.parseJson(b)},b.parseXml=function(a){for(var b=a.childNodes[0].getElementsByTagName("chars")[0].getElementsByTagName("char"),c=[],f=[],e=0;e<b.length;e++){var g={};g.id=b[e].getAttribute("id");g.x=b[e].getAttribute("x");g.y=b[e].getAttribute("y");g.xAdvance=b[e].getAttribute("xadvance");g.xOffset=b[e].getAttribute("xoffset");g.yOffset=b[e].getAttribute("yoffset");g.width=b[e].getAttribute("width");g.height=b[e].getAttribute("height");c.push(g)}if(null!=a.childNodes[0].getElementsByTagName("kernings")[0])for(a=a.childNodes[0].getElementsByTagName("kernings")[0].getElementsByTagName("kerning"),b=0;b<a.length;b++)g={},g.first=a[b].getAttribute("first"),g.second=a[b].getAttribute("second"),g.amount=a[b].getAttribute("amount"),f.push(g);this._chars=c;this._kernings=f},b.parseJson=function(a){this._chars=a.chars.data.concat();this._kernings=a.kernings.data.concat()},b._font="",b._lineHeight=0,b._spaceWidth=0,b._base=0,b._scaleW=0,b._scaleH=0,b._chars=null,b._kernings=null,b._img=null,b._offsetX=0,b._offsetY=0,c});define("bitmapText/BitmapTextField",["require","cjs"],function(c){var b=c("cjs"),a=function(a){this.initialize(a)};a.format={left:"left",center:"center",right:"right"};c=a.prototype=new b.DisplayObject;return c.DisplayObject_initialize=c.initialize,c.initialize=function(a){this.DisplayObject_initialize();this._font=a;this._lines=[];this._lineWidths=[];this._invalidate()},c.DisplayObject_draw=c.draw,c.drawBorder=!1,c.getText=function(){return this._text},c.setText=function(a){0!==this._text.localeCompare(a)&&(this._text=a,this._invalidate())},c.setSize=function(a,b){this._width=a;this._height=b;this._invalidate()},c.setFormat=function(a){this._format=a},c.setLetterSpacing=function(a){this._letterSpacing!==a&&(this._letterSpacing=a,this._invalidate())},c.getBounds=function(){return new b.Rectangle(0,0,this._width,this._height)},c.draw=function(a,b){return this.DisplayObject_draw(a,b)?!0:(this._invalid&&this._validate(),this._doDraw(a),!0)},c._invalid=!0,c._text="",c._lineHeight=30,c._font=null,c._format=a.format.left,c._letterSpacing=0,c._lineSpacing="",c._leftMargin="",c._rightMargin="",c._width=0,c._height=0,c._cache=null,c._cursorX=0,c._lines=null,c._lineWidths=null,c._currLineNum=0,c._spaceWidth=0,c._doDraw=function(a){var b=this._font.getImage(),c=0;this.drawBorder&&a.strokeRect(0,0,this._width,this._height);for(var e=0;e<this._lines.length;e++)this._drawLine(a,b,this._lines[e],this._computeXPosition(this._lineWidths[e]),c),c+=this._lineHeight},c._computeXPosition=function(b){var c=0;switch(this._format){case a.format.center:c=this._width/2-b/2;break;case a.format.right:c=this._width-b}return c},c._drawLine=function(a,b,c,e,g){for(var k=0;k<c.length;k++){var l=c[k];if(" "==l)e+=this._spaceWidth;else for(var m=0;m<l.length;m++){var n=this._font.getCharData(l.charAt(m)),r;0<m&&(r=this._font.getKerning(l.charAt(m-1),l.charAt(m)));r=r||0;a.drawImage(b,n.x,n.y,n.width,n.height,e+r,g,n.width,n.height);e+=Number(n.xadvance)+r+this._letterSpacing}}},c._invalidate=function(){this._invalid=!0},c._validate=function(){this._cursorX=0;this._lines.length=0;this._lineWidths.length=0;this._lines.push([]);this._lineWidths.push(0);this._currLineNum=0;for(var a="",b=this._text,c=!1,e=b.length,g=0;g<e;g++){var k=b.charAt(g);(c="\n"===k||"\t"===k||" "==k)?0<a.length&&(this._pushWorld(a),a=""):a+=k;c&&("\n"===k?this._pushNewLine():"\t"===k?this._pushTab():" "===k&&this._pushSpace())}0<a.length&&this._pushWorld(a);this._invalid=!1},c._pushWorld=function(a){var b=this._measureWordWidth(a);this._cursorX+b<=this._width||0==this._lines[this._currLineNum].length?this._lines[this._currLineNum].push(a):(this._pushNewLine(),this._lines[this._currLineNum].push(a));this._cursorX+=b;this._lineWidths[this._currLineNum]=this._cursorX},c._pushSpace=function(){this._lines[this._currLineNum].push(" ");this._cursorX+=this._spaceWidth},c._pushTab=function(){},c._pushNewLine=function(){this._lineWidths.push(0);this._currLineNum++;this._lines.push([]);this._cursorX=0},c._measureWordWidth=function(a){if(0==a.length)return 0;var b=0,c=a.charAt(0),e=this._font.getCharData(c);e&&(b+=e.xadvance);for(var c=null,g=1;g<a.length;g++)c=a.charAt(g),(e=this._font.getCharData(c))&&(b+=e.xadvance),(c=this._font.getKerning(a.charAt(g-1),c))&&(b+=c),b+=this._letterSpacing;return b},a});define("screens/GameOverPopUp","require assetStorage cjs bitmapText/BitmapFont bitmapText/BitmapTextField screenSize".split(" "),function(c){var b=c("assetStorage"),a=c("cjs"),d=c("bitmapText/BitmapFont"),h=c("bitmapText/BitmapTextField"),f=c("screenSize");c=function(){this.initialize();this.create()};var e=c.prototype=new a.Container;return e.setScore=function(a){this._score.setText(a)},e.setBestScore=function(a){this._bestScore.setText(a)},e.create=function(){var c=new a.Shape;c.graphics.beginFill("rgba(0, 0, 0, 0.3)").drawRect(0,0,f.width,f.height);this.addChild(c);var c=new a.Container,e=b.getBitmap("gfx/gameOverSign.png");c.addChild(e);var l=new a.Container,m=b.getBitmap("gfx/scoreSign.png");m.x=0;m.y=0;l.addChild(m);var n=b.getBitmap("gfx/bestSign.png");n.x=250;n.y=0;l.addChild(n);var r=new d;r.initWithJson(b.get("gfx/font.png"),b.get("gfx/font.json"));var q=new h(r);q.setText("000");q.setSize(205,100);q.x=m.x+(m.getBounds().width-q.getBounds().width)/2;q.y=60;q.setLetterSpacing(-5);q.setFormat(h.format.center);q.mouseEnabled=!1;l.addChild(q);this._score=q;m=new h(r);m.setSize(205,100);m.setText("000");m.x=n.x+(n.getBounds().width-m.getBounds().width)/2;m.y=60;m.setLetterSpacing(-5);m.setFormat(h.format.center);m.mouseEnabled=!1;l.addChild(m);this._bestScore=m;l.x=(e.getBounds().width-l.getBounds().width)/2-l.getBounds().x;l.y=e.y+150;c.x=(f.width-c.getBounds().width)/2;c.y=(f.height-325)/2;c.addChild(l);this.addChild(c);c=b.getBitmap("gfx/tapToContinueSign.png");c.x=(f.width-c.getBounds().width)/2;c.y=f.height-c.getBounds().height-20;this.addChild(c)},e.show=function(a){a.addChild(this)},e.close=function(){this.parent&&this.parent.removeChild(this)},e._score=null,e._bestScore=null,c});define("ProgressBarRenderer",["require","assetStorage","cjs"],function(c){var b=c("assetStorage");c("cjs");c=function(){this.init()};var a=c.prototype;return a.init=function(){},a.createView=function(){this._owner.addChild(b.getBitmap("gfx/progressBarBackground.png"));var a=b.getBitmap("gfx/progressBarForeground.png");a.x=12;a.y=6;this._owner.addChild(a);this._foreground=a},a.validate=function(){this._foreground.scaleX=100*this._owner.getComputedValue()/12},a._setOwner=function(a){this._owner=a;this._owner.removeAllChildren();this.createView()},a._owner=null,a._foreground=null,c});define("gui/ProgressBar",["cjs","../ProgressBarRenderer"],function(c,b){var a=function(){this.initialize(new b)},d=a.prototype=new c.Container;return d.Container_draw=d.draw,d.Container_initialize=d.initialize,d.initialize=function(a){this.Container_initialize();this.setRenderer(a)},d.getRenderer=function(){return this._renderer},d.setRenderer=function(a){this._renderer=a;this._renderer._setOwner(this)},d.getValue=function(){return this._value},d.setValue=function(a){this._value!=a&&(this._value=a,this.invalidate())},d.getMinValue=function(){return this._minValue},d.setMinValue=function(a){this._minValue!=a&&(this._minValue=a,this.invalidate())},d.getMaxValue=function(){return this._maxValue},d.setMaxValue=function(a){this._maxValue!=a&&(this._maxValue=a,this.invalidate())},d.getComputedValue=function(){var a=1/((this._maxValue-this._minValue)/(this._value-this._minValue));return 0>a?0:1<a?1:a},d.invalidate=function(){this._invalid||(this._invalid=!0)},d.validate=function(){this._invalid=!1;this._renderer.validate()},d.draw=function(a,b){return this._invalid&&this.validate(),this.Container_draw(a,b)},d._invalid=!0,d._value=.5,d._minValue=0,d._maxValue=1,d._renderer=null,a});define("screens/GameScreen","require Screen cjs assetStorage game/Game screens/GameOverPopUp gui/ProgressBar gui/BitmapButton bitmapText/BitmapFont bitmapText/BitmapTextField tweenjs screenSize".split(" "),function(c){var b=c("Screen"),a=c("cjs"),d=c("assetStorage"),h=c("game/Game"),f=c("screens/GameOverPopUp"),e=c("gui/ProgressBar"),g=c("gui/BitmapButton"),k=c("bitmapText/BitmapFont"),l=c("bitmapText/BitmapTextField"),m=c("tweenjs"),n=c("screenSize");c=function(a,b){this.init(a,b)};b=c.prototype=new b;return b.init=function(a,b){this._gameStage=a;this._storage=b},b.didScreenSelected=function(){this._paused=!1},b.didScreenUnselected=function(){this._paused=!0},b._build=function(){var b=new a.Container,c=new a.Shape;c.graphics.beginFill("rgba(0, 0, 0, 0.01)").drawRect(0,0,n.width,n.height);this.addChild(b);this.addChild(c);b=new k;b.initWithJson(d.get("gfx/smallDigits.png"),d.get("gfx/smallDigits.json"));b=new l(b);b.x=0;b.y=39;b.setLetterSpacing(-4);b.setSize(n.width,55);b.setFormat(l.format.center);b.mouseEnabled=!1;this.addChild(b);var f=d.getBitmap("gfx/scoreSignSmall.png");f.x=(n.width-f.getBounds().width)/2;f.y=13.5;this.addChild(f);f=new e;f.x=300;f.y=300;f.setValue(.3);var u=new a.Container;u.y=n.height-800;this.addChild(u);this._game=new h(u,c,f,b);this._game.on("gameOver",function(){this._showGameOverPopUp()},this);c=this._createTutorialSprite();this.addChild(c);m.Tween.get(c).wait(5E3).to({alpha:0},500,m.Ease.backIn).call(function(a){this.removeChild(a)},[c],this);c=d.getBitmap("gfx/pauseButton.png");c=g.createButton({x:n.width-15,y:15,anchorX:1,anchorY:0,flags:{"default":{active:c}}});c.on("click",function(){this.getScreenController().goToScreen("mainMenuScreen")},this);this.addChild(c);a.Ticker.on("tick",function(b){if(!this._paused){b=a.Ticker.getTime();var c=(b-this._prevTime)/1E3;.05<c&&(c=.05);this._game.update(c);this._prevTime=b}},this)},b._showGameOverPopUp=function(){var a=this._storage.get("bestScore"),b=this._game.getCurrScore();if(!a||a<b)a=b,this._storage.set("bestScore",a);var c=new f;c.show(this);c.setScore(b.toString());c.setBestScore(a.toString());var d=c.on("click",function(a){this._game.replay();c.close();c.off("click",d)},this)},b._createTutorialSprite=function(){var b=new createjs.SpriteSheet({images:[d.get("gfx/tutorial.png")],frames:[[1,1,126,227,0,5.95,3.95],[128,1,126,227,0,5.95,3.95]],animations:{idle:{frames:[0,1]}}}),b=new a.Sprite(b);return b.x=(n.width-b.getBounds().width)/2,b.y=n.height/4,b.mouseEnabled=!1,b.framerate=1,b.gotoAndPlay("idle"),b},b._prevTime=0,b._storage=null,b._gameStage=null,b._game=null,b.paused=!1,c});define("screens/PreloadingScreen",["require","Screen","cjs","wuki"],function(c){var b=c("Screen"),a=c("cjs"),d=c("wuki");c=function(a,b){this.init(a,b)};b=c.prototype=new b;return b.init=function(a,b){this.initialize();this._loader=a;this._screenSize=b;this.mouseChildren=!1},b._loaderCompleteEventListener=null,b._loaderProgressEventListener=null,b._barForeground=null,b._loader=null,b._screenSize=null,b._build=function(){var b=new a.Shape;b.graphics.beginStroke("#ffffff").setStrokeStyle(2).beginFill("rgba(0, 0, 0, 0)").drawRect(0,0,260,10);b.x=this._screenSize.width/2-130;b.y=this._screenSize.height/2-5;this.addChild(b);var c=new a.Shape;c.x=b.x;c.y=b.y;this.addChild(c);this._barForeground=c;c=new a.Text("Loading","bold 30px Arial, Helvetica, sans-serif","#ffffff");c.x=this._screenSize.width/2-c.getBounds().width/2;c.y=b.y-40;c.name="loadingText";this.addChild(c);b=new a.Shape;b.graphics.beginFill("#ffffff").drawRect(0,0,this._screenSize.width,this._screenSize.height);this.hitArea=b;this._loaderProgressEventListener=this._loader.on("progress",this._handleLoadQueueProgressEvent,this);this._loaderCompleteEventListener=this._loader.on("complete",this._handleLoadQueueCompleteEvent,this)},b._handleLoadQueueProgressEvent=function(a){this._barForeground.graphics.clear().beginStroke("#ffffff").setStrokeStyle(2).beginFill("#ffffff").drawRect(0,0,260*a.progress,10)},b._handleLoadQueueCompleteEvent=function(){this._loader.off("progress",this._loaderProgressEventListener);this._loader.off("complete",this._loaderCompleteEventListener);this._loaderCompleteEventListener=this._loaderProgressEventListener=null;var a=this;d("showSplash",function(){a.getScreenController().goToScreen("mainMenuScreen")})},c});define("ScreenController",[],function(){var c=function(a){this._screens=this._activeScreen=null;this._view=a},b=c.prototype;return b.getActiveScreen=function(){return this._activeScreen},b.getScreens=function(){return this._screens},b.setScreens=function(a){var b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c]=a[c],b[c]._name=c);this._screens=b},b.goToScreen=function(a){if(!this._screens.hasOwnProperty(a))throw Error("Can't find screen with provided name: "+a);a=this._screens[a];a._builded||(a._build(),a._builded=!0);this._pushScreen(a)},b._pushScreen=function(a){this._activeScreen&&(this._activeScreen.didScreenUnselected(),this._activeScreen._screenController=null,this._view.removeChild(this._activeScreen));(this._activeScreen=a)&&(this._activeScreen._screenController=this,this._activeScreen.didScreenSelected(this),this._view.addChild(this._activeScreen))},c});this.createjs=this.createjs||{};(function(){var c=createjs.PreloadJS=createjs.PreloadJS||{};c.version="0.4.1";c.buildDate="Thu, 12 Dec 2013 23:33:38 GMT"})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.initialize(a,b,c)},b=c.prototype;b.type=null;b.target=null;b.currentTarget=null;b.eventPhase=0;b.bubbles=!1;b.cancelable=!1;b.timeStamp=0;b.defaultPrevented=!1;b.propagationStopped=!1;b.immediatePropagationStopped=!1;b.removed=!1;b.initialize=function(a,b,c){this.type=a;this.bubbles=b;this.cancelable=c;this.timeStamp=(new Date).getTime()};b.preventDefault=function(){this.defaultPrevented=!0};b.stopPropagation=function(){this.propagationStopped=!0};b.stopImmediatePropagation=function(){this.immediatePropagationStopped=this.propagationStopped=!0};b.remove=function(){this.removed=!0};b.clone=function(){return new c(this.type,this.bubbles,this.cancelable)};b.toString=function(){return"[Event (type\x3d"+this.type+")]"};createjs.Event=c})();this.createjs=this.createjs||{};(function(){var c=function(){},b=c.prototype;c.initialize=function(a){a.addEventListener=b.addEventListener;a.on=b.on;a.removeEventListener=a.off=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent;a._dispatchEvent=b._dispatchEvent;a.willTrigger=b.willTrigger};b._listeners=null;b._captureListeners=null;b.initialize=function(){};b.addEventListener=function(a,b,c){var f;f=c?this._captureListeners=this._captureListeners||{}:this._listeners=this._listeners||{};var e=f[a];return e&&this.removeEventListener(a,b,c),e=f[a],e?e.push(b):f[a]=[b],b};b.on=function(a,b,c,f,e,g){return b.handleEvent&&(c=c||b,b=b.handleEvent),c=c||this,this.addEventListener(a,function(a){b.call(c,a,e);f&&a.remove()},g)};b.removeEventListener=function(a,b,c){if(c=c?this._captureListeners:this._listeners){var f=c[a];if(f)for(var e=0,g=f.length;g>e;e++)if(f[e]==b){1==g?delete c[a]:f.splice(e,1);break}}};b.off=b.removeEventListener;b.removeAllEventListeners=function(a){a?(this._listeners&&delete this._listeners[a],this._captureListeners&&delete this._captureListeners[a]):this._listeners=this._captureListeners=null};b.dispatchEvent=function(a,b){if("string"==typeof a){var c=this._listeners;if(!c||!c[a])return!1;a=new createjs.Event(a)}if(a.target=b||this,a.bubbles&&this.parent){for(var f=this,c=[f];f.parent;)c.push(f=f.parent);for(var e=c.length,f=e-1;0<=f&&!a.propagationStopped;f--)c[f]._dispatchEvent(a,1+(0==f));for(f=1;e>f&&!a.propagationStopped;f++)c[f]._dispatchEvent(a,3)}else this._dispatchEvent(a,2);return a.defaultPrevented};b.hasEventListener=function(a){var b=this._listeners,c=this._captureListeners;return!!(b&&b[a]||c&&c[a])};b.willTrigger=function(a){for(var b=this;b;){if(b.hasEventListener(a))return!0;b=b.parent}return!1};b.toString=function(){return"[EventDispatcher]"};b._dispatchEvent=function(a,b){var c,f=1==b?this._captureListeners:this._listeners;if(a&&f&&(f=f[a.type])&&(c=f.length)){a.currentTarget=this;a.eventPhase=b;a.removed=!1;for(var f=f.slice(),e=0;c>e&&!a.immediatePropagationStopped;e++){var g=f[e];g.handleEvent?g.handleEvent(a):g(a);a.removed&&(this.off(a.type,g,1==b),a.removed=!1)}}};createjs.EventDispatcher=c})();this.createjs=this.createjs||{};(function(){createjs.indexOf=function(c,b){for(var a=0,d=c.length;d>a;a++)if(b===c[a])return a;return-1}})();this.createjs=this.createjs||{};(function(){createjs.proxy=function(c,b){var a=Array.prototype.slice.call(arguments,2);return function(){return c.apply(b,Array.prototype.slice.call(arguments,0).concat(a))}}})();this.createjs=this.createjs||{};(function(){var c=function(){this.init()};c.prototype=new createjs.EventDispatcher;var b=c.prototype;c.FILE_PATTERN=/^(?:(\w+:)\/{2}(\w+(?:\.\w+)*\/?)|(.{0,2}\/{1}))?([/.]*?(?:[^?]+)?\/)?((?:[^/?]+)\.(\w+))(?:\?(\S+)?)?$/;c.PATH_PATTERN=/^(?:(\w+:)\/{2})|(.{0,2}\/{1})?([/.]*?(?:[^?]+)?\/?)?$/;b.loaded=!1;b.canceled=!1;b.progress=0;b._item=null;b.getItem=function(){return this._item};b.init=function(){};b.load=function(){};b.close=function(){};b._sendLoadStart=function(){this._isCanceled()||this.dispatchEvent("loadstart")};b._sendProgress=function(a){if(!this._isCanceled()){var b=null;"number"==typeof a?(this.progress=a,b=new createjs.Event("progress"),b.loaded=this.progress,b.total=1):(b=a,this.progress=a.loaded/a.total,(isNaN(this.progress)||1/0==this.progress)&&(this.progress=0));b.progress=this.progress;this.hasEventListener("progress")&&this.dispatchEvent(b)}};b._sendComplete=function(){this._isCanceled()||this.dispatchEvent("complete")};b._sendError=function(a){!this._isCanceled()&&this.hasEventListener("error")&&(null==a&&(a=new createjs.Event("error")),this.dispatchEvent(a))};b._isCanceled=function(){return null==window.createjs||this.canceled?!0:!1};b._parseURI=function(a){return a?a.match(c.FILE_PATTERN):null};b._parsePath=function(a){return a?a.match(c.PATH_PATTERN):null};b._formatQueryString=function(a,b){if(null==a)throw Error("You must specify data.");var c=[],f;for(f in a)c.push(f+"\x3d"+escape(a[f]));return b&&(c=c.concat(b)),c.join("\x26")};b.buildPath=function(a,b){if(null==b)return a;var c=[],f=a.indexOf("?");if(-1!=f)var e=a.slice(f+1),c=c.concat(e.split("\x26"));return-1!=f?a.slice(0,f)+"?"+this._formatQueryString(b,c):a+"?"+this._formatQueryString(b,c)};b._isCrossDomain=function(a){var b=document.createElement("a");b.href=a.src;a=document.createElement("a");a.href=location.href;return""!=b.hostname&&(b.port!=a.port||b.protocol!=a.protocol||b.hostname!=a.hostname)};b._isLocal=function(a){var b=document.createElement("a");return b.href=a.src,""==b.hostname&&"file:"==b.protocol};b.toString=function(){return"[PreloadJS AbstractLoader]"};createjs.AbstractLoader=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b,c){this.init(a,b,c)},b=c.prototype=new createjs.AbstractLoader;c.loadTimeout=8E3;c.LOAD_TIMEOUT=0;c.BINARY="binary";c.CSS="css";c.IMAGE="image";c.JAVASCRIPT="javascript";c.JSON="json";c.JSONP="jsonp";c.MANIFEST="manifest";c.SOUND="sound";c.SVG="svg";c.TEXT="text";c.XML="xml";c.POST="POST";c.GET="GET";b._basePath=null;b._crossOrigin="";b.useXHR=!0;b.stopOnError=!1;b.maintainScriptOrder=!0;b.next=null;b._typeCallbacks=null;b._extensionCallbacks=null;b._loadStartWasDispatched=!1;b._maxConnections=1;b._currentlyLoadingScript=null;b._currentLoads=null;b._loadQueue=null;b._loadQueueBackup=null;b._loadItemsById=null;b._loadItemsBySrc=null;b._loadedResults=null;b._loadedRawResults=null;b._numItems=0;b._numItemsLoaded=0;b._scriptOrder=null;b._loadedScripts=null;b.init=function(a,b,c){this._numItems=this._numItemsLoaded=0;this._loadStartWasDispatched=this._paused=!1;this._currentLoads=[];this._loadQueue=[];this._loadQueueBackup=[];this._scriptOrder=[];this._loadedScripts=[];this._loadItemsById={};this._loadItemsBySrc={};this._loadedResults={};this._loadedRawResults={};this._typeCallbacks={};this._extensionCallbacks={};this._basePath=b;this.setUseXHR(a);this._crossOrigin=!0===c?"Anonymous":!1===c||null==c?"":c};b.setUseXHR=function(a){return this.useXHR=0!=a&&null!=window.XMLHttpRequest,this.useXHR};b.removeAll=function(){this.remove()};b.remove=function(a){var b=null;if(!a||a instanceof Array)if(a)b=a;else{if(0<arguments.length)return}else b=[a];var c=!1;if(b){for(;b.length;){for(var e=b.pop(),g=this.getResult(e),k=this._loadQueue.length-1;0<=k;k--)if(l=this._loadQueue[k].getItem(),l.id==e||l.src==e){this._loadQueue.splice(k,1)[0].cancel();break}for(k=this._loadQueueBackup.length-1;0<=k;k--)if(l=this._loadQueueBackup[k].getItem(),l.id==e||l.src==e){this._loadQueueBackup.splice(k,1)[0].cancel();break}if(g)delete this._loadItemsById[g.id],delete this._loadItemsBySrc[g.src],this._disposeItem(g);else for(var k=this._currentLoads.length-1;0<=k;k--){var l=this._currentLoads[k].getItem();if(l.id==e||l.src==e){this._currentLoads.splice(k,1)[0].cancel();c=!0;break}}}c&&this._loadNext()}else{this.close();for(e in this._loadItemsById)this._disposeItem(this._loadItemsById[e]);this.init(this.useXHR)}};b.reset=function(){this.close();for(var a in this._loadItemsById)this._disposeItem(this._loadItemsById[a]);a=[];for(var b=0,c=this._loadQueueBackup.length;c>b;b++)a.push(this._loadQueueBackup[b].getItem());this.loadManifest(a,!1)};c.isBinary=function(a){switch(a){case createjs.LoadQueue.IMAGE:case createjs.LoadQueue.BINARY:return!0;default:return!1}};c.isText=function(a){switch(a){case createjs.LoadQueue.TEXT:case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.XML:case createjs.LoadQueue.HTML:case createjs.LoadQueue.CSS:case createjs.LoadQueue.SVG:case createjs.LoadQueue.JAVASCRIPT:return!0;default:return!1}};b.installPlugin=function(a){if(null!=a&&null!=a.getPreloadHandlers){var b=a.getPreloadHandlers();if(b.scope=a,null!=b.types){a=0;for(var c=b.types.length;c>a;a++)this._typeCallbacks[b.types[a]]=b}if(null!=b.extensions)for(a=0,c=b.extensions.length;c>a;a++)this._extensionCallbacks[b.extensions[a]]=b}};b.setMaxConnections=function(a){this._maxConnections=a;!this._paused&&0<this._loadQueue.length&&this._loadNext()};b.loadFile=function(a,b,c){if(null==a)return a=new createjs.Event("error"),a.text="PRELOAD_NO_FILE",this._sendError(a),void 0;this._addItem(a,null,c);!1!==b?this.setPaused(!1):this.setPaused(!0)};b.loadManifest=function(a,b,f){var e=null,g=null;if(a instanceof Array){if(0==a.length)return e=new createjs.Event("error"),e.text="PRELOAD_MANIFEST_EMPTY",this._sendError(e),void 0;e=a}else if("string"==typeof a)e=[{src:a,type:c.MANIFEST}];else{if("object"!=typeof a)return e=new createjs.Event("error"),e.text="PRELOAD_MANIFEST_NULL",this._sendError(e),void 0;void 0!==a.src?(null==a.type?a.type=c.MANIFEST:a.type!=c.MANIFEST&&(e=new createjs.Event("error"),e.text="PRELOAD_MANIFEST_ERROR",this._sendError(e)),e=[a]):void 0!==a.manifest&&(e=a.manifest,g=a.path)}a=0;for(var k=e.length;k>a;a++)this._addItem(e[a],g,f);!1!==b?this.setPaused(!1):this.setPaused(!0)};b.load=function(){this.setPaused(!1)};b.getItem=function(a){return this._loadItemsById[a]||this._loadItemsBySrc[a]};b.getResult=function(a,b){var c=this._loadItemsById[a]||this._loadItemsBySrc[a];if(null==c)return null;c=c.id;return b&&this._loadedRawResults[c]?this._loadedRawResults[c]:this._loadedResults[c]};b.setPaused=function(a){(this._paused=a)||this._loadNext()};b.close=function(){for(;this._currentLoads.length;)this._currentLoads.pop().cancel();this._scriptOrder.length=0;this._loadedScripts.length=0;this.loadStartWasDispatched=!1};b._addItem=function(a,b,c){a=this._createLoadItem(a,b,c);null!=a&&(b=this._createLoader(a),null!=b&&(this._loadQueue.push(b),this._loadQueueBackup.push(b),this._numItems++,this._updateProgress(),this.maintainScriptOrder&&a.type==createjs.LoadQueue.JAVASCRIPT&&b instanceof createjs.XHRLoader&&(this._scriptOrder.push(a),this._loadedScripts.push(null))))};b._createLoadItem=function(a,b,c){var e=null;switch(typeof a){case "string":e={src:a};break;case "object":e=window.HTMLAudioElement&&a instanceof window.HTMLAudioElement?{tag:a,src:e.tag.src,type:createjs.LoadQueue.SOUND}:a;break;default:return null}a=this._parseURI(e.src);null!=a&&(e.ext=a[6]);null==e.type&&(e.type=this._getTypeByExtension(e.ext));var g="";c=c||this._basePath;var k=e.src;if(a&&null==a[1]&&null==a[3])if(b){var g=b,l=this._parsePath(b),k=b+k;null!=c&&l&&null==l[1]&&null==l[2]&&(g=c+g)}else null!=c&&(g=c);if(e.src=g+e.src,e.path=g,(e.type==createjs.LoadQueue.JSON||e.type==createjs.LoadQueue.MANIFEST)&&(e._loadAsJSONP=null!=e.callback),e.type==createjs.LoadQueue.JSONP&&null==e.callback)throw Error("callback is required for loading JSONP requests.");void 0!==e.tag&&null!==e.tag||(e.tag=this._createTag(e));void 0!==e.id&&null!==e.id&&""!==e.id||(e.id=k);if(b=this._typeCallbacks[e.type]||this._extensionCallbacks[e.ext]){b=b.callback.call(b.scope,e.src,e.type,e.id,e.data,g,this);if(!1===b)return null;!0===b||(null!=b.src&&(e.src=b.src),null!=b.id&&(e.id=b.id),null!=b.tag&&(e.tag=b.tag),null!=b.completeHandler&&(e.completeHandler=b.completeHandler),b.type&&(e.type=b.type),a=this._parseURI(e.src),null!=a&&null!=a[6]&&(e.ext=a[6].toLowerCase()))}return this._loadItemsById[e.id]=e,this._loadItemsBySrc[e.src]=e,e};b._createLoader=function(a){var b=this.useXHR;switch(a.type){case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:b=!a._loadAsJSONP;break;case createjs.LoadQueue.XML:case createjs.LoadQueue.TEXT:b=!0;break;case createjs.LoadQueue.SOUND:case createjs.LoadQueue.JSONP:b=!1;break;case null:return null}return b?new createjs.XHRLoader(a,this._crossOrigin):new createjs.TagLoader(a)};b._loadNext=function(){if(!this._paused){this._loadStartWasDispatched||(this._sendLoadStart(),this._loadStartWasDispatched=!0);this._numItems==this._numItemsLoaded?(this.loaded=!0,this._sendComplete(),this.next&&this.next.load&&this.next.load()):this.loaded=!1;for(var a=0;a<this._loadQueue.length&&!(this._currentLoads.length>=this._maxConnections);a++){var b=this._loadQueue[a];if(this.maintainScriptOrder&&b instanceof createjs.TagLoader&&b.getItem().type==createjs.LoadQueue.JAVASCRIPT){if(this._currentlyLoadingScript)continue;this._currentlyLoadingScript=!0}this._loadQueue.splice(a,1);a--;this._loadItem(b)}}};b._loadItem=function(a){a.on("progress",this._handleProgress,this);a.on("complete",this._handleFileComplete,this);a.on("error",this._handleFileError,this);this._currentLoads.push(a);this._sendFileStart(a.getItem());a.load()};b._handleFileError=function(a){a=a.target;this._numItemsLoaded++;this._updateProgress();var b=new createjs.Event("error");b.text="FILE_LOAD_ERROR";b.item=a.getItem();this._sendError(b);this.stopOnError||(this._removeLoadItem(a),this._loadNext())};b._handleFileComplete=function(a){a=a.target;var b=a.getItem();if(this._loadedResults[b.id]=a.getResult(),a instanceof createjs.XHRLoader&&(this._loadedRawResults[b.id]=a.getResult(!0)),this._removeLoadItem(a),this.maintainScriptOrder&&b.type==createjs.LoadQueue.JAVASCRIPT){if(!(a instanceof createjs.TagLoader))return this._loadedScripts[createjs.indexOf(this._scriptOrder,b)]=b,this._checkScriptLoadOrder(a),void 0;this._currentlyLoadingScript=!1}if(delete b._loadAsJSONP,b.type==createjs.LoadQueue.MANIFEST){var c=a.getResult();null!=c&&void 0!==c.manifest&&this.loadManifest(c,!0)}this._processFinishedLoad(b,a)};b._processFinishedLoad=function(a,b){this._numItemsLoaded++;this._updateProgress();this._sendFileComplete(a,b);this._loadNext()};b._checkScriptLoadOrder=function(){for(var a=this._loadedScripts.length,b=0;a>b;b++){var c=this._loadedScripts[b];if(null===c)break;if(!0!==c){var e=this._loadedResults[c.id];(document.body||document.getElementsByTagName("body")[0]).appendChild(e);this._processFinishedLoad(c);this._loadedScripts[b]=!0}}};b._removeLoadItem=function(a){for(var b=this._currentLoads.length,c=0;b>c;c++)if(this._currentLoads[c]==a){this._currentLoads.splice(c,1);break}};b._handleProgress=function(a){a=a.target;this._sendFileProgress(a.getItem(),a.progress);this._updateProgress()};b._updateProgress=function(){var a=this._numItemsLoaded/this._numItems,b=this._numItems-this._numItemsLoaded;if(0<b){for(var c=0,e=0,g=this._currentLoads.length;g>e;e++)c+=this._currentLoads[e].progress;a+=c/b*(b/this._numItems)}this._sendProgress(a)};b._disposeItem=function(a){delete this._loadedResults[a.id];delete this._loadedRawResults[a.id];delete this._loadItemsById[a.id];delete this._loadItemsBySrc[a.src]};b._createTag=function(a){var b=null;switch(a.type){case createjs.LoadQueue.IMAGE:return b=document.createElement("img"),""==this._crossOrigin||this._isLocal(a)||(b.crossOrigin=this._crossOrigin),b;case createjs.LoadQueue.SOUND:return b=document.createElement("audio"),b.autoplay=!1,b;case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.JAVASCRIPT:case createjs.LoadQueue.MANIFEST:return b=document.createElement("script"),b.type="text/javascript",b;case createjs.LoadQueue.CSS:return b=this.useXHR?document.createElement("style"):document.createElement("link"),b.rel="stylesheet",b.type="text/css",b;case createjs.LoadQueue.SVG:return this.useXHR?b=document.createElement("svg"):(b=document.createElement("object"),b.type="image/svg+xml"),b}return null};b._getTypeByExtension=function(a){if(null==a)return createjs.LoadQueue.TEXT;switch(a.toLowerCase()){case "jpeg":case "jpg":case "gif":case "png":case "webp":case "bmp":return createjs.LoadQueue.IMAGE;case "ogg":case "mp3":case "wav":return createjs.LoadQueue.SOUND;case "json":return createjs.LoadQueue.JSON;case "xml":return createjs.LoadQueue.XML;case "css":return createjs.LoadQueue.CSS;case "js":return createjs.LoadQueue.JAVASCRIPT;case "svg":return createjs.LoadQueue.SVG;default:return createjs.LoadQueue.TEXT}};b._sendFileProgress=function(a,b){if(this._isCanceled())return this._cleanUp(),void 0;if(this.hasEventListener("fileprogress")){var c=new createjs.Event("fileprogress");c.progress=b;c.loaded=b;c.total=1;c.item=a;this.dispatchEvent(c)}};b._sendFileComplete=function(a,b){if(!this._isCanceled()){var c=new createjs.Event("fileload");c.prld=b;c.item=a;c.result=this._loadedResults[a.id];c.rawResult=this._loadedRawResults[a.id];a.completeHandler&&a.completeHandler(c);this.hasEventListener("fileload")&&this.dispatchEvent(c)}};b._sendFileStart=function(a){var b=new createjs.Event("filestart");b.item=a;this.hasEventListener("filestart")&&this.dispatchEvent(b)};b.toString=function(){return"[PreloadJS LoadQueue]"};createjs.LoadQueue=c;var a=function(){};a.init=function(){var b=navigator.userAgent;a.isFirefox=-1<b.indexOf("Firefox");a.isOpera=null!=window.opera;a.isChrome=-1<b.indexOf("Chrome");a.isIOS=-1<b.indexOf("iPod")||-1<b.indexOf("iPhone")||-1<b.indexOf("iPad")};a.init();createjs.LoadQueue.BrowserDetect=a})();this.createjs=this.createjs||{};(function(){var c=function(a){this.init(a)},b=c.prototype=new createjs.AbstractLoader;b._loadTimeout=null;b._tagCompleteProxy=null;b._isAudio=!1;b._tag=null;b._jsonResult=null;b.init=function(a){this._item=a;this._tag=a.tag;this._isAudio=window.HTMLAudioElement&&a.tag instanceof window.HTMLAudioElement;this._tagCompleteProxy=createjs.proxy(this._handleLoad,this)};b.getResult=function(){return this._item.type==createjs.LoadQueue.JSONP||this._item.type==createjs.LoadQueue.MANIFEST?this._jsonResult:this._tag};b.cancel=function(){this.canceled=!0;this._clean()};b.load=function(){var a=this._item,b=this._tag;clearTimeout(this._loadTimeout);var c=createjs.LoadQueue.LOAD_TIMEOUT;0==c&&(c=createjs.LoadQueue.loadTimeout);this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),c);this._isAudio&&(b.src=null,b.preload="auto");b.onerror=createjs.proxy(this._handleError,this);this._isAudio?(b.onstalled=createjs.proxy(this._handleStalled,this),b.addEventListener("canplaythrough",this._tagCompleteProxy,!1)):(b.onload=createjs.proxy(this._handleLoad,this),b.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this));c=this.buildPath(a.src,a.values);switch(a.type){case createjs.LoadQueue.CSS:b.href=c;break;case createjs.LoadQueue.SVG:b.data=c;break;default:b.src=c}if(a.type==createjs.LoadQueue.JSONP||a.type==createjs.LoadQueue.JSON||a.type==createjs.LoadQueue.MANIFEST){if(null==a.callback)throw Error("callback is required for loading JSONP requests.");if(null!=window[a.callback])throw Error('JSONP callback "'+a.callback+'" already exists on window. You need to specify a different callback. Or re-name the current one.');window[a.callback]=createjs.proxy(this._handleJSONPLoad,this)}a.type!=createjs.LoadQueue.SVG&&a.type!=createjs.LoadQueue.JSONP&&a.type!=createjs.LoadQueue.JSON&&a.type!=createjs.LoadQueue.MANIFEST&&a.type!=createjs.LoadQueue.JAVASCRIPT&&a.type!=createjs.LoadQueue.CSS||(this._startTagVisibility=b.style.visibility,b.style.visibility="hidden",(document.body||document.getElementsByTagName("body")[0]).appendChild(b));null!=b.load&&b.load()};b._handleJSONPLoad=function(a){this._jsonResult=a};b._handleTimeout=function(){this._clean();var a=new createjs.Event("error");a.text="PRELOAD_TIMEOUT";this._sendError(a)};b._handleStalled=function(){};b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)};b._handleReadyStateChange=function(){clearTimeout(this._loadTimeout);var a=this.getItem().tag;"loaded"!=a.readyState&&"complete"!=a.readyState||this._handleLoad()};b._handleLoad=function(){if(!this._isCanceled()){var a=this.getItem(),b=a.tag;if(!(this.loaded||this._isAudio&&4!==b.readyState)){switch(this.loaded=!0,a.type){case createjs.LoadQueue.SVG:case createjs.LoadQueue.JSON:case createjs.LoadQueue.JSONP:case createjs.LoadQueue.MANIFEST:case createjs.LoadQueue.CSS:b.style.visibility=this._startTagVisibility,(document.body||document.getElementsByTagName("body")[0]).removeChild(b)}this._clean();this._sendComplete()}}};b._clean=function(){clearTimeout(this._loadTimeout);var a=this.getItem(),b=a.tag;null!=b&&(b.onload=null,b.removeEventListener&&b.removeEventListener("canplaythrough",this._tagCompleteProxy,!1),b.onstalled=null,b.onprogress=null,b.onerror=null,null!=b.parentNode&&a.type==createjs.LoadQueue.SVG&&a.type==createjs.LoadQueue.JSON&&a.type==createjs.LoadQueue.MANIFEST&&a.type==createjs.LoadQueue.CSS&&a.type==createjs.LoadQueue.JSONP&&b.parentNode.removeChild(b));a=this.getItem();a.type!=createjs.LoadQueue.JSONP&&a.type!=createjs.LoadQueue.MANIFEST||(window[a.callback]=null)};b.toString=function(){return"[PreloadJS TagLoader]"};createjs.TagLoader=c})();this.createjs=this.createjs||{};(function(){var c=function(a,b){this.init(a,b)},b=c.prototype=new createjs.AbstractLoader;b._request=null;b._loadTimeout=null;b._xhrLevel=1;b._response=null;b._rawResponse=null;b._crossOrigin="";b.init=function(a,b){this._item=a;this._crossOrigin=b;!this._createXHR(a)};b.getResult=function(a){return a&&this._rawResponse?this._rawResponse:this._response};b.cancel=function(){this.canceled=!0;this._clean();this._request.abort()};b.load=function(){if(null==this._request)return this._handleError(),void 0;if(this._request.onloadstart=createjs.proxy(this._handleLoadStart,this),this._request.onprogress=createjs.proxy(this._handleProgress,this),this._request.onabort=createjs.proxy(this._handleAbort,this),this._request.onerror=createjs.proxy(this._handleError,this),this._request.ontimeout=createjs.proxy(this._handleTimeout,this),1==this._xhrLevel){var a=createjs.LoadQueue.LOAD_TIMEOUT;if(0==a)a=createjs.LoadQueue.loadTimeout;else try{console.warn("LoadQueue.LOAD_TIMEOUT has been deprecated in favor of LoadQueue.loadTimeout")}catch(b){}this._loadTimeout=setTimeout(createjs.proxy(this._handleTimeout,this),a)}this._request.onload=createjs.proxy(this._handleLoad,this);this._request.onreadystatechange=createjs.proxy(this._handleReadyStateChange,this);try{this._item.values&&this._item.method!=createjs.LoadQueue.GET?this._item.method==createjs.LoadQueue.POST&&this._request.send(this._formatQueryString(this._item.values)):this._request.send()}catch(b){a=new createjs.Event("error"),a.error=b,this._sendError(a)}};b.getAllResponseHeaders=function(){return this._request.getAllResponseHeaders instanceof Function?this._request.getAllResponseHeaders():null};b.getResponseHeader=function(a){return this._request.getResponseHeader instanceof Function?this._request.getResponseHeader(a):null};b._handleProgress=function(a){if(a&&!(0<a.loaded&&0==a.total)){var b=new createjs.Event("progress");b.loaded=a.loaded;b.total=a.total;this._sendProgress(b)}};b._handleLoadStart=function(){clearTimeout(this._loadTimeout);this._sendLoadStart()};b._handleAbort=function(){this._clean();var a=new createjs.Event("error");a.text="XHR_ABORTED";this._sendError(a)};b._handleError=function(){this._clean();var a=new createjs.Event("error");this._sendError(a)};b._handleReadyStateChange=function(){4==this._request.readyState&&this._handleLoad()};b._handleLoad=function(){if(!this.loaded){if(this.loaded=!0,!this._checkError())return this._handleError(),void 0;this._response=this._getResponse();this._clean();this._generateTag()&&this._sendComplete()}};b._handleTimeout=function(a){this._clean();(new createjs.Event("error")).text="PRELOAD_TIMEOUT";this._sendError(a)};b._checkError=function(){switch(parseInt(this._request.status)){case 404:case 0:return!1}return!0};b._getResponse=function(){if(null!=this._response)return this._response;if(null!=this._request.response)return this._request.response;try{if(null!=this._request.responseText)return this._request.responseText}catch(a){}try{if(null!=this._request.responseXML)return this._request.responseXML}catch(a){}return null};b._createXHR=function(a){var b=this._isCrossDomain(a),c=null;if(b&&window.XDomainRequest)c=new XDomainRequest;else if(window.XMLHttpRequest)c=new XMLHttpRequest;else try{c=new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){try{c=new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(g){try{c=new ActiveXObject("Msxml2.XMLHTTP")}catch(k){return!1}}}createjs.LoadQueue.isText(a.type)&&c.overrideMimeType&&c.overrideMimeType("text/plain; charset\x3dutf-8");this._xhrLevel="string"==typeof c.responseType?2:1;var f=null;return f=a.method==createjs.LoadQueue.GET?this.buildPath(a.src,a.values):a.src,c.open(a.method||createjs.LoadQueue.GET,f,!0),b&&c instanceof XMLHttpRequest&&1==this._xhrLevel&&c.setRequestHeader("Origin",location.origin),a.values&&a.method==createjs.LoadQueue.POST&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),createjs.LoadQueue.isBinary(a.type)&&(c.responseType="arraybuffer"),this._request=c,!0};b._clean=function(){clearTimeout(this._loadTimeout);var a=this._request;a.onloadstart=null;a.onprogress=null;a.onabort=null;a.onerror=null;a.onload=null;a.ontimeout=null;a.onloadend=null;a.onreadystatechange=null};b._generateTag=function(){var a=this._item.tag;switch(this._item.type){case createjs.LoadQueue.IMAGE:return a.onload=createjs.proxy(this._handleTagReady,this),""!=this._crossOrigin&&(a.crossOrigin="Anonymous"),a.src=this.buildPath(this._item.src,this._item.values),this._rawResponse=this._response,this._response=a,!1;case createjs.LoadQueue.JAVASCRIPT:return a=document.createElement("script"),a.text=this._response,this._rawResponse=this._response,this._response=a,!0;case createjs.LoadQueue.CSS:if(document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.cssText=this._response;else{var b=document.createTextNode(this._response);a.appendChild(b)}return this._rawResponse=this._response,this._response=a,!0;case createjs.LoadQueue.XML:return b=this._parseXML(this._response,"text/xml"),this._rawResponse=this._response,this._response=b,!0;case createjs.LoadQueue.SVG:return b=this._parseXML(this._response,"image/svg+xml"),this._rawResponse=this._response,null!=b.documentElement?(a.appendChild(b.documentElement),this._response=a):this._response=b,!0;case createjs.LoadQueue.JSON:case createjs.LoadQueue.MANIFEST:a={};try{a=JSON.parse(this._response)}catch(c){a=c}return this._rawResponse=this._response,this._response=a,!0}return!0};b._parseXML=function(a,b){var c=null;try{window.DOMParser?c=(new DOMParser).parseFromString(a,b):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(a))}catch(f){}return c};b._handleTagReady=function(){this._sendComplete()};b.toString=function(){return"[PreloadJS XHRLoader]"};createjs.XHRLoader=c})();"object"!=typeof JSON&&(JSON={});(function(){function c(a){return 10>a?"0"+a:a}function b(a){return h.lastIndex=0,h.test(a)?'"'+a.replace(h,function(a){var b=g[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function a(c,d){var g,h,q,t,u,w=f,v=d[c];switch(v&&"object"==typeof v&&"function"==typeof v.toJSON&&(v=v.toJSON(c)),"function"==typeof k&&(v=k.call(d,c,v)),typeof v){case "string":return b(v);case "number":return isFinite(v)?String(v):"null";case "boolean":case "null":return String(v);case "object":if(!v)return"null";if(f+=e,u=[],"[object Array]"===Object.prototype.toString.apply(v)){t=v.length;for(g=0;t>g;g+=1)u[g]=a(g,v)||"null";return q=0===u.length?"[]":f?"[\n"+f+u.join(",\n"+f)+"\n"+w+"]":"["+u.join(",")+"]",f=w,q}if(k&&"object"==typeof k)for(t=k.length,g=0;t>g;g+=1)"string"==typeof k[g]&&(h=k[g],q=a(h,v),q&&u.push(b(h)+(f?": ":":")+q));else for(h in v)Object.prototype.hasOwnProperty.call(v,h)&&(q=a(h,v),q&&u.push(b(h)+(f?": ":":")+q));return q=0===u.length?"{}":f?"{\n"+f+u.join(",\n"+f)+"\n"+w+"}":"{"+u.join(",")+"}",f=w,q}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+c(this.getUTCMonth()+1)+"-"+c(this.getUTCDate())+"T"+c(this.getUTCHours())+":"+c(this.getUTCMinutes())+":"+c(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var d=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f,e,g={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;"function"!=typeof JSON.stringify&&(JSON.stringify=function(b,c,d){var g;if(f="",e="","number"==typeof d)for(g=0;d>g;g+=1)e+=" ";else"string"==typeof d&&(e=d);if(k=c,!c||"function"==typeof c||"object"==typeof c&&"number"==typeof c.length)return a("",{"":b});throw Error("JSON.stringify");});"function"!=typeof JSON.parse&&(JSON.parse=function(a,b){function c(a,d){var e,f,g=a[d];if(g&&"object"==typeof g)for(e in g)Object.prototype.hasOwnProperty.call(g,e)&&(f=c(g,e),void 0!==f?g[e]=f:delete g[e]);return b.call(a,d,g)}var e;if(a=String(a),d.lastIndex=0,d.test(a)&&(a=a.replace(d,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return e=eval("("+a+")"),"function"==typeof b?c({"":e},""):e;throw new SyntaxError("JSON.parse");})})();define("prld",function(c){return function(){return c.createjs}}(this));define("gameAssets",{gfx_font_png:"gfx/font.png",gfx_gfx_atlas_png:"gfx/gfx.atlas.png",gfx_smallDigits_png:"gfx/smallDigits.png",gfx_tutorial_png:"gfx/tutorial.png",gfx_waterAnim_png:"gfx/waterAnim.png",sfx_buttontap_mp3:"sfx/buttontap.mp3",sfx_jump_mp3:"sfx/jump.mp3",sfx_landing_mp3:"sfx/landing.mp3",sfx_splash_mp3:"sfx/splash.mp3",sfx_theme_mp3:"sfx/theme.mp3"});(function(){function c(){var a="{}";if("userDataBehavior"==u){q.load("jStorage");try{a=q.getAttribute("jStorage")}catch(b){}try{x=q.getAttribute("jStorage_update")}catch(b){}r.jStorage=a}h();g();k()}function b(){var b;clearTimeout(v);v=setTimeout(function(){if("localStorage"==u||"globalStorage"==u)b=r.jStorage_update;else if("userDataBehavior"==u){q.load("jStorage");try{b=q.getAttribute("jStorage_update")}catch(d){}}if(b&&b!=x){x=b;var e=m.parse(m.stringify(n.__jstorage_meta.CRC32)),f;c();f=m.parse(m.stringify(n.__jstorage_meta.CRC32));var g,h=[],k=[];for(g in e)e.hasOwnProperty(g)&&(f[g]?e[g]!=f[g]&&"2."==String(e[g]).substr(0,2)&&h.push(g):k.push(g));for(g in f)f.hasOwnProperty(g)&&(e[g]||h.push(g));a(h,"updated");a(k,"deleted")}},25)}function a(a,b){a=[].concat(a||[]);if("flushed"==b){a=[];for(var c in w)w.hasOwnProperty(c)&&a.push(c);b="deleted"}c=0;for(var d=a.length;c<d;c++){if(w[a[c]])for(var e=0,f=w[a[c]].length;e<f;e++)w[a[c]][e](a[c],b);if(w["*"])for(e=0,f=w["*"].length;e<f;e++)w["*"][e](a[c],b)}}function d(){var a=(+new Date).toString();if("localStorage"==u||"globalStorage"==u)try{r.jStorage_update=a}catch(c){u=!1}else"userDataBehavior"==u&&(q.setAttribute("jStorage_update",a),q.save("jStorage"));b()}function h(){if(r.jStorage)try{n=m.parse(String(r.jStorage))}catch(a){r.jStorage="{}"}else r.jStorage="{}";t=r.jStorage?String(r.jStorage).length:0;n.__jstorage_meta||(n.__jstorage_meta={});n.__jstorage_meta.CRC32||(n.__jstorage_meta.CRC32={})}function f(){if(n.__jstorage_meta.PubSub){for(var a=+new Date-2E3,b=0,c=n.__jstorage_meta.PubSub.length;b<c;b++)if(n.__jstorage_meta.PubSub[b][0]<=a){n.__jstorage_meta.PubSub.splice(b,n.__jstorage_meta.PubSub.length-b);break}n.__jstorage_meta.PubSub.length||delete n.__jstorage_meta.PubSub}try{r.jStorage=m.stringify(n),q&&(q.setAttribute("jStorage",r.jStorage),q.save("jStorage")),t=r.jStorage?String(r.jStorage).length:0}catch(d){}}function e(a){if("string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function g(){var b,c,e,h,k=Infinity,l=!1,m=[];clearTimeout(p);if(n.__jstorage_meta&&"object"==typeof n.__jstorage_meta.TTL){b=+new Date;e=n.__jstorage_meta.TTL;h=n.__jstorage_meta.CRC32;for(c in e)e.hasOwnProperty(c)&&(e[c]<=b?(delete e[c],delete h[c],delete n[c],l=!0,m.push(c)):e[c]<k&&(k=e[c]));Infinity!=k&&(p=setTimeout(Math.min(g,k-b,2147483647)));l&&(f(),d(),a(m,"deleted"))}}function k(){var a;if(n.__jstorage_meta.PubSub){var b,c=B;for(a=n.__jstorage_meta.PubSub.length-1;0<=a;a--)if(b=n.__jstorage_meta.PubSub[a],b[0]>B){var c=b[0],d=b[1];b=b[2];if(y[d])for(var e=0,f=y[d].length;e<f;e++)try{y[d][e](d,m.parse(m.stringify(b)))}catch(g){}}B=c}}var l=window.jQuery||window.$||(window.$={}),m={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||l.parseJSON||l.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||l.toJSON};if(!("parse"in m&&"stringify"in m))throw Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var n={__jstorage_meta:{CRC32:{}}},r={jStorage:"{}"},q=null,t=0,u=!1,w={},v=!1,x=0,y={},B=+new Date,p,z={isXML:function(a){return(a=(a?a.ownerDocument||a:0).documentElement)?"HTML"!==a.nodeName:!1},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(c){}}return!1},decode:function(a){var b="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b},c;return b?(c=b.call("DOMParser"in window&&new DOMParser||window,a,"text/xml"),this.isXML(c)?c:!1):!1}};l.jStorage={version:"0.4.8",set:function(b,c,d){e(b);d=d||{};if("undefined"==typeof c)return this.deleteKey(b),c;if(z.isXML(c))c={_is_xml:!0,xml:z.encode(c)};else{if("function"==typeof c)return;c&&"object"==typeof c&&(c=m.parse(m.stringify(c)))}n[b]=c;var f=n.__jstorage_meta.CRC32,g;g=m.stringify(c);for(var h=g.length,k=2538058380^h,l=0,p;4<=h;)p=g.charCodeAt(l)&255|(g.charCodeAt(++l)&255)<<8|(g.charCodeAt(++l)&255)<<16|(g.charCodeAt(++l)&255)<<24,p=1540483477*(p&65535)+((1540483477*(p>>>16)&65535)<<16),p^=p>>>24,p=1540483477*(p&65535)+((1540483477*(p>>>16)&65535)<<16),k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)^p,h-=4,++l;switch(h){case 3:k^=(g.charCodeAt(l+2)&255)<<16;case 2:k^=(g.charCodeAt(l+1)&255)<<8;case 1:k^=g.charCodeAt(l)&255,k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16)}g=(k^=k>>>13,k=1540483477*(k&65535)+((1540483477*(k>>>16)&65535)<<16),k^=k>>>15,k>>>0);return f[b]="2."+g,this.setTTL(b,d.TTL||0),a(b,"updated"),c},get:function(a,b){return e(a),a in n?n[a]&&"object"==typeof n[a]&&n[a]._is_xml?z.decode(n[a].xml):n[a]:"undefined"==typeof b?null:b},deleteKey:function(b){return e(b),b in n?(delete n[b],"object"==typeof n.__jstorage_meta.TTL&&b in n.__jstorage_meta.TTL&&delete n.__jstorage_meta.TTL[b],delete n.__jstorage_meta.CRC32[b],f(),d(),a(b,"deleted"),!0):!1},setTTL:function(a,b){var c=+new Date;return e(a),b=Number(b)||0,a in n?(n.__jstorage_meta.TTL||(n.__jstorage_meta.TTL={}),0<b?n.__jstorage_meta.TTL[a]=c+b:delete n.__jstorage_meta.TTL[a],f(),g(),d(),!0):!1},getTTL:function(a){var b=+new Date,c;return e(a),a in n&&n.__jstorage_meta.TTL&&n.__jstorage_meta.TTL[a]?(c=n.__jstorage_meta.TTL[a]-b,c||0):0},flush:function(){return n={__jstorage_meta:{CRC32:{}}},f(),d(),a(null,"flushed"),!0},storageObj:function(){function a(){}return a.prototype=n,new a},index:function(){var a=[],b;for(b in n)n.hasOwnProperty(b)&&"__jstorage_meta"!=b&&a.push(b);return a},storageSize:function(){return t},currentBackend:function(){return u},storageAvailable:function(){return!!u},listenKeyChange:function(a,b){e(a);w[a]||(w[a]=[]);w[a].push(b)},stopListening:function(a,b){e(a);if(w[a])if(b)for(var c=w[a].length-1;0<=c;c--)w[a][c]==b&&w[a].splice(c,1);else delete w[a]},subscribe:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");y[a]||(y[a]=[]);y[a].push(b)},publish:function(a,b){a=(a||"").toString();if(!a)throw new TypeError("Channel not defined");n.__jstorage_meta||(n.__jstorage_meta={});n.__jstorage_meta.PubSub||(n.__jstorage_meta.PubSub=[]);n.__jstorage_meta.PubSub.unshift([+new Date,a,b]);f();d()},reInit:function(){c()},noConflict:function(a){return delete window.$.jStorage,a&&(window.jStorage=this),this}};(function(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(c){}if(a)try{window.localStorage&&(r=window.localStorage,u="localStorage",x=r.jStorage_update)}catch(c){}else if("globalStorage"in window)try{window.globalStorage&&("localhost"==window.location.hostname?r=window.globalStorage["localhost.localdomain"]:r=window.globalStorage[window.location.hostname],u="globalStorage",x=r.jStorage_update)}catch(c){}else{q=document.createElement("link");if(!q.addBehavior){q=null;return}q.style.behavior="url(#default#userData)";document.getElementsByTagName("head")[0].appendChild(q);try{q.load("jStorage")}catch(c){q.setAttribute("jStorage","{}"),q.save("jStorage"),q.load("jStorage")}a="{}";try{a=q.getAttribute("jStorage")}catch(c){}try{x=q.getAttribute("jStorage_update")}catch(c){}r.jStorage=a;u="userDataBehavior"}h();g();"localStorage"==u||"globalStorage"==u?"addEventListener"in window?window.addEventListener("storage",b,!1):document.attachEvent("onstorage",b):"userDataBehavior"==u&&setInterval(b,1E3);k();"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&b()},!1)})()})();define("jstorage",function(c){return function(){return c.$}}(this));define("Storage",["require","jstorage"],function(c){var b=c("jstorage").jStorage;c=function(a){this._prefix=a;this._available=b.storageAvailable()};var a=c.prototype;return a.get=function(a){return this._available?b.get(this._prefix+a):null},a.set=function(a,c){this._available&&b.set(this._prefix+a,c)},a.del=function(a){this._available&&b.deleteKey(this._prefix+a)},a.clear=function(){if(this._available)for(var a=b.index(),c=a.length;c--;){var f=a[c];f.substr(0,this._prefix.length)==this._prefix&&b.deleteKey(f)}},a._prefix="",a._available=!0,c});define("text",["module"],function(c){var b,a,d,h,f,e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],g=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,k=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,l="undefined"!=typeof location&&location.href,m=l&&location.protocol&&location.protocol.replace(/\:/,""),n=l&&location.hostname,r=l&&(location.port||void 0),q={},t=c.config&&c.config()||{};b={version:"2.0.12",strip:function(a){if(a){a=a.replace(g,"");var b=a.match(k);b&&(a=b[1])}else a="";return a},jsEscape:function(a){return a.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:t.createXhr||function(){var a,b,c;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(b=0;3>b;b+=1){c=e[b];try{a=new ActiveXObject(c)}catch(d){}if(a){e=[c];break}}return a},parseName:function(a){var b,c,d,e=!1,f=a.indexOf("."),g=0===a.indexOf("./")||0===a.indexOf("../");return-1!==f&&(!g||1<f)?(b=a.substring(0,f),c=a.substring(f+1,a.length)):b=a,d=c||b,f=d.indexOf("!"),-1!==f&&(e="strip"===d.substring(f+1),d=d.substring(0,f),c?c=d:b=d),{moduleName:b,ext:c,strip:e}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(a,c,d,e){var f,g,h;return(a=b.xdRegExp.exec(a))?(f=a[2],g=a[3],g=g.split(":"),h=g[1],g=g[0],(!f||f===c)&&(!g||g.toLowerCase()===d.toLowerCase())&&(!h&&!g||h===e)):!0},finishLoad:function(a,c,d,e){d=c?b.strip(d):d;t.isBuild&&(q[a]=d);e(d)},load:function(a,c,d,e){if(e&&e.isBuild&&!e.inlineText)d();else{t.isBuild=e&&e.isBuild;var f=b.parseName(a);e=f.moduleName+(f.ext?"."+f.ext:"");var g=c.toUrl(e),h=t.useXhr||b.useXhr;0===g.indexOf("empty:")?d():!l||h(g,m,n,r)?b.get(g,function(c){b.finishLoad(a,f.strip,c,d)},function(a){d.error&&d.error(a)}):c([e],function(a){b.finishLoad(f.moduleName+"."+f.ext,f.strip,a,d)})}},write:function(a,c,d,e){q.hasOwnProperty(c)&&(e=b.jsEscape(q[c]),d.asModule(a+"!"+c,"define(function () { return '"+e+"';});\n"))},writeFile:function(a,c,d,e,f){c=b.parseName(c);var g=c.ext?"."+c.ext:"",h=c.moduleName+g,k=d.toUrl(c.moduleName+g)+".js";b.load(h,d,function(c){c=function(a){return e(k,a)};c.asModule=function(a,b){return e.asModule(a,k,b)};b.write(a,h,c,f)},f)}};if("node"===t.env||!t.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"])a=require.nodeRequire("fs"),b.get=function(b,c,d){try{var e=a.readFileSync(b,"utf8");0===e.indexOf("\ufeff")&&(e=e.substring(1));c(e)}catch(f){d&&d(f)}};else if("xhr"===t.env||!t.env&&b.createXhr())b.get=function(a,c,d,e){var f=b.createXhr(),g;f.open("GET",a,!0);if(e)for(g in e)e.hasOwnProperty(g)&&f.setRequestHeader(g.toLowerCase(),e[g]);t.onXhr&&t.onXhr(f,a);f.onreadystatechange=function(b){var e,g;4===f.readyState&&(e=f.status||0,399<e&&600>e?(g=Error(a+" HTTP status: "+e),g.xhr=f,d&&d(g)):c(f.responseText),t.onXhrComplete&&t.onXhrComplete(f,a))};f.send(null)};else if("rhino"===t.env||!t.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java)b.get=function(a,b){var c,d,e=new java.io.File(a),f=java.lang.System.getProperty("line.separator"),e=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(e),"utf-8")),g="";try{c=new java.lang.StringBuffer;(d=e.readLine())&&d.length()&&65279===d.charAt(0)&&(d=d.substring(1));for(null!==d&&c.append(d);null!==(d=e.readLine());)c.append(f),c.append(d);g=String(c.toString())}finally{e.close()}b(g)};else if("xpconnect"===t.env||!t.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)d=Components.classes,h=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),f="@mozilla.org/windows-registry-key;1"in d,b.get=function(a,b){var c,e,g,k={};f&&(a=a.replace(/\//g,"\\"));g=new FileUtils.File(a);try{c=d["@mozilla.org/network/file-input-stream;1"].createInstance(h.nsIFileInputStream),c.init(g,1,0,!1),e=d["@mozilla.org/intl/converter-input-stream;1"].createInstance(h.nsIConverterInputStream),e.init(c,"utf-8",c.available(),h.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),e.readString(c.available(),k),e.close(),c.close(),b(k.value)}catch(l){throw Error((g&&g.path||"")+": "+l);}};return b});define("text!screens/../../game_assets/gfx/font.json",[],function(){return'{\r\n    "info": {\r\n        "face": "font",\r\n        "size": 32,\r\n        "bold": 0,\r\n        "italic": 0,\r\n        "charset": 0,\r\n        "unicode": 0,\r\n        "stretchH": 100,\r\n        "smooth": 1,\r\n        "aa": 1,\r\n        "padding": "0,0,0,0",\r\n        "spacing": "1,1"\r\n    },\r\n    "common": {\r\n        "lineHeight": 103,\r\n        "base": 26,\r\n        "scaleW": 256,\r\n        "scaleH": 256,\r\n        "pages": 1,\r\n        "packed": 0,\r\n        "alphaChnl": 1,\r\n        "redChnl": 0,\r\n        "greenChnl": 0,\r\n        "blueChnl": 0\r\n    },\r\n    "page": {\r\n        "id": 0,\r\n        "file": "font.png"\r\n    },\r\n    "chars": {\r\n        "count": 12,\r\n        "data": [\r\n            {\r\n                "id": 49,\r\n                "x": 156,\r\n                "y": 72,\r\n                "width": 30,\r\n                "height": 68,\r\n                "xoffset": 0,\r\n                "yoffset": 34,\r\n                "xadvance": 30,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 1\r\n            },\r\n            {\r\n                "id": 50,\r\n                "x": 57,\r\n                "y": 0,\r\n                "width": 51,\r\n                "height": 69,\r\n                "xoffset": 0,\r\n                "yoffset": 33,\r\n                "xadvance": 51,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 2\r\n            },\r\n            {\r\n                "id": 51,\r\n                "x": 109,\r\n                "y": 0,\r\n                "width": 49,\r\n                "height": 71,\r\n                "xoffset": 0,\r\n                "yoffset": 34,\r\n                "xadvance": 49,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 3\r\n            },\r\n            {\r\n                "id": 52,\r\n                "x": 54,\r\n                "y": 73,\r\n                "width": 52,\r\n                "height": 67,\r\n                "xoffset": 0,\r\n                "yoffset": 35,\r\n                "xadvance": 52,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 4\r\n            },\r\n            {\r\n                "id": 53,\r\n                "x": 107,\r\n                "y": 72,\r\n                "width": 48,\r\n                "height": 68,\r\n                "xoffset": 0,\r\n                "yoffset": 35,\r\n                "xadvance": 48,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 5\r\n            },\r\n            {\r\n                "id": 54,\r\n                "x": 53,\r\n                "y": 143,\r\n                "width": 52,\r\n                "height": 70,\r\n                "xoffset": 0,\r\n                "yoffset": 33,\r\n                "xadvance": 52,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 6\r\n            },\r\n            {\r\n                "id": 55,\r\n                "x": 106,\r\n                "y": 141,\r\n                "width": 51,\r\n                "height": 67,\r\n                "xoffset": 0,\r\n                "yoffset": 35,\r\n                "xadvance": 51,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 7\r\n            },\r\n            {\r\n                "id": 56,\r\n                "x": 0,\r\n                "y": 73,\r\n                "width": 53,\r\n                "height": 69,\r\n                "xoffset": 0,\r\n                "yoffset": 34,\r\n                "xadvance": 53,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 8\r\n            },\r\n            {\r\n                "id": 57,\r\n                "x": 0,\r\n                "y": 143,\r\n                "width": 52,\r\n                "height": 69,\r\n                "xoffset": 0,\r\n                "yoffset": 34,\r\n                "xadvance": 52,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 9\r\n            },\r\n            {\r\n                "id": 48,\r\n                "x": 0,\r\n                "y": 0,\r\n                "width": 56,\r\n                "height": 72,\r\n                "xoffset": 0,\r\n                "yoffset": 31,\r\n                "xadvance": 56,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 0\r\n            }\r\n        ]\r\n    },\r\n    "kernings": {\r\n        "count": 0,\r\n        "data": []\r\n    }\r\n}'});define("text!screens/../../game_assets/gfx/gfx.atlas.json",[],function(){return'{"frames": {\r\n\r\n"background0000":\r\n{\r\n\t"frame": {"x":1,"y":1,"w":351,"h":401},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":351,"h":401},\r\n\t"sourceSize": {"w":351,"h":401}\r\n},\r\n"bestSign0000":\r\n{\r\n\t"frame": {"x":221,"y":403,"w":119,"h":42},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":119,"h":42},\r\n\t"sourceSize": {"w":119,"h":42}\r\n},\r\n"bigPlatformEndSegment0000":\r\n{\r\n\t"frame": {"x":814,"y":1,"w":192,"h":196},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":192,"h":196},\r\n\t"sourceSize": {"w":192,"h":196}\r\n},\r\n"bigPlatformMiddleSegment0000":\r\n{\r\n\t"frame": {"x":827,"y":198,"w":177,"h":196},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":177,"h":196},\r\n\t"sourceSize": {"w":177,"h":196}\r\n},\r\n"bigPlayButton0000":\r\n{\r\n\t"frame": {"x":353,"y":285,"w":162,"h":164},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":162,"h":164},\r\n\t"sourceSize": {"w":162,"h":164}\r\n},\r\n"gameOverSign0000":\r\n{\r\n\t"frame": {"x":353,"y":210,"w":473,"h":74},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":473,"h":74},\r\n\t"sourceSize": {"w":473,"h":74}\r\n},\r\n"hero0000":\r\n{\r\n\t"frame": {"x":604,"y":285,"w":84,"h":84},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":84,"h":84},\r\n\t"sourceSize": {"w":84,"h":84}\r\n},\r\n"infoButton0000":\r\n{\r\n\t"frame": {"x":890,"y":395,"w":109,"h":111},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":109,"h":111},\r\n\t"sourceSize": {"w":109,"h":111}\r\n},\r\n"logo0000":\r\n{\r\n\t"frame": {"x":353,"y":1,"w":460,"h":208},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":460,"h":208},\r\n\t"sourceSize": {"w":460,"h":208}\r\n},\r\n"muteButton0000":\r\n{\r\n\t"frame": {"x":1,"y":403,"w":109,"h":111},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":109,"h":111},\r\n\t"sourceSize": {"w":109,"h":111}\r\n},\r\n"pauseButton0000":\r\n{\r\n\t"frame": {"x":516,"y":285,"w":87,"h":88},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":87,"h":88},\r\n\t"sourceSize": {"w":87,"h":88}\r\n},\r\n"platform0000":\r\n{\r\n\t"frame": {"x":221,"y":446,"w":104,"h":39},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":104,"h":39},\r\n\t"sourceSize": {"w":104,"h":39}\r\n},\r\n"progressBarBackground0000":\r\n{\r\n\t"frame": {"x":604,"y":370,"w":124,"h":24},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":124,"h":24},\r\n\t"sourceSize": {"w":124,"h":24}\r\n},\r\n"progressBarForeground0000":\r\n{\r\n\t"frame": {"x":1007,"y":1,"w":12,"h":12},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":12,"h":12},\r\n\t"sourceSize": {"w":12,"h":12}\r\n},\r\n"scoreSign0000":\r\n{\r\n\t"frame": {"x":516,"y":438,"w":154,"h":40},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":154,"h":40},\r\n\t"sourceSize": {"w":154,"h":40}\r\n},\r\n"scoreSignSmall0000":\r\n{\r\n\t"frame": {"x":729,"y":285,"w":86,"h":23},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":86,"h":23},\r\n\t"sourceSize": {"w":86,"h":23}\r\n},\r\n"tapToContinueSign0000":\r\n{\r\n\t"frame": {"x":516,"y":395,"w":373,"h":42},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":373,"h":42},\r\n\t"sourceSize": {"w":373,"h":42}\r\n},\r\n"unmuteButton0000":\r\n{\r\n\t"frame": {"x":111,"y":403,"w":109,"h":111},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":109,"h":111},\r\n\t"sourceSize": {"w":109,"h":111}\r\n}},\r\n"meta": {\r\n\t"app": "Adobe Flash Professional",\r\n\t"version": "13.0.0.759",\r\n\t"image": "gfx.atlas.png",\r\n\t"format": "RGBA8888",\r\n\t"size": {"w":1024,"h":1024},\r\n\t"scale": "1"\r\n}\r\n}\r\n'});define("text!screens/../../game_assets/gfx/smallDigits.json",[],function(){return'{\r\n    "info": {\r\n        "face": "font",\r\n        "size": 32,\r\n        "bold": 0,\r\n        "italic": 0,\r\n        "charset": 0,\r\n        "unicode": 0,\r\n        "stretchH": 100,\r\n        "smooth": 1,\r\n        "aa": 1,\r\n        "padding": "0,0,0,0",\r\n        "spacing": "1,1"\r\n    },\r\n    "common": {\r\n        "lineHeight": 103,\r\n        "base": 26,\r\n        "scaleW": 128,\r\n        "scaleH": 256,\r\n        "pages": 1,\r\n        "packed": 0,\r\n        "alphaChnl": 1,\r\n        "redChnl": 0,\r\n        "greenChnl": 0,\r\n        "blueChnl": 0\r\n    },\r\n    "page": {\r\n        "id": 0,\r\n        "file": "font.png"\r\n    },\r\n    "chars": {\r\n        "count": 12,\r\n        "data": [\r\n            {\r\n                "id": 49,\r\n                "x": 39,\r\n                "y": 0,\r\n                "width": 22,\r\n                "height": 46,\r\n                "xoffset": 0,\r\n                "yoffset": 56,\r\n                "xadvance": 22,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 1\r\n            },\r\n            {\r\n                "id": 50,\r\n                "x": 36,\r\n                "y": 194,\r\n                "width": 35,\r\n                "height": 47,\r\n                "xoffset": 0,\r\n                "yoffset": 55,\r\n                "xadvance": 35,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 2\r\n            },\r\n            {\r\n                "id": 51,\r\n                "x": 37,\r\n                "y": 144,\r\n                "width": 34,\r\n                "height": 48,\r\n                "xoffset": 0,\r\n                "yoffset": 56,\r\n                "xadvance": 34,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 3\r\n            },\r\n            {\r\n                "id": 52,\r\n                "x": 0,\r\n                "y": 194,\r\n                "width": 35,\r\n                "height": 45,\r\n                "xoffset": 0,\r\n                "yoffset": 57,\r\n                "xadvance": 35,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 4\r\n            },\r\n            {\r\n                "id": 53,\r\n                "x": 38,\r\n                "y": 50,\r\n                "width": 33,\r\n                "height": 46,\r\n                "xoffset": 0,\r\n                "yoffset": 57,\r\n                "xadvance": 33,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 5\r\n            },\r\n            {\r\n                "id": 54,\r\n                "x": 0,\r\n                "y": 146,\r\n                "width": 36,\r\n                "height": 47,\r\n                "xoffset": 0,\r\n                "yoffset": 56,\r\n                "xadvance": 36,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 6\r\n            },\r\n            {\r\n                "id": 55,\r\n                "x": 37,\r\n                "y": 98,\r\n                "width": 34,\r\n                "height": 45,\r\n                "xoffset": 0,\r\n                "yoffset": 57,\r\n                "xadvance": 34,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 7\r\n            },\r\n            {\r\n                "id": 56,\r\n                "x": 0,\r\n                "y": 50,\r\n                "width": 37,\r\n                "height": 47,\r\n                "xoffset": 0,\r\n                "yoffset": 56,\r\n                "xadvance": 37,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 8\r\n            },\r\n            {\r\n                "id": 57,\r\n                "x": 0,\r\n                "y": 98,\r\n                "width": 36,\r\n                "height": 47,\r\n                "xoffset": 0,\r\n                "yoffset": 56,\r\n                "xadvance": 36,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 9\r\n            },\r\n            {\r\n                "id": 48,\r\n                "x": 0,\r\n                "y": 0,\r\n                "width": 38,\r\n                "height": 49,\r\n                "xoffset": 0,\r\n                "yoffset": 54,\r\n                "xadvance": 38,\r\n                "page": 0,\r\n                "chnl": 0,\r\n                "letter": 0\r\n            }\r\n        ]\r\n    },\r\n    "kernings": {\r\n        "count": 0,\r\n        "data": []\r\n    }\r\n}'});define("text!screens/../../game_assets/gfx/waterAnim.json",[],function(){return'{"frames": {\r\n\r\n"waterAnim0000":\r\n{\r\n\t"frame": {"x":2,"y":2,"w":186,"h":110},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":186,"h":110},\r\n\t"sourceSize": {"w":186,"h":110}\r\n},\r\n"waterAnim0001":\r\n{\r\n\t"frame": {"x":190,"y":2,"w":186,"h":110},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":186,"h":110},\r\n\t"sourceSize": {"w":186,"h":110}\r\n},\r\n"waterAnim0002":\r\n{\r\n\t"frame": {"x":2,"y":114,"w":186,"h":110},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":186,"h":110},\r\n\t"sourceSize": {"w":186,"h":110}\r\n},\r\n"waterAnim0003":\r\n{\r\n\t"frame": {"x":190,"y":114,"w":186,"h":110},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":186,"h":110},\r\n\t"sourceSize": {"w":186,"h":110}\r\n},\r\n"waterAnim0004":\r\n{\r\n\t"frame": {"x":2,"y":226,"w":186,"h":110},\r\n\t"rotated": false,\r\n\t"trimmed": false,\r\n\t"spriteSourceSize": {"x":0,"y":0,"w":186,"h":110},\r\n\t"sourceSize": {"w":186,"h":110}\r\n}},\r\n"meta": {\r\n\t"app": "Adobe Flash Professional",\r\n\t"version": "13.1.0.217",\r\n\t"image": "waterAnim.png",\r\n\t"format": "RGBA8888",\r\n\t"size": {"w":512,"h":512},\r\n\t"scale": "1"\r\n}\r\n}\r\n'});define("screens/ScreenController","require screens/MainMenuScreen screens/GameScreen screens/PreloadingScreen ScreenController prld gameAssets assetStorage gui/Button cjs soundjs tweenjs Storage ScaleUtils screenSize soundjs text!../../game_assets/gfx/font.json text!../../game_assets/gfx/gfx.atlas.json text!../../game_assets/gfx/smallDigits.json text!../../game_assets/gfx/waterAnim.json".split(" "),function(c){var b=c("screens/MainMenuScreen"),a=c("screens/GameScreen"),d=c("screens/PreloadingScreen"),h=c("ScreenController"),f=c("prld"),e=c("gameAssets"),g=c("assetStorage"),k=c("gui/Button"),l=c("cjs"),m=c("soundjs"),n=c("tweenjs"),r=c("Storage"),q=c("ScaleUtils"),t=c("screenSize"),m=c("soundjs"),u=c("text!../../game_assets/gfx/font.json"),w=c("text!../../game_assets/gfx/gfx.atlas.json"),v=c("text!../../game_assets/gfx/smallDigits.json"),x=c("text!../../game_assets/gfx/waterAnim.json");c=function(c,e){this._view=new l.Container;this._fade=this._createFadeShape();h.call(this,this._view);this.setupTicker();var n=new r("jumpingFrog");m.Sound.initializeDefaultPlugins();m.Sound.alternateExtensions=["ogg"];this._gameStage=new l.Stage(e);this._gameStage.enableMouseOver(20);createjs.Touch.enable(this._gameStage);this._gameStage.snapToPixelEnabled=!1;this._gameStage.addChild(this._view);this._gameStage.addChild(this._fade);this._backgroundStage=new l.Stage(c);this._backgroundStage.mouseEnabled=!1;this._backgroundStage.mouseChildren=!1;var q=new f.LoadQueue(!1,"game_assets/",!1);q.installPlugin(m.Sound);q.loadManifest(this.createManifest());q.on("fileload",function(a){g.add(a.result,a.item.id,!1)});q.on("complete",function(a){g.add(JSON.parse(u.toString()),"gfx/font.json",!1);g.add(JSON.parse(w.toString()),"gfx/gfx.atlas.json",!1);g.add(JSON.parse(v.toString()),"gfx/smallDigits.json",!1);g.add(JSON.parse(x.toString()),"gfx/waterAnim.json",!1)});this.setScreens({mainMenuScreen:new b,gameScreen:new a(this._gameStage,n),preloadingScreen:new d(q,{x:0,y:0,width:t.width,height:t.height})});this.goToScreen("preloadingScreen");this._gameStage.on("mouseover",function(a){a=a.target;a instanceof k&&(a.scaleX=a.scaleY=1.05)});this._gameStage.on("mouseout",function(a){a=a.target;a instanceof k&&(a.scaleX=a.scaleY=1)});this._gameStage.on("click",function(a){a.target instanceof k&&m.Sound.play("sfx/buttontap.mp3")})};var y=c.prototype=Object.create(h.prototype);return y.constructor=c,y.setupTicker=function(){l.Ticker.timingMode=l.Ticker.RAF;l.Ticker.setFPS(30);l.Ticker.on("tick",function(a){this._gameStage.update(a)},this)},y.createManifest=function(){var a=[],b;for(b in e)e.hasOwnProperty(b)&&a.push({src:e[b],id:e[b]});return a},y._BaseScreenController_pushScreen=y._pushScreen,y._pushScreen=function(a){"preloadingScreen"==a.getName()?this._BaseScreenController_pushScreen(a):(this._fade.visible=!0,this._fade.alpha=0,n.Tween.get(this._fade).to({alpha:1},100).call(function(a){this.getActiveScreen()&&"preloadingScreen"==this.getActiveScreen().getName()&&(this._showBackground(),m.Sound.play("sfx/theme.mp3",{loop:-1}));this._BaseScreenController_pushScreen(a);n.Tween.get(this._fade).to({alpha:0},100).call(function(){this._fade.visible=!1},null,this)},[a],this))},y._createFadeShape=function(){var a=new l.Shape;return a.graphics.beginFill("#000000").drawRect(0,0,t.width,t.height),a.alpha=0,a},y._showBackground=function(){var a=g.getBitmap("gfx/background.png"),b=a.getBounds(),c=q.fill(b.width,b.height,t.width,t.height);a.scaleX=a.scaleY=c.width/b.width;a.x=(t.width-c.width)/2;a.y=t.height-c.height;this._backgroundStage.addChild(a);this._backgroundStage.update()},c});define("domReady",[],function(){function c(){if(!e){e=!0;h&&clearInterval(h);var a=k;if(e&&a.length){k=[];var b;for(b=0;b<a.length;b+=1)a[b](g)}}}function b(a){return e?a(g):k.push(a),b}var a,d,h,f="undefined"!=typeof window&&window.document,e=!f,g=f?document:null,k=[];if(f){if(document.addEventListener)document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1);else if(window.attachEvent){window.attachEvent("onload",c);d=document.createElement("div");try{a=null===window.frameElement}catch(l){}d.doScroll&&a&&window.external&&(h=setInterval(function(){try{d.doScroll(),c()}catch(a){}},30))}"complete"===document.readyState&&c()}return b.version="2.0.1",b.load=function(a,c,d,e){e.isBuild?d(null):b(d)},b});var Stats=function(){var c=Date.now(),b=c,a=0,d=Infinity,h=0,f=0,e=Infinity,g=0,k=0,l=0,m=document.createElement("div");m.id="stats";m.addEventListener("mousedown",function(a){a.preventDefault();x(++l%2)},!1);m.style.cssText="width:80px;opacity:0.9;cursor:pointer";var n=document.createElement("div");n.id="fps";n.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";m.appendChild(n);var r=document.createElement("div");r.id="fpsText";r.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";r.innerHTML="FPS";n.appendChild(r);var q=document.createElement("div");q.id="fpsGraph";q.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(n.appendChild(q);74>q.children.length;){var t=document.createElement("span");t.style.cssText="width:1px;height:30px;float:left;background-color:#113";q.appendChild(t)}var u=document.createElement("div");u.id="ms";u.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";m.appendChild(u);var w=document.createElement("div");w.id="msText";w.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";w.innerHTML="MS";u.appendChild(w);var v=document.createElement("div");v.id="msGraph";v.style.cssText="position:relative;width:74px;height:30px;background-color:#0f0";for(u.appendChild(v);74>v.children.length;)t=document.createElement("span"),t.style.cssText="width:1px;height:30px;float:left;background-color:#131",v.appendChild(t);var x=function(a){l=a;switch(l){case 0:n.style.display="block";u.style.display="none";break;case 1:n.style.display="none",u.style.display="block"}};return{REVISION:11,domElement:m,setMode:x,begin:function(){c=Date.now()},end:function(){var l=Date.now();a=l-c;d=Math.min(d,a);h=Math.max(h,a);w.textContent=a+" MS ("+d+"-"+h+")";var m=Math.min(30,30-a/200*30);v.appendChild(v.firstChild).style.height=m+"px";k++;l>b+1E3&&(f=Math.round(1E3*k/(l-b)),e=Math.min(e,f),g=Math.max(g,f),r.textContent=f+" FPS ("+e+"-"+g+")",m=Math.min(30,30-f/100*30),q.appendChild(q.firstChild).style.height=m+"px",b=l,k=0);return l},update:function(){c=this.end()}}};define("Stats",function(c){return function(){return c.Stats}}(this));require.config({enforceDefine:!0,shim:{cjs:{exports:"createjs"},prld:{exports:"createjs"},underscore:{exports:"_"},tweenjs:{exports:"createjs"},viewporter:{exports:"viewporter"},soundjs:{exports:"createjs"},Stats:{exports:"Stats"},jstorage:{exports:"$"},wuki:{exports:"admeen"}},paths:{cjs:"vendor/easeljs-0.7.1.combined",prld:"vendor/preloadjs-0.4.1.min",underscore:"vendor/underscore-min",viewporter:"vendor/viewporter",tweenjs:"vendor/tweenjs-0.5.1.min",soundjs:"vendor/soundjs-0.5.2.min",Stats:"vendor/Stats",jstorage:"vendor/jstorage",domReady:"vendor/domReady",text:"vendor/text",wuki:"./api"}});define("Main","require viewporter screens/ScreenController domReady! cjs Stats screenSize wuki".split(" "),function(c){function b(a,b,c){var d=document.createElement("canvas");return d.width=a,d.height=b,c&&c.appendChild(d),d}function a(){var a=e,b=k,c=window.innerWidth,d=window.innerHeight;c/d>b?c=d*b:d=c/b;a.style.width=c+"px";a.style.height=d+"px";a.style.left=(window.innerWidth-c)/2+"px";a.style.top=(window.innerHeight-d)/2+"px"}var d=c("viewporter"),h=c("screens/ScreenController");c("domReady!");c("cjs");c("Stats");var f=c("screenSize");c("wuki")("init",{name:"Jumping Rock"});window.addEventListener("load",function(){function a(b){b.preventDefault()}document.addEventListener("touchmove",a,!1);document.addEventListener("touchstart",a,!1)},!1);document.addEventListener("touchmove",function(a){a.preventDefault()},!1);document.addEventListener("touchstart",function(a){a.preventDefault()},!1);f.setUp(700,800,875,1E3);var e=document.getElementById("canvasHolder");c=b(f.width,f.height,e);var g=b(f.width,f.height,e);new h(c,g,null);d.ACTIVE?(window.addEventListener("viewportready",a),window.addEventListener("viewportchange",a),window.addEventListener("resize",d.refresh),window.addEventListener("orientationchange",d.refresh)):(window.addEventListener("resize",a,!1),window.addEventListener("orientationchange",a,!1),a());var k=f.getRatio();a()});